/*! For license information please see LICENSES */
(window.webpackJsonp = window.webpackJsonp || []).push([
  [9],
  [
    ,
    function (t, e, r) {
      "use strict";
      (r.d(e, "d", function () {
        return E;
      }),
        r.d(e, "l", function () {
          return D;
        }),
        r.d(e, "n", function () {
          return T;
        }),
        r.d(e, "m", function () {
          return S;
        }),
        r.d(e, "f", function () {
          return _;
        }),
        r.d(e, "b", function () {
          return w;
        }),
        r.d(e, "s", function () {
          return A;
        }),
        r.d(e, "h", function () {
          return x;
        }),
        r.d(e, "i", function () {
          return L;
        }),
        r.d(e, "e", function () {
          return k;
        }),
        r.d(e, "r", function () {
          return C;
        }),
        r.d(e, "k", function () {
          return R;
        }),
        r.d(e, "t", function () {
          return I;
        }),
        r.d(e, "o", function () {
          return F;
        }),
        r.d(e, "q", function () {
          return M;
        }),
        r.d(e, "g", function () {
          return N;
        }),
        r.d(e, "c", function () {
          return B;
        }),
        r.d(e, "j", function () {
          return U;
        }),
        r.d(e, "p", function () {
          return j;
        }),
        r.d(e, "a", function () {
          return z;
        }),
        r.d(e, "v", function () {
          return W;
        }),
        r.d(e, "u", function () {
          return X;
        }));
      (r(90), r(25), r(60), r(96), r(41), r(18), r(42));
      var n = r(24),
        o = r(11),
        l = r(12),
        c = r(29),
        h =
          (r(57),
          r(7),
          r(26),
          r(356),
          r(38),
          r(33),
          r(50),
          r(30),
          r(51),
          r(45),
          r(66),
          r(37),
          r(58),
          r(122),
          r(238),
          r(360),
          r(123),
          r(139),
          r(362),
          r(21),
          r(49),
          r(0)),
        d = r(23);
      function f(object, t) {
        var e = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var r = Object.getOwnPropertySymbols(object);
          (t &&
            (r = r.filter(function (t) {
              return Object.getOwnPropertyDescriptor(object, t).enumerable;
            })),
            e.push.apply(e, r));
        }
        return e;
      }
      function m(t) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2
            ? f(Object(source), !0).forEach(function (e) {
                Object(l.a)(t, e, source[e]);
              })
            : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(
                  t,
                  Object.getOwnPropertyDescriptors(source),
                )
              : f(Object(source)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(source, e),
                  );
                });
        }
        return t;
      }
      function y(t, e) {
        var r =
          ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
          t["@@iterator"];
        if (!r) {
          if (
            Array.isArray(t) ||
            (r = (function (t, e) {
              if (!t) return;
              if ("string" == typeof t) return v(t, e);
              var r = Object.prototype.toString.call(t).slice(8, -1);
              "Object" === r && t.constructor && (r = t.constructor.name);
              if ("Map" === r || "Set" === r) return Array.from(t);
              if (
                "Arguments" === r ||
                /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
              )
                return v(t, e);
            })(t)) ||
            (e && t && "number" == typeof t.length)
          ) {
            r && (t = r);
            var i = 0,
              n = function () {};
            return {
              s: n,
              n: function () {
                return i >= t.length
                  ? { done: !0 }
                  : { done: !1, value: t[i++] };
              },
              e: function (t) {
                throw t;
              },
              f: n,
            };
          }
          throw new TypeError(
            "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
          );
        }
        var o,
          l = !0,
          c = !1;
        return {
          s: function () {
            r = r.call(t);
          },
          n: function () {
            var t = r.next();
            return ((l = t.done), t);
          },
          e: function (t) {
            ((c = !0), (o = t));
          },
          f: function () {
            try {
              l || null == r.return || r.return();
            } finally {
              if (c) throw o;
            }
          },
        };
      }
      function v(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, r = new Array(e); i < e; i++) r[i] = t[i];
        return r;
      }
      function E(t) {
        var e =
          arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
        return function () {
          var r =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : e;
          return (void 0 === t[r] && (t[r] = 0), t[r]++);
        };
      }
      function D(t) {
        h.a.config.errorHandler && h.a.config.errorHandler(t);
      }
      function T(t) {
        return t.then(function (t) {
          return t.default || t;
        });
      }
      function S(t) {
        return (
          t.$options &&
          "function" == typeof t.$options.fetch &&
          !t.$options.fetch.length
        );
      }
      function _(t) {
        var e,
          r =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
          n = y(t.$children || []);
        try {
          for (n.s(); !(e = n.n()).done; ) {
            var o = e.value;
            (o.$fetch && r.push(o), o.$children && _(o, r));
          }
        } catch (t) {
          n.e(t);
        } finally {
          n.f();
        }
        return r;
      }
      function w(t, e) {
        if (e || !t.options.__hasNuxtData) {
          var r =
            t.options._originDataFn ||
            t.options.data ||
            function () {
              return {};
            };
          ((t.options._originDataFn = r),
            (t.options.data = function () {
              var data = r.call(this, this);
              return (
                this.$ssrContext && (e = this.$ssrContext.asyncData[t.cid]),
                m(m({}, data), e)
              );
            }),
            (t.options.__hasNuxtData = !0),
            t._Ctor &&
              t._Ctor.options &&
              (t._Ctor.options.data = t.options.data));
        }
      }
      function A(t) {
        return (
          (t.options && t._Ctor === t) ||
            (t.options
              ? ((t._Ctor = t), (t.extendOptions = t.options))
              : ((t = h.a.extend(t))._Ctor = t),
            !t.options.name &&
              t.options.__file &&
              (t.options.name = t.options.__file)),
          t
        );
      }
      function x(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
          r =
            arguments.length > 2 && void 0 !== arguments[2]
              ? arguments[2]
              : "components";
        return Array.prototype.concat.apply(
          [],
          t.matched.map(function (t, n) {
            return Object.keys(t[r]).map(function (o) {
              return (e && e.push(n), t[r][o]);
            });
          }),
        );
      }
      function L(t) {
        return x(
          t,
          arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
          "instances",
        );
      }
      function k(t, e) {
        return Array.prototype.concat.apply(
          [],
          t.matched.map(function (t, r) {
            return Object.keys(t.components).reduce(function (n, o) {
              return (
                t.components[o]
                  ? n.push(e(t.components[o], t.instances[o], t, o, r))
                  : delete t.components[o],
                n
              );
            }, []);
          }),
        );
      }
      function C(t, e) {
        return Promise.all(
          k(
            t,
            (function () {
              var t = Object(o.a)(
                regeneratorRuntime.mark(function t(r, n, o, l) {
                  var c, h;
                  return regeneratorRuntime.wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if ("function" != typeof r || r.options) {
                              t.next = 11;
                              break;
                            }
                            return ((t.prev = 1), (t.next = 4), r());
                          case 4:
                            ((r = t.sent), (t.next = 11));
                            break;
                          case 7:
                            throw (
                              (t.prev = 7),
                              (t.t0 = t.catch(1)),
                              t.t0 &&
                                "ChunkLoadError" === t.t0.name &&
                                "undefined" != typeof window &&
                                window.sessionStorage &&
                                ((c = Date.now()),
                                (!(h = parseInt(
                                  window.sessionStorage.getItem("nuxt-reload"),
                                )) ||
                                  h + 6e4 < c) &&
                                  (window.sessionStorage.setItem(
                                    "nuxt-reload",
                                    c,
                                  ),
                                  window.location.reload(!0))),
                              t.t0
                            );
                          case 11:
                            return (
                              (o.components[l] = r = A(r)),
                              t.abrupt(
                                "return",
                                "function" == typeof e ? e(r, n, o, l) : r,
                              )
                            );
                          case 13:
                          case "end":
                            return t.stop();
                        }
                    },
                    t,
                    null,
                    [[1, 7]],
                  );
                }),
              );
              return function (e, r, n, o) {
                return t.apply(this, arguments);
              };
            })(),
          ),
        );
      }
      function R(t) {
        return O.apply(this, arguments);
      }
      function O() {
        return (O = Object(o.a)(
          regeneratorRuntime.mark(function t(e) {
            return regeneratorRuntime.wrap(function (t) {
              for (;;)
                switch ((t.prev = t.next)) {
                  case 0:
                    if (e) {
                      t.next = 2;
                      break;
                    }
                    return t.abrupt("return");
                  case 2:
                    return ((t.next = 4), C(e));
                  case 4:
                    return t.abrupt(
                      "return",
                      m(
                        m({}, e),
                        {},
                        {
                          meta: x(e).map(function (t, r) {
                            return m(
                              m({}, t.options.meta),
                              (e.matched[r] || {}).meta,
                            );
                          }),
                        },
                      ),
                    );
                  case 5:
                  case "end":
                    return t.stop();
                }
            }, t);
          }),
        )).apply(this, arguments);
      }
      function I(t, e) {
        return P.apply(this, arguments);
      }
      function P() {
        return (P = Object(o.a)(
          regeneratorRuntime.mark(function t(e, r) {
            var o, l, h, f;
            return regeneratorRuntime.wrap(function (t) {
              for (;;)
                switch ((t.prev = t.next)) {
                  case 0:
                    return (
                      e.context ||
                        ((e.context = {
                          isStatic: !0,
                          isDev: !1,
                          isHMR: !1,
                          app: e,
                          store: e.store,
                          payload: r.payload,
                          error: r.error,
                          base: e.router.options.base,
                          env: {},
                        }),
                        r.ssrContext && (e.context.ssrContext = r.ssrContext),
                        (e.context.redirect = function (t, path, r) {
                          if (t) {
                            e.context._redirected = !0;
                            var o = Object(n.a)(path);
                            if (
                              ("number" == typeof t ||
                                ("undefined" !== o && "object" !== o) ||
                                ((r = path || {}),
                                (path = t),
                                (o = Object(n.a)(path)),
                                (t = 302)),
                              "object" === o &&
                                (path = e.router.resolve(path).route.fullPath),
                              !/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))
                            )
                              throw (
                                (path = Object(d.f)(path, r)),
                                window.location.assign(path),
                                new Error("ERR_REDIRECT")
                              );
                            e.context.next({ path: path, query: r, status: t });
                          }
                        }),
                        (e.context.nuxtState = window.__NUXT__)),
                      (t.next = 3),
                      Promise.all([R(r.route), R(r.from)])
                    );
                  case 3:
                    ((o = t.sent),
                      (l = Object(c.a)(o, 2)),
                      (h = l[0]),
                      (f = l[1]),
                      r.route && (e.context.route = h),
                      r.from && (e.context.from = f),
                      (e.context.next = r.next),
                      (e.context._redirected = !1),
                      (e.context._errored = !1),
                      (e.context.isHMR = !1),
                      (e.context.params = e.context.route.params || {}),
                      (e.context.query = e.context.route.query || {}));
                  case 15:
                  case "end":
                    return t.stop();
                }
            }, t);
          }),
        )).apply(this, arguments);
      }
      function F(t, e) {
        return !t.length || e._redirected || e._errored
          ? Promise.resolve()
          : M(t[0], e).then(function () {
              return F(t.slice(1), e);
            });
      }
      function M(t, e) {
        var r;
        return (r =
          2 === t.length
            ? new Promise(function (r) {
                t(e, function (t, data) {
                  (t && e.error(t), r((data = data || {})));
                });
              })
            : t(e)) &&
          r instanceof Promise &&
          "function" == typeof r.then
          ? r
          : Promise.resolve(r);
      }
      function N(base, t) {
        if ("hash" === t) return window.location.hash.replace(/^#\//, "");
        base = decodeURI(base).slice(0, -1);
        var path = decodeURI(window.location.pathname);
        base && path.startsWith(base) && (path = path.slice(base.length));
        var e = (path || "/") + window.location.search + window.location.hash;
        return Object(d.d)(e);
      }
      function B(t, e) {
        return (function (t, e) {
          for (var r = new Array(t.length), i = 0; i < t.length; i++)
            "object" === Object(n.a)(t[i]) &&
              (r[i] = new RegExp("^(?:" + t[i].pattern + ")$", Y(e)));
          return function (e, n) {
            for (
              var path = "",
                data = e || {},
                o = (n || {}).pretty ? G : encodeURIComponent,
                l = 0;
              l < t.length;
              l++
            ) {
              var c = t[l];
              if ("string" != typeof c) {
                var h = data[c.name || "pathMatch"],
                  d = void 0;
                if (null == h) {
                  if (c.optional) {
                    c.partial && (path += c.prefix);
                    continue;
                  }
                  throw new TypeError(
                    'Expected "' + c.name + '" to be defined',
                  );
                }
                if (Array.isArray(h)) {
                  if (!c.repeat)
                    throw new TypeError(
                      'Expected "' +
                        c.name +
                        '" to not repeat, but received `' +
                        JSON.stringify(h) +
                        "`",
                    );
                  if (0 === h.length) {
                    if (c.optional) continue;
                    throw new TypeError(
                      'Expected "' + c.name + '" to not be empty',
                    );
                  }
                  for (var f = 0; f < h.length; f++) {
                    if (((d = o(h[f])), !r[l].test(d)))
                      throw new TypeError(
                        'Expected all "' +
                          c.name +
                          '" to match "' +
                          c.pattern +
                          '", but received `' +
                          JSON.stringify(d) +
                          "`",
                      );
                    path += (0 === f ? c.prefix : c.delimiter) + d;
                  }
                } else {
                  if (((d = c.asterisk ? K(h) : o(h)), !r[l].test(d)))
                    throw new TypeError(
                      'Expected "' +
                        c.name +
                        '" to match "' +
                        c.pattern +
                        '", but received "' +
                        d +
                        '"',
                    );
                  path += c.prefix + d;
                }
              } else path += c;
            }
            return path;
          };
        })(
          (function (t, e) {
            var r,
              n = [],
              o = 0,
              l = 0,
              path = "",
              c = (e && e.delimiter) || "/";
            for (; null != (r = $.exec(t)); ) {
              var h = r[0],
                d = r[1],
                f = r.index;
              if (((path += t.slice(l, f)), (l = f + h.length), d))
                path += d[1];
              else {
                var m = t[l],
                  y = r[2],
                  v = r[3],
                  E = r[4],
                  D = r[5],
                  T = r[6],
                  S = r[7];
                path && (n.push(path), (path = ""));
                var _ = null != y && null != m && m !== y,
                  w = "+" === T || "*" === T,
                  A = "?" === T || "*" === T,
                  x = r[2] || c,
                  pattern = E || D;
                n.push({
                  name: v || o++,
                  prefix: y || "",
                  delimiter: x,
                  optional: A,
                  repeat: w,
                  partial: _,
                  asterisk: Boolean(S),
                  pattern: pattern
                    ? V(pattern)
                    : S
                      ? ".*"
                      : "[^" + H(x) + "]+?",
                });
              }
            }
            l < t.length && (path += t.substr(l));
            path && n.push(path);
            return n;
          })(t, e),
          e,
        );
      }
      function U(t, e) {
        var r = {},
          n = m(m({}, t), e);
        for (var o in n) String(t[o]) !== String(e[o]) && (r[o] = !0);
        return r;
      }
      function j(t) {
        var e;
        if (t.message || "string" == typeof t) e = t.message || t;
        else
          try {
            e = JSON.stringify(t, null, 2);
          } catch (r) {
            e = "[".concat(t.constructor.name, "]");
          }
        return m(
          m({}, t),
          {},
          {
            message: e,
            statusCode:
              t.statusCode ||
              t.status ||
              (t.response && t.response.status) ||
              500,
          },
        );
      }
      ((window.onNuxtReadyCbs = []),
        (window.onNuxtReady = function (t) {
          window.onNuxtReadyCbs.push(t);
        }));
      var $ = new RegExp(
        [
          "(\\\\.)",
          "([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))",
        ].join("|"),
        "g",
      );
      function G(t, e) {
        var r = e ? /[?#]/g : /[/?#]/g;
        return encodeURI(t).replace(r, function (t) {
          return "%" + t.charCodeAt(0).toString(16).toUpperCase();
        });
      }
      function K(t) {
        return G(t, !0);
      }
      function H(t) {
        return t.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1");
      }
      function V(t) {
        return t.replace(/([=!:$/()])/g, "\\$1");
      }
      function Y(t) {
        return t && t.sensitive ? "" : "i";
      }
      function z(t, e, r) {
        (t.$options[e] || (t.$options[e] = []),
          t.$options[e].includes(r) || t.$options[e].push(r));
      }
      var W = d.c;
      (d.h, d.b);
      function X(t) {
        try {
          window.history.scrollRestoration = t;
        } catch (t) {}
      }
    },
    ,
    ,
    function (t, e, r) {
      "use strict";
      (function (t) {
        (r.d(e, "a", function () {
          return N;
        }),
          r.d(e, "b", function () {
            return B;
          }),
          r.d(e, "c", function () {
            return j;
          }),
          r.d(e, "d", function () {
            return G;
          }),
          r.d(e, "e", function () {
            return K;
          }));
        var n = r(19),
          o = r.n(n),
          l = r(301),
          c = r.n(l),
          h = r(177),
          d = r.n(h),
          f = r(302),
          m = r.n(f);
        r(105);
        function y(object, t) {
          var e = Object.keys(object);
          if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(object);
            (t &&
              (r = r.filter(function (t) {
                return Object.getOwnPropertyDescriptor(object, t).enumerable;
              })),
              e.push.apply(e, r));
          }
          return e;
        }
        function v(t) {
          for (var i = 1; i < arguments.length; i++) {
            var source = null != arguments[i] ? arguments[i] : {};
            i % 2
              ? y(Object(source), !0).forEach(function (e) {
                  T(t, e, source[e]);
                })
              : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(
                    t,
                    Object.getOwnPropertyDescriptors(source),
                  )
                : y(Object(source)).forEach(function (e) {
                    Object.defineProperty(
                      t,
                      e,
                      Object.getOwnPropertyDescriptor(source, e),
                    );
                  });
          }
          return t;
        }
        function E(t) {
          return (
            (E =
              "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                ? function (t) {
                    return typeof t;
                  }
                : function (t) {
                    return t &&
                      "function" == typeof Symbol &&
                      t.constructor === Symbol &&
                      t !== Symbol.prototype
                      ? "symbol"
                      : typeof t;
                  }),
            E(t)
          );
        }
        function D() {
          D = function (t, e) {
            return new r(t, void 0, e);
          };
          var t = RegExp.prototype,
            e = new WeakMap();
          function r(t, n, o) {
            var l = new RegExp(t, n);
            return (e.set(l, o || e.get(t)), S(l, r.prototype));
          }
          function n(t, r) {
            var g = e.get(r);
            return Object.keys(g).reduce(function (e, r) {
              return ((e[r] = t[g[r]]), e);
            }, Object.create(null));
          }
          return (
            (function (t, e) {
              if ("function" != typeof e && null !== e)
                throw new TypeError(
                  "Super expression must either be null or a function",
                );
              ((t.prototype = Object.create(e && e.prototype, {
                constructor: { value: t, writable: !0, configurable: !0 },
              })),
                Object.defineProperty(t, "prototype", { writable: !1 }),
                e && S(t, e));
            })(r, RegExp),
            (r.prototype.exec = function (e) {
              var r = t.exec.call(this, e);
              return (r && (r.groups = n(r, this)), r);
            }),
            (r.prototype[Symbol.replace] = function (r, o) {
              if ("string" == typeof o) {
                var l = e.get(this);
                return t[Symbol.replace].call(
                  this,
                  r,
                  o.replace(/\$<([^>]+)>/g, function (t, e) {
                    return "$" + l[e];
                  }),
                );
              }
              if ("function" == typeof o) {
                var c = this;
                return t[Symbol.replace].call(this, r, function () {
                  var t = arguments;
                  return (
                    "object" != typeof t[t.length - 1] &&
                      (t = [].slice.call(t)).push(n(t, c)),
                    o.apply(this, t)
                  );
                });
              }
              return t[Symbol.replace].call(this, r, o);
            }),
            D.apply(this, arguments)
          );
        }
        function T(t, e, r) {
          return (
            e in t
              ? Object.defineProperty(t, e, {
                  value: r,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                })
              : (t[e] = r),
            t
          );
        }
        function S(t, p) {
          return (
            (S =
              Object.setPrototypeOf ||
              function (t, p) {
                return ((t.__proto__ = p), t);
              }),
            S(t, p)
          );
        }
        function _(t, i) {
          return (
            (function (t) {
              if (Array.isArray(t)) return t;
            })(t) ||
            (function (t, i) {
              var e =
                null == t
                  ? null
                  : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                    t["@@iterator"];
              if (null == e) return;
              var r,
                n,
                o = [],
                l = !0,
                c = !1;
              try {
                for (
                  e = e.call(t);
                  !(l = (r = e.next()).done) &&
                  (o.push(r.value), !i || o.length !== i);
                  l = !0
                );
              } catch (t) {
                ((c = !0), (n = t));
              } finally {
                try {
                  l || null == e.return || e.return();
                } finally {
                  if (c) throw n;
                }
              }
              return o;
            })(t, i) ||
            w(t, i) ||
            (function () {
              throw new TypeError(
                "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
              );
            })()
          );
        }
        function w(t, e) {
          if (t) {
            if ("string" == typeof t) return A(t, e);
            var r = Object.prototype.toString.call(t).slice(8, -1);
            return (
              "Object" === r && t.constructor && (r = t.constructor.name),
              "Map" === r || "Set" === r
                ? Array.from(t)
                : "Arguments" === r ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                  ? A(t, e)
                  : void 0
            );
          }
        }
        function A(t, e) {
          (null == e || e > t.length) && (e = t.length);
          for (var i = 0, r = new Array(e); i < e; i++) r[i] = t[i];
          return r;
        }
        function x() {
          return void 0 !== t && !1;
        }
        function L() {
          return t.versions && t.versions.node
            ? "v".concat(t.versions.node)
            : t.version;
        }
        function k() {}
        var C = D(/([0-9]+)(%)/, { value: 1 });
        function R(t) {
          var e =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 7,
            r = e;
          if (C.test(t)) {
            var n,
              o = null === (n = t.match(C)) || void 0 === n ? void 0 : n.groups;
            if (o && o.value) {
              var l = parseInt(o.value) / 100;
              r = Math.round(e * l);
            }
          }
          return Math.min(30, Math.max(1, r));
        }
        function O(t, e) {
          return (
            e("info", "Throttle request to ".concat(t, "/s")),
            m()({ limit: t, interval: 1e3, strict: !1 })
          );
        }
        var I = function (t) {
            var e =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : "auto",
              r = t.defaults.logHandler,
              n = void 0 === r ? k : r,
              o = d()(e) ? R(e) : R("auto", e),
              l = O(o, n),
              c = !1,
              h = t.interceptors.request.use(
                function (t) {
                  return l(function () {
                    return t;
                  })();
                },
                function (t) {
                  return Promise.reject(t);
                },
              ),
              f = t.interceptors.response.use(
                function (r) {
                  if (
                    !c &&
                    d()(e) &&
                    ("auto" === e || C.test(e)) &&
                    r.headers &&
                    r.headers["x-contentful-ratelimit-second-limit"]
                  ) {
                    var f = parseInt(
                        r.headers["x-contentful-ratelimit-second-limit"],
                      ),
                      m = R(e, f);
                    (m !== o &&
                      (h && t.interceptors.request.eject(h),
                      (o = m),
                      (l = O(m, n)),
                      (h = t.interceptors.request.use(
                        function (t) {
                          return l(function () {
                            return t;
                          })();
                        },
                        function (t) {
                          return Promise.reject(t);
                        },
                      ))),
                      (c = !0));
                  }
                  return r;
                },
                function (t) {
                  return Promise.reject(t);
                },
              );
            return function () {
              (t.interceptors.request.eject(h),
                t.interceptors.response.eject(f));
            };
          },
          P = function (t) {
            return new Promise(function (e) {
              setTimeout(e, t);
            });
          },
          F = function (t) {
            return Math.pow(Math.SQRT2, t);
          };
        var M = /^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;
        function N(t, e) {
          var r = v(
            v(
              {},
              {
                insecure: !1,
                retryOnError: !0,
                logHandler: function (t, data) {
                  if ("error" === t && data) {
                    var title = [data.name, data.message]
                      .filter(function (a) {
                        return a;
                      })
                      .join(" - ");
                    return (
                      console.error("[error] ".concat(title)),
                      void console.error(data)
                    );
                  }
                  console.log("[".concat(t, "] ").concat(data));
                },
                headers: {},
                httpAgent: !1,
                httpsAgent: !1,
                timeout: 3e4,
                throttle: 0,
                proxy: !1,
                basePath: "",
                adapter: void 0,
                maxContentLength: 1073741824,
                maxBodyLength: 1073741824,
              },
            ),
            e,
          );
          if (!r.accessToken) {
            var n = new TypeError("Expected parameter accessToken");
            throw (r.logHandler("error", n), n);
          }
          var l = r.insecure ? "http" : "https",
            h = r.space ? "".concat(r.space, "/") : "",
            d = r.defaultHostname,
            f = r.insecure ? 80 : 443;
          if (r.host && M.test(r.host)) {
            var m = r.host.split(":");
            if (2 === m.length) {
              var y = _(m, 2);
              ((d = y[0]), (f = y[1]));
            } else d = m[0];
          }
          r.basePath &&
            (r.basePath = "/".concat(
              r.basePath.split("/").filter(Boolean).join("/"),
            ));
          var E =
            e.baseURL ||
            ""
              .concat(l, "://")
              .concat(d, ":")
              .concat(f)
              .concat(r.basePath, "/spaces/")
              .concat(h);
          (r.headers.Authorization ||
            "function" == typeof r.accessToken ||
            (r.headers.Authorization = "Bearer " + r.accessToken),
            x() &&
              ((r.headers["user-agent"] = "node.js/" + L()),
              (r.headers["Accept-Encoding"] = "gzip")));
          var D = {
              baseURL: E,
              headers: r.headers,
              httpAgent: r.httpAgent,
              httpsAgent: r.httpsAgent,
              paramsSerializer: c.a.stringify,
              proxy: r.proxy,
              timeout: r.timeout,
              adapter: r.adapter,
              maxContentLength: r.maxContentLength,
              maxBodyLength: r.maxBodyLength,
              logHandler: r.logHandler,
              responseLogger: r.responseLogger,
              requestLogger: r.requestLogger,
              retryOnError: r.retryOnError,
            },
            T = t.create(D);
          return (
            (T.httpClientParams = e),
            (T.cloneWithNewParams = function (r) {
              return N(t, v(v({}, o()(e)), r));
            }),
            r.onBeforeRequest && T.interceptors.request.use(r.onBeforeRequest),
            "function" == typeof r.accessToken &&
              (function (t, e) {
                t.interceptors.request.use(function (t) {
                  return e().then(function (e) {
                    return (
                      (t.headers = v(
                        v({}, t.headers),
                        {},
                        { Authorization: "Bearer ".concat(e) },
                      )),
                      t
                    );
                  });
                });
              })(T, r.accessToken),
            r.throttle && I(T, r.throttle),
            (function (t) {
              var e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 5,
                r = t.defaults,
                n = r.responseLogger,
                o = void 0 === n ? k : n,
                l = r.requestLogger,
                c = void 0 === l ? k : l;
              (t.interceptors.request.use(
                function (t) {
                  return (c(t), t);
                },
                function (t) {
                  return (c(t), Promise.reject(t));
                },
              ),
                t.interceptors.response.use(
                  function (t) {
                    return (o(t), t);
                  },
                  function (r) {
                    var n = r.response,
                      l = r.config;
                    if ((o(r), !l || !t.defaults.retryOnError))
                      return Promise.reject(r);
                    var c = l.attempts || 1;
                    if (c > e)
                      return ((r.attempts = l.attempts), Promise.reject(r));
                    var h = null,
                      d = F(c);
                    return (
                      n
                        ? n.status >= 500 && n.status < 600
                          ? (h = "Server ".concat(n.status))
                          : 429 === n.status &&
                            ((h = "Rate limit"),
                            n.headers &&
                              r.response.headers[
                                "x-contentful-ratelimit-reset"
                              ] &&
                              (d = n.headers["x-contentful-ratelimit-reset"]))
                        : (h = "Connection"),
                      h
                        ? ((d = Math.floor(
                            1e3 * d + 200 * Math.random() + 500,
                          )),
                          t.defaults.logHandler(
                            "warning",
                            ""
                              .concat(h, " error occurred. Waiting for ")
                              .concat(d, " ms before retrying..."),
                          ),
                          (l.attempts = c + 1),
                          delete l.httpAgent,
                          delete l.httpsAgent,
                          P(d).then(function () {
                            return t(l);
                          }))
                        : Promise.reject(r)
                    );
                  },
                ));
            })(T, r.retryLimit),
            r.onError &&
              T.interceptors.response.use(function (t) {
                return t;
              }, r.onError),
            T
          );
        }
        function B(t) {
          var e = t.query,
            r = {};
          return (delete e.resolveLinks, (r.params = o()(e)), r);
        }
        function U(object) {
          var t,
            e = (function (t, e) {
              var r =
                ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
              if (!r) {
                if (
                  Array.isArray(t) ||
                  (r = w(t)) ||
                  (e && t && "number" == typeof t.length)
                ) {
                  r && (t = r);
                  var i = 0,
                    n = function () {};
                  return {
                    s: n,
                    n: function () {
                      return i >= t.length
                        ? { done: !0 }
                        : { done: !1, value: t[i++] };
                    },
                    e: function (t) {
                      throw t;
                    },
                    f: n,
                  };
                }
                throw new TypeError(
                  "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
                );
              }
              var o,
                l = !0,
                c = !1;
              return {
                s: function () {
                  r = r.call(t);
                },
                n: function () {
                  var t = r.next();
                  return ((l = t.done), t);
                },
                e: function (t) {
                  ((c = !0), (o = t));
                },
                f: function () {
                  try {
                    l || null == r.return || r.return();
                  } finally {
                    if (c) throw o;
                  }
                },
              };
            })(Object.getOwnPropertyNames(object));
          try {
            for (e.s(); !(t = e.n()).done; ) {
              var r = object[t.value];
              r && "object" === E(r) && U(r);
            }
          } catch (t) {
            e.e(t);
          } finally {
            e.f();
          }
          return Object.freeze(object);
        }
        function j(t) {
          return (U(t.sys || {}), t);
        }
        function $() {
          var t = window;
          if (!t) return null;
          var e = t.navigator.userAgent,
            r = t.navigator.platform;
          return -1 !== ["Macintosh", "MacIntel", "MacPPC", "Mac68K"].indexOf(r)
            ? "macOS"
            : -1 !== ["iPhone", "iPad", "iPod"].indexOf(r)
              ? "iOS"
              : -1 !== ["Win32", "Win64", "Windows", "WinCE"].indexOf(r)
                ? "Windows"
                : /Android/.test(e)
                  ? "Android"
                  : /Linux/.test(r)
                    ? "Linux"
                    : null;
        }
        function G(e, r, n, o) {
          var l = [];
          (r && l.push("app ".concat(r)),
            n && l.push("integration ".concat(n)),
            o && l.push("feature " + o),
            l.push("sdk ".concat(e)));
          var c = null;
          try {
            "undefined" != typeof window &&
            "navigator" in window &&
            "product" in window.navigator &&
            "ReactNative" === window.navigator.product
              ? ((c = $()), l.push("platform ReactNative"))
              : x()
                ? ((c = (function () {
                    var e = t.platform || "linux",
                      r = t.version || "0.0.0",
                      n = {
                        android: "Android",
                        aix: "Linux",
                        darwin: "macOS",
                        freebsd: "Linux",
                        linux: "Linux",
                        openbsd: "Linux",
                        sunos: "Linux",
                        win32: "Windows",
                      };
                    return e in n
                      ? "".concat(n[e] || "Linux", "/").concat(r)
                      : null;
                  })()),
                  l.push("platform node.js/".concat(L())))
                : ((c = $()), l.push("platform browser"));
          } catch (t) {
            c = null;
          }
          return (
            c && l.push("os ".concat(c)),
            "".concat(
              l
                .filter(function (t) {
                  return "" !== t;
                })
                .join("; "),
              ";",
            )
          );
        }
        function K(data) {
          return Object.defineProperty(data, "toPlainObject", {
            enumerable: !1,
            configurable: !1,
            writable: !1,
            value: function () {
              return o()(this);
            },
          });
        }
      }).call(this, r(97));
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      (function (e) {
        var r;
        ((r = function () {
          "use strict";
          var t = Function.prototype.toString,
            r = Object.create,
            n = Object.defineProperty,
            o = Object.getOwnPropertyDescriptor,
            l = Object.getOwnPropertyNames,
            c = Object.getOwnPropertySymbols,
            h = Object.getPrototypeOf,
            d = Object.prototype,
            f = d.hasOwnProperty,
            m = d.propertyIsEnumerable,
            y = "function" == typeof c,
            v = "function" == typeof WeakMap,
            E = (function () {
              if (v)
                return function () {
                  return new WeakMap();
                };
              var t = (function () {
                function t() {
                  ((this._keys = []), (this._values = []));
                }
                return (
                  (t.prototype.has = function (t) {
                    return !!~this._keys.indexOf(t);
                  }),
                  (t.prototype.get = function (t) {
                    return this._values[this._keys.indexOf(t)];
                  }),
                  (t.prototype.set = function (t, e) {
                    (this._keys.push(t), this._values.push(e));
                  }),
                  t
                );
              })();
              return function () {
                return new t();
              };
            })(),
            D = function (object, e) {
              var n = object.__proto__ || h(object);
              if (!n) return r(null);
              var o = n.constructor;
              if (o === e.Object) return n === e.Object.prototype ? {} : r(n);
              if (~t.call(o).indexOf("[native code]"))
                try {
                  return new o();
                } catch (t) {}
              return r(n);
            },
            T = function (object, t, e, r) {
              var n = D(object, t);
              for (var o in (r.set(object, n), object))
                f.call(object, o) && (n[o] = e(object[o], r));
              if (y)
                for (
                  var l = c(object), h = 0, d = l.length, symbol = void 0;
                  h < d;
                  ++h
                )
                  ((symbol = l[h]),
                    m.call(object, symbol) &&
                      (n[symbol] = e(object[symbol], r)));
              return n;
            },
            S = function (object, t, e, r) {
              var h = D(object, t);
              r.set(object, h);
              for (
                var d = y ? l(object).concat(c(object)) : l(object),
                  f = 0,
                  m = d.length,
                  v = void 0,
                  E = void 0;
                f < m;
                ++f
              )
                if ("callee" !== (v = d[f]) && "caller" !== v)
                  if ((E = o(object, v))) {
                    E.get || E.set || (E.value = e(object[v], r));
                    try {
                      n(h, v, E);
                    } catch (t) {
                      h[v] = E.value;
                    }
                  } else h[v] = e(object[v], r);
              return h;
            },
            _ = Array.isArray,
            w = Object.getPrototypeOf,
            A = (function () {
              return "undefined" != typeof globalThis
                ? globalThis
                : "undefined" != typeof self
                  ? self
                  : "undefined" != typeof window
                    ? window
                    : void 0 !== e
                      ? e
                      : (console &&
                          console.error &&
                          console.error(
                            'Unable to locate global object, returning "this".',
                          ),
                        this);
            })();
          function x(t, e) {
            var r = !(!e || !e.isStrict),
              n = (e && e.realm) || A,
              o = r ? S : T,
              l = function (t, e) {
                if (!t || "object" != typeof t) return t;
                if (e.has(t)) return e.get(t);
                var c,
                  h,
                  d,
                  f = t.__proto__ || w(t),
                  m = f && f.constructor;
                if (!m || m === n.Object) return o(t, n, l, e);
                if (_(t)) {
                  if (r) return S(t, n, l, e);
                  ((c = new m()), e.set(t, c));
                  for (var y = 0, v = t.length; y < v; ++y) c[y] = l(t[y], e);
                  return c;
                }
                if (t instanceof n.Date) return new m(t.getTime());
                if (t instanceof n.RegExp)
                  return (
                    ((c = new m(
                      t.source,
                      t.flags ||
                        ((d = ""),
                        (h = t).global && (d += "g"),
                        h.ignoreCase && (d += "i"),
                        h.multiline && (d += "m"),
                        h.unicode && (d += "u"),
                        h.sticky && (d += "y"),
                        d),
                    )).lastIndex = t.lastIndex),
                    c
                  );
                if (n.Map && t instanceof n.Map)
                  return (
                    (c = new m()),
                    e.set(t, c),
                    t.forEach(function (t, r) {
                      c.set(r, l(t, e));
                    }),
                    c
                  );
                if (n.Set && t instanceof n.Set)
                  return (
                    (c = new m()),
                    e.set(t, c),
                    t.forEach(function (t) {
                      c.add(l(t, e));
                    }),
                    c
                  );
                if (n.Blob && t instanceof n.Blob)
                  return t.slice(0, t.size, t.type);
                if (n.Buffer && n.Buffer.isBuffer(t))
                  return (
                    (c = n.Buffer.allocUnsafe
                      ? n.Buffer.allocUnsafe(t.length)
                      : new m(t.length)),
                    e.set(t, c),
                    t.copy(c),
                    c
                  );
                if (n.ArrayBuffer) {
                  if (n.ArrayBuffer.isView(t))
                    return ((c = new m(t.buffer.slice(0))), e.set(t, c), c);
                  if (t instanceof n.ArrayBuffer)
                    return ((c = t.slice(0)), e.set(t, c), c);
                }
                return "function" == typeof t.then ||
                  t instanceof Error ||
                  (n.WeakMap && t instanceof n.WeakMap) ||
                  (n.WeakSet && t instanceof n.WeakSet)
                  ? t
                  : o(t, n, l, e);
              };
            return l(t, E());
          }
          return (
            (x.default = x),
            (x.strict = function (t, e) {
              return x(t, { isStrict: !0, realm: e ? e.realm : void 0 });
            }),
            x
          );
        }),
          (t.exports = r()));
      }).call(this, r(39));
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      var n = r(268),
        o = "object" == typeof self && self && self.Object === Object && self,
        l = n || o || Function("return this")();
      t.exports = l;
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      "use strict";
      (r.d(e, "b", function () {
        return qa;
      }),
        r.d(e, "a", function () {
          return M.a;
        }));
      var n = {};
      (r.r(n),
        r.d(n, "BackgroundVideos", function () {
          return J;
        }),
        r.d(n, "CardFilm", function () {
          return Z;
        }),
        r.d(n, "CardSection", function () {
          return tt;
        }),
        r.d(n, "ErrorScreen", function () {
          return et;
        }),
        r.d(n, "HeaderMain", function () {
          return nt;
        }),
        r.d(n, "HeaderMenu", function () {
          return it;
        }),
        r.d(n, "Media", function () {
          return st;
        }),
        r.d(n, "MediaImage", function () {
          return at;
        }),
        r.d(n, "NavigationBottom", function () {
          return ot;
        }),
        r.d(n, "NavigationLeft", function () {
          return lt;
        }),
        r.d(n, "NavigationMobileSections", function () {
          return ut;
        }),
        r.d(n, "NavigationSections", function () {
          return ct;
        }),
        r.d(n, "SectionNavItem", function () {
          return ht;
        }),
        r.d(n, "SectionVideo", function () {
          return ft;
        }),
        r.d(n, "SectionVideoBg", function () {
          return pt;
        }),
        r.d(n, "SvgAirmadeLogo", function () {
          return gt;
        }),
        r.d(n, "SvgIconFullscreen", function () {
          return mt;
        }),
        r.d(n, "SvgIconFullscreenOff", function () {
          return yt;
        }),
        r.d(n, "SvgIconPause", function () {
          return vt;
        }),
        r.d(n, "SvgIconPlay", function () {
          return bt;
        }),
        r.d(n, "SvgIconSoundOff", function () {
          return Et;
        }),
        r.d(n, "SvgIconSoundOn", function () {
          return Dt;
        }),
        r.d(n, "SvgIconX", function () {
          return Tt;
        }),
        r.d(n, "SvgLogo", function () {
          return St;
        }));
      var o = {};
      (r.r(o),
        r.d(o, "wrapSpace", function () {
          return Rt;
        }));
      var l = {};
      (r.r(l),
        r.d(l, "wrapEntry", function () {
          return Vt;
        }),
        r.d(l, "wrapEntryCollection", function () {
          return Yt;
        }));
      var c = {};
      (r.r(c),
        r.d(c, "wrapAsset", function () {
          return zt;
        }),
        r.d(c, "wrapAssetCollection", function () {
          return Wt;
        }));
      var h = {};
      (r.r(h),
        r.d(h, "wrapContentType", function () {
          return qt;
        }),
        r.d(h, "wrapContentTypeCollection", function () {
          return Xt;
        }));
      var d = {};
      (r.r(d),
        r.d(d, "wrapLocale", function () {
          return Qt;
        }),
        r.d(d, "wrapLocaleCollection", function () {
          return Jt;
        }));
      (r(30), r(25), r(26), r(41), r(18), r(42));
      var f = r(11),
        m = r(12),
        y = (r(57), r(38), r(7), r(50), r(37), r(58), r(0)),
        v = r(103),
        E = r(296),
        D = r(175),
        T = r.n(D),
        S = r(81),
        _ = r.n(S),
        w = (r(51), r(45), r(176)),
        A = r(23),
        x = r(1);
      r(138);
      "scrollRestoration" in window.history &&
        (Object(x.u)("manual"),
        window.addEventListener("beforeunload", function () {
          Object(x.u)("auto");
        }),
        window.addEventListener("load", function () {
          Object(x.u)("manual");
        }));
      function L(object, t) {
        var e = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var r = Object.getOwnPropertySymbols(object);
          (t &&
            (r = r.filter(function (t) {
              return Object.getOwnPropertyDescriptor(object, t).enumerable;
            })),
            e.push.apply(e, r));
        }
        return e;
      }
      function k(t) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2
            ? L(Object(source), !0).forEach(function (e) {
                Object(m.a)(t, e, source[e]);
              })
            : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(
                  t,
                  Object.getOwnPropertyDescriptors(source),
                )
              : L(Object(source)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(source, e),
                  );
                });
        }
        return t;
      }
      var C = function () {};
      y.a.use(w.a);
      var R = {
        mode: "history",
        base: "/",
        linkActiveClass: "nuxt-link-active",
        linkExactActiveClass: "nuxt-link-exact-active",
        scrollBehavior: function (t, e, r) {
          var n = !1,
            o = t !== e;
          r
            ? (n = r)
            : o &&
              (function (t) {
                var e = Object(x.h)(t);
                if (1 === e.length) {
                  var r = e[0].options;
                  return !1 !== (void 0 === r ? {} : r).scrollToTop;
                }
                return e.some(function (t) {
                  var e = t.options;
                  return e && e.scrollToTop;
                });
              })(t) &&
              (n = { x: 0, y: 0 });
          var l = window.$nuxt;
          return (
            (!o || (t.path === e.path && t.hash !== e.hash)) &&
              l.$nextTick(function () {
                return l.$emit("triggerScroll");
              }),
            new Promise(function (e) {
              l.$once("triggerScroll", function () {
                if (t.hash) {
                  var r = t.hash;
                  void 0 !== window.CSS &&
                    void 0 !== window.CSS.escape &&
                    (r = "#" + window.CSS.escape(r.substr(1)));
                  try {
                    var o = document.querySelector(r);
                    if (o) {
                      var l;
                      n = { selector: r };
                      var c = Number(
                        null ===
                          (l = getComputedStyle(o)["scroll-margin-top"]) ||
                          void 0 === l
                          ? void 0
                          : l.replace("px", ""),
                      );
                      c && (n.offset = { y: c });
                    }
                  } catch (t) {
                    console.warn(
                      "Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).",
                    );
                  }
                }
                e(n);
              });
            })
          );
        },
        routes: [
          {
            path: "/film/",
            component: function () {
              return Object(x.n)(r.e(6).then(r.bind(null, 555)));
            },
            pathToRegexpOptions: { strict: !0 },
            name: "film",
          },
          {
            path: "/",
            component: function () {
              return Object(x.n)(r.e(7).then(r.bind(null, 556)));
            },
            pathToRegexpOptions: { strict: !0 },
            name: "index",
          },
          {
            path: "/:slug/",
            component: function () {
              return Object(x.n)(r.e(5).then(r.bind(null, 554)));
            },
            pathToRegexpOptions: { strict: !0 },
            name: "slug",
          },
        ],
        fallback: !1,
      };
      function O(t, e) {
        var base = (e._app && e._app.basePath) || R.base,
          r = new w.a(k(k({}, R), {}, { base: base })),
          n = r.push;
        r.push = function (t) {
          var e =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : C,
            r = arguments.length > 2 ? arguments[2] : void 0;
          return n.call(this, t, e, r);
        };
        var o = r.resolve.bind(r);
        return (
          (r.resolve = function (t, e, r) {
            return ("string" == typeof t && (t = Object(A.d)(t)), o(t, e, r));
          }),
          r
        );
      }
      var I = {
          name: "NuxtChild",
          functional: !0,
          props: {
            nuxtChildKey: { type: String, default: "" },
            keepAlive: Boolean,
            keepAliveProps: { type: Object, default: void 0 },
          },
          render: function (t, e) {
            var r = e.parent,
              data = e.data,
              n = e.props,
              o = r.$createElement;
            data.nuxtChild = !0;
            for (
              var l = r,
                c = r.$nuxt.nuxt.transitions,
                h = r.$nuxt.nuxt.defaultTransition,
                d = 0;
              r;
            )
              (r.$vnode && r.$vnode.data.nuxtChild && d++, (r = r.$parent));
            data.nuxtChildDepth = d;
            var f = c[d] || h,
              m = {};
            P.forEach(function (t) {
              void 0 !== f[t] && (m[t] = f[t]);
            });
            var y = {};
            F.forEach(function (t) {
              "function" == typeof f[t] && (y[t] = f[t].bind(l));
            });
            var v = y.beforeEnter;
            if (
              ((y.beforeEnter = function (t) {
                if (
                  (window.$nuxt.$nextTick(function () {
                    window.$nuxt.$emit("triggerScroll");
                  }),
                  v)
                )
                  return v.call(l, t);
              }),
              !1 === f.css)
            ) {
              var E = y.leave;
              (!E || E.length < 2) &&
                (y.leave = function (t, e) {
                  (E && E.call(l, t), l.$nextTick(e));
                });
            }
            var D = o("routerView", data);
            return (
              n.keepAlive &&
                (D = o("keep-alive", { props: n.keepAliveProps }, [D])),
              o("transition", { props: m, on: y }, [D])
            );
          },
        },
        P = [
          "name",
          "mode",
          "appear",
          "css",
          "type",
          "duration",
          "enterClass",
          "leaveClass",
          "appearClass",
          "enterActiveClass",
          "enterActiveClass",
          "leaveActiveClass",
          "appearActiveClass",
          "enterToClass",
          "leaveToClass",
          "appearToClass",
        ],
        F = [
          "beforeEnter",
          "enter",
          "afterEnter",
          "enterCancelled",
          "beforeLeave",
          "leave",
          "afterLeave",
          "leaveCancelled",
          "beforeAppear",
          "appear",
          "afterAppear",
          "appearCancelled",
        ],
        M = r(59),
        N = r(29),
        B =
          (r(123),
          {
            name: "Nuxt",
            components: { NuxtChild: I, NuxtError: M.a },
            props: {
              nuxtChildKey: { type: String, default: void 0 },
              keepAlive: Boolean,
              keepAliveProps: { type: Object, default: void 0 },
              name: { type: String, default: "default" },
            },
            errorCaptured: function (t) {
              this.displayingNuxtError &&
                ((this.errorFromNuxtError = t), this.$forceUpdate());
            },
            computed: {
              routerViewKey: function () {
                if (
                  void 0 !== this.nuxtChildKey ||
                  this.$route.matched.length > 1
                )
                  return (
                    this.nuxtChildKey ||
                    Object(x.c)(this.$route.matched[0].path)(this.$route.params)
                  );
                var t = Object(N.a)(this.$route.matched, 1)[0];
                if (!t) return this.$route.path;
                var e = t.components.default;
                if (e && e.options) {
                  var r = e.options;
                  if (r.key)
                    return "function" == typeof r.key
                      ? r.key(this.$route)
                      : r.key;
                }
                return /\/$/.test(t.path)
                  ? this.$route.path
                  : this.$route.path.replace(/\/$/, "");
              },
            },
            beforeCreate: function () {
              y.a.util.defineReactive(this, "nuxt", this.$root.$options.nuxt);
            },
            render: function (t) {
              var e = this;
              return this.nuxt.err
                ? this.errorFromNuxtError
                  ? (this.$nextTick(function () {
                      return (e.errorFromNuxtError = !1);
                    }),
                    t("div", {}, [
                      t("h2", "An error occurred while showing the error page"),
                      t(
                        "p",
                        "Unfortunately an error occurred and while showing the error page another error occurred",
                      ),
                      t(
                        "p",
                        "Error details: ".concat(
                          this.errorFromNuxtError.toString(),
                        ),
                      ),
                      t("nuxt-link", { props: { to: "/" } }, "Go back to home"),
                    ]))
                  : ((this.displayingNuxtError = !0),
                    this.$nextTick(function () {
                      return (e.displayingNuxtError = !1);
                    }),
                    t(M.a, { props: { error: this.nuxt.err } }))
                : t("NuxtChild", {
                    key: this.routerViewKey,
                    props: this.$props,
                  });
            },
          }),
        U = (r(66), r(90), r(60), r(96), r(21), r(49), r(373), r(312));
      function j(t, e) {
        var r =
          ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
          t["@@iterator"];
        if (!r) {
          if (
            Array.isArray(t) ||
            (r = (function (t, e) {
              if (!t) return;
              if ("string" == typeof t) return $(t, e);
              var r = Object.prototype.toString.call(t).slice(8, -1);
              "Object" === r && t.constructor && (r = t.constructor.name);
              if ("Map" === r || "Set" === r) return Array.from(t);
              if (
                "Arguments" === r ||
                /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
              )
                return $(t, e);
            })(t)) ||
            (e && t && "number" == typeof t.length)
          ) {
            r && (t = r);
            var i = 0,
              n = function () {};
            return {
              s: n,
              n: function () {
                return i >= t.length
                  ? { done: !0 }
                  : { done: !1, value: t[i++] };
              },
              e: function (t) {
                throw t;
              },
              f: n,
            };
          }
          throw new TypeError(
            "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
          );
        }
        var o,
          l = !0,
          c = !1;
        return {
          s: function () {
            r = r.call(t);
          },
          n: function () {
            var t = r.next();
            return ((l = t.done), t);
          },
          e: function (t) {
            ((c = !0), (o = t));
          },
          f: function () {
            try {
              l || null == r.return || r.return();
            } finally {
              if (c) throw o;
            }
          },
        };
      }
      function $(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, r = new Array(e); i < e; i++) r[i] = t[i];
        return r;
      }
      var G = { _default: Object(x.s)(U.a) },
        K = {
          render: function (t, e) {
            var r = t(this.layout || "nuxt"),
              n = t(
                "div",
                { domProps: { id: "__layout" }, key: this.layoutName },
                [r],
              ),
              o = t(
                "transition",
                {
                  props: { name: "layout", mode: "out-in" },
                  on: {
                    beforeEnter: function (t) {
                      window.$nuxt.$nextTick(function () {
                        window.$nuxt.$emit("triggerScroll");
                      });
                    },
                  },
                },
                [n],
              );
            return t("div", { domProps: { id: "__nuxt" } }, [o]);
          },
          data: function () {
            return {
              isOnline: !0,
              layout: null,
              layoutName: "",
              nbFetching: 0,
            };
          },
          beforeCreate: function () {
            y.a.util.defineReactive(this, "nuxt", this.$options.nuxt);
          },
          created: function () {
            ((this.$root.$options.$nuxt = this),
              (window.$nuxt = this),
              this.refreshOnlineStatus(),
              window.addEventListener("online", this.refreshOnlineStatus),
              window.addEventListener("offline", this.refreshOnlineStatus),
              (this.error = this.nuxt.error),
              (this.context = this.$options.context));
          },
          mounted: function () {
            var t = this;
            return Object(f.a)(
              regeneratorRuntime.mark(function e() {
                return regeneratorRuntime.wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        if (!t.isPreview) {
                          e.next = 6;
                          break;
                        }
                        if (!t.$store || !t.$store._actions.nuxtServerInit) {
                          e.next = 4;
                          break;
                        }
                        return (
                          (e.next = 4),
                          t.$store.dispatch("nuxtServerInit", t.context)
                        );
                      case 4:
                        return ((e.next = 6), t.refresh());
                      case 6:
                      case "end":
                        return e.stop();
                    }
                }, e);
              }),
            )();
          },
          watch: { "nuxt.err": "errorChanged" },
          computed: {
            isOffline: function () {
              return !this.isOnline;
            },
            isFetching: function () {
              return this.nbFetching > 0;
            },
            isPreview: function () {
              return Boolean(this.$options.previewData);
            },
          },
          methods: {
            refreshOnlineStatus: function () {
              void 0 === window.navigator.onLine
                ? (this.isOnline = !0)
                : (this.isOnline = window.navigator.onLine);
            },
            refresh: function () {
              var t = this;
              return Object(f.a)(
                regeneratorRuntime.mark(function e() {
                  var r, n;
                  return regeneratorRuntime.wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if ((r = Object(x.i)(t.$route)).length) {
                              e.next = 3;
                              break;
                            }
                            return e.abrupt("return");
                          case 3:
                            return (
                              (n = r.map(
                                (function () {
                                  var e = Object(f.a)(
                                    regeneratorRuntime.mark(function e(r) {
                                      var p, n, o, component;
                                      return regeneratorRuntime.wrap(function (
                                        e,
                                      ) {
                                        for (;;)
                                          switch ((e.prev = e.next)) {
                                            case 0:
                                              return (
                                                (p = []),
                                                r.$options.fetch &&
                                                  r.$options.fetch.length &&
                                                  p.push(
                                                    Object(x.q)(
                                                      r.$options.fetch,
                                                      t.context,
                                                    ),
                                                  ),
                                                r.$options.asyncData &&
                                                  p.push(
                                                    Object(x.q)(
                                                      r.$options.asyncData,
                                                      t.context,
                                                    ).then(function (t) {
                                                      for (var e in t)
                                                        y.a.set(
                                                          r.$data,
                                                          e,
                                                          t[e],
                                                        );
                                                    }),
                                                  ),
                                                (e.next = 5),
                                                Promise.all(p)
                                              );
                                            case 5:
                                              ((p = []),
                                                r.$fetch && p.push(r.$fetch()),
                                                (n = j(
                                                  Object(x.f)(
                                                    r.$vnode.componentInstance,
                                                  ),
                                                )));
                                              try {
                                                for (n.s(); !(o = n.n()).done; )
                                                  ((component = o.value),
                                                    p.push(component.$fetch()));
                                              } catch (t) {
                                                n.e(t);
                                              } finally {
                                                n.f();
                                              }
                                              return e.abrupt(
                                                "return",
                                                Promise.all(p),
                                              );
                                            case 10:
                                            case "end":
                                              return e.stop();
                                          }
                                      }, e);
                                    }),
                                  );
                                  return function (t) {
                                    return e.apply(this, arguments);
                                  };
                                })(),
                              )),
                              (e.prev = 4),
                              (e.next = 7),
                              Promise.all(n)
                            );
                          case 7:
                            e.next = 13;
                            break;
                          case 9:
                            ((e.prev = 9),
                              (e.t0 = e.catch(4)),
                              Object(x.l)(e.t0),
                              t.error(e.t0));
                          case 13:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[4, 9]],
                  );
                }),
              )();
            },
            errorChanged: function () {
              if (this.nuxt.err) {
                var t = (M.a.options || M.a).layout;
                ("function" == typeof t && (t = t(this.context)),
                  this.setLayout(t));
              }
            },
            setLayout: function (t) {
              return (
                (t && G["_" + t]) || (t = "default"),
                (this.layoutName = t),
                (this.layout = G["_" + t]),
                this.layout
              );
            },
            loadLayout: function (t) {
              return (
                (t && G["_" + t]) || (t = "default"),
                Promise.resolve(G["_" + t])
              );
            },
            getRouterBase: function () {
              return Object(A.h)(this.$router.options.base);
            },
            getRoutePath: function () {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : "/",
                base = this.getRouterBase();
              return Object(A.h)(Object(A.g)(Object(A.e)(t).pathname, base));
            },
            getStaticAssetsPath: function () {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : "/",
                e = window.__NUXT__.staticAssetsBase;
              return Object(x.v)(e, this.getRoutePath(t));
            },
            fetchStaticManifest: function () {
              var t = this;
              return Object(f.a)(
                regeneratorRuntime.mark(function e() {
                  return regeneratorRuntime.wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return e.abrupt(
                            "return",
                            window.__NUXT_IMPORT__(
                              "manifest.js",
                              Object(A.d)(
                                Object(x.v)(
                                  t.getStaticAssetsPath(),
                                  "manifest.js",
                                ),
                              ),
                            ),
                          );
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                }),
              )();
            },
            setPagePayload: function (t) {
              ((this._pagePayload = t), (this._fetchCounters = {}));
            },
            fetchPayload: function (t, e) {
              var r = this;
              return Object(f.a)(
                regeneratorRuntime.mark(function n() {
                  var path, o, l;
                  return regeneratorRuntime.wrap(
                    function (n) {
                      for (;;)
                        switch ((n.prev = n.next)) {
                          case 0:
                            return (
                              (path = Object(A.a)(r.getRoutePath(t))),
                              (n.next = 3),
                              r.fetchStaticManifest()
                            );
                          case 3:
                            if (n.sent.routes.includes(path)) {
                              n.next = 7;
                              break;
                            }
                            throw (
                              e || r.setPagePayload(!1),
                              new Error(
                                "Route ".concat(path, " is not pre-rendered"),
                              )
                            );
                          case 7:
                            return (
                              (o = Object(x.v)(
                                r.getStaticAssetsPath(t),
                                "payload.js",
                              )),
                              (n.prev = 8),
                              (n.next = 11),
                              window.__NUXT_IMPORT__(path, Object(A.d)(o))
                            );
                          case 11:
                            return (
                              (l = n.sent),
                              e || r.setPagePayload(l),
                              n.abrupt("return", l)
                            );
                          case 16:
                            throw (
                              (n.prev = 16),
                              (n.t0 = n.catch(8)),
                              e || r.setPagePayload(!1),
                              n.t0
                            );
                          case 20:
                          case "end":
                            return n.stop();
                        }
                    },
                    n,
                    null,
                    [[8, 16]],
                  );
                }),
              )();
            },
          },
        };
      y.a.use(v.a);
      var H = ["state", "getters", "actions", "mutations"],
        V = {};
      (((V = (function (t, e) {
        if ((t = t.default || t).commit)
          throw new Error(
            "[nuxt] ".concat(
              e,
              " should export a method that returns a Vuex instance.",
            ),
          );
        return ("function" != typeof t && (t = Object.assign({}, t)), z(t, e));
      })(r(468), "store/index.js")).modules = V.modules || {}),
        W(r(469), "favicons.js"),
        W(r(470), "pages.js"),
        W(r(471), "seo.js"),
        W(r(472), "social.js"));
      var Y =
        V instanceof Function
          ? V
          : function () {
              return new v.a.Store(Object.assign({ strict: !1 }, V));
            };
      function z(t, e) {
        if (t.state && "function" != typeof t.state) {
          console.warn(
            "'state' should be a method that returns an object in ".concat(e),
          );
          var r = Object.assign({}, t.state);
          t = Object.assign({}, t, {
            state: function () {
              return r;
            },
          });
        }
        return t;
      }
      function W(t, e) {
        t = t.default || t;
        var r = e.replace(/\.(js|mjs)$/, "").split("/"),
          n = r[r.length - 1],
          o = "store/".concat(e);
        if (
          ((t =
            "state" === n
              ? (function (t, e) {
                  if ("function" != typeof t) {
                    console.warn(
                      "".concat(
                        e,
                        " should export a method that returns an object",
                      ),
                    );
                    var r = Object.assign({}, t);
                    return function () {
                      return r;
                    };
                  }
                  return z(t, e);
                })(t, o)
              : z(t, o)),
          H.includes(n))
        ) {
          var l = n;
          Q(X(V, r, { isProperty: !0 }), t, l);
        } else {
          "index" === n && (r.pop(), (n = r[r.length - 1]));
          for (var c = X(V, r), h = 0, d = H; h < d.length; h++) {
            var f = d[h];
            Q(c, t[f], f);
          }
          !1 === t.namespaced && delete c.namespaced;
        }
      }
      function X(t, e) {
        var r = (
            arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
          ).isProperty,
          n = void 0 !== r && r;
        if (!e.length || (n && 1 === e.length)) return t;
        var o = e.shift();
        return (
          (t.modules[o] = t.modules[o] || {}),
          (t.modules[o].namespaced = !0),
          (t.modules[o].modules = t.modules[o].modules || {}),
          X(t.modules[o], e, { isProperty: n })
        );
      }
      function Q(t, e, r) {
        e &&
          ("state" === r
            ? (t.state = e || t.state)
            : (t[r] = Object.assign({}, t[r], e)));
      }
      var J = function () {
          return Promise.resolve()
            .then(r.bind(null, 525))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        Z = function () {
          return Promise.resolve()
            .then(r.bind(null, 512))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        tt = function () {
          return Promise.resolve()
            .then(r.bind(null, 513))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        et = function () {
          return Promise.resolve()
            .then(r.bind(null, 508))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        nt = function () {
          return Promise.resolve()
            .then(r.bind(null, 509))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        it = function () {
          return Promise.resolve()
            .then(r.bind(null, 510))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        st = function () {
          return r
            .e(2)
            .then(r.bind(null, 543))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        at = function () {
          return Promise.all([r.e(10), r.e(3)])
            .then(r.bind(null, 557))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        ot = function () {
          return Promise.resolve()
            .then(r.bind(null, 521))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        lt = function () {
          return Promise.resolve()
            .then(r.bind(null, 520))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        ut = function () {
          return Promise.resolve()
            .then(r.bind(null, 524))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        ct = function () {
          return Promise.resolve()
            .then(r.bind(null, 522))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        ht = function () {
          return Promise.resolve()
            .then(r.bind(null, 523))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        ft = function () {
          return Promise.resolve()
            .then(r.bind(null, 189))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        pt = function () {
          return Promise.resolve()
            .then(r.bind(null, 526))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        gt = function () {
          return Promise.resolve()
            .then(r.bind(null, 511))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        mt = function () {
          return Promise.resolve()
            .then(r.bind(null, 518))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        yt = function () {
          return Promise.resolve()
            .then(r.bind(null, 519))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        vt = function () {
          return Promise.resolve()
            .then(r.bind(null, 515))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        bt = function () {
          return Promise.resolve()
            .then(r.bind(null, 514))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        Et = function () {
          return Promise.resolve()
            .then(r.bind(null, 517))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        Dt = function () {
          return Promise.resolve()
            .then(r.bind(null, 516))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        Tt = function () {
          return r
            .e(4)
            .then(r.bind(null, 536))
            .then(function (t) {
              return _t(t.default || t);
            });
        },
        St = function () {
          return Promise.resolve()
            .then(r.bind(null, 294))
            .then(function (t) {
              return _t(t.default || t);
            });
        };
      function _t(t) {
        if (!t || !t.functional) return t;
        var e = Array.isArray(t.props) ? t.props : Object.keys(t.props || {});
        return {
          render: function (r) {
            var n = {},
              o = {};
            for (var l in this.$attrs)
              e.includes(l) ? (o[l] = this.$attrs[l]) : (n[l] = this.$attrs[l]);
            return r(
              t,
              {
                on: this.$listeners,
                attrs: n,
                props: o,
                scopedSlots: this.$scopedSlots,
              },
              this.$slots.default,
            );
          },
        };
      }
      for (var wt in n)
        (y.a.component(wt, n[wt]), y.a.component("Lazy" + wt, n[wt]));
      (r(283), r(33), r(52));
      var At = "dataLayer";
      var xt = function (t, e) {
          ((t.$config && t.$config.gtm) || {}).id;
          var r = (function (t, e) {
            return {
              init: function () {
                var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : "";
                !e[t] &&
                  window._gtm_inject &&
                  (window._gtm_inject(t), (e[t] = !0));
              },
              push: function (t) {
                (window[At] || (window[At] = []), window[At].push(t));
              },
            };
          })(0, {});
          ((t.$gtm = r),
            e("gtm", t.$gtm),
            (function (t) {
              t.app.router.afterEach(function (e) {
                setTimeout(function () {
                  t.$gtm.push(
                    e.gtm || {
                      routeName: e.name,
                      pageType: "PageView",
                      pageUrl: "" + e.fullPath,
                      pageTitle:
                        ("undefined" != typeof document && document.title) ||
                        "",
                      event: "nuxtRoute",
                    },
                  );
                }, 250);
              });
            })(t));
        },
        Lt = r(300),
        kt = r.n(Lt),
        Ct = r(4);
      function Rt(data) {
        return Object(Ct.c)(Object(Ct.e)(data));
      }
      var Ot = r(19),
        It = r.n(Ot),
        Pt = r(303),
        Ft = r.n(Pt);
      function Mt(data) {
        return Object.defineProperty(data, "stringifySafe", {
          enumerable: !1,
          configurable: !1,
          writable: !1,
          value: function () {
            var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : null,
              e =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : "";
            return Ft()(this, t, e, function (t, e) {
              return {
                sys: {
                  type: "Link",
                  linkType: "Entry",
                  id: e.sys.id,
                  circular: !0,
                },
              };
            });
          },
        });
      }
      var Nt =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              },
        Bt = function (t, i) {
          if (Array.isArray(t)) return t;
          if (Symbol.iterator in Object(t))
            return (function (t, i) {
              var e = [],
                r = !0,
                n = !1,
                o = void 0;
              try {
                for (
                  var l, c = t[Symbol.iterator]();
                  !(r = (l = c.next()).done) &&
                  (e.push(l.value), !i || e.length !== i);
                  r = !0
                );
              } catch (t) {
                ((n = !0), (o = t));
              } finally {
                try {
                  !r && c.return && c.return();
                } finally {
                  if (n) throw o;
                }
              }
              return e;
            })(t, i);
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance",
          );
        };
      function Ut(t) {
        if (Array.isArray(t)) {
          for (var i = 0, e = Array(t.length); i < t.length; i++) e[i] = t[i];
          return e;
        }
        return Array.from(t);
      }
      var jt = {},
        $t = function (t, e) {
          var r = e.entryId,
            n = e.linkType,
            o = e.spaceId,
            l = e.environmentId;
          return o && l
            ? t.get(o + "!" + l + "!" + n + "!" + r)
            : t.get(n + "!" + r);
        },
        Gt = function (t, link) {
          var e = link.sys,
            r = e.type,
            n = e.linkType;
          if ("ResourceLink" === r) {
            var o = (function (t) {
                var e =
                  /.*:spaces\/([^/]+)(?:\/environments\/([^/]+))?\/entries\/([^/]+)$/;
                if (e.test(t)) {
                  var r = t.match(e),
                    n = Bt(r, 4),
                    o = (n[0], n[1]),
                    l = n[2];
                  return {
                    spaceId: o,
                    environmentId: void 0 === l ? "master" : l,
                    entryId: n[3],
                  };
                }
              })(link.sys.urn),
              l = o.spaceId,
              c = o.environmentId,
              h = o.entryId,
              d = n.split(":")[1];
            return (
              $t(t, {
                linkType: d,
                entryId: h,
                spaceId: l,
                environmentId: c,
              }) || jt
            );
          }
          var f = link.sys.id;
          return $t(t, { linkType: n, entryId: f }) || jt;
        },
        Kt = function t(input, e, r, n) {
          if (e(input)) return r(input);
          if (
            input &&
            "object" === (void 0 === input ? "undefined" : Nt(input))
          ) {
            for (var o in input)
              input.hasOwnProperty(o) && (input[o] = t(input[o], e, r, n));
            n &&
              (input = (function (input) {
                if (Array.isArray(input))
                  return input.filter(function (t) {
                    return t !== jt;
                  });
                for (var t in input) input[t] === jt && delete input[t];
                return input;
              })(input));
          }
          return input;
        },
        Ht = function (t, e) {
          if (((e = e || {}), !t.items)) return [];
          var r = It()(t),
            n = Object.keys(r.includes || {}).reduce(function (e, r) {
              return [].concat(Ut(e), Ut(t.includes[r]));
            }, []),
            o = [].concat(Ut(r.items), Ut(n)).filter(function (t) {
              return Boolean(t.sys);
            }),
            l = new Map(
              o.reduce(function (t, e) {
                var r,
                  n = ((r = e.sys),
                  r.space && r.environment
                    ? [
                        r.type + "!" + r.id,
                        r.space.sys.id +
                          "!" +
                          r.environment.sys.id +
                          "!" +
                          r.type +
                          "!" +
                          r.id,
                      ]
                    : [r.type + "!" + r.id]).map(function (t) {
                    return [t, e];
                  });
                return (t.push.apply(t, Ut(n)), t);
              }, []),
            );
          return (
            o.forEach(function (t) {
              var r = (function (t, e) {
                return Array.isArray(e)
                  ? Object.keys(t)
                      .filter(function (t) {
                        return -1 !== e.indexOf(t);
                      })
                      .reduce(function (e, r) {
                        return ((e[r] = t[r]), e);
                      }, {})
                  : t;
              })(t, e.itemEntryPoints);
              Object.assign(
                t,
                Kt(
                  r,
                  function (t) {
                    return (
                      ((object = t) &&
                        object.sys &&
                        "Link" === object.sys.type) ||
                      (function (object) {
                        return (
                          object &&
                          object.sys &&
                          "ResourceLink" === object.sys.type
                        );
                      })(t)
                    );
                    var object;
                  },
                  function (link) {
                    return (function (t, link, e) {
                      var r = Gt(t, link);
                      return r === jt ? (e ? r : link) : r;
                    })(l, link, e.removeUnresolved);
                  },
                  e.removeUnresolved,
                ),
              );
            }),
            r.items
          );
        };
      function Vt(data) {
        return Object(Ct.c)(Object(Ct.e)(It()(data)));
      }
      function Yt(data, t) {
        var e = t.resolveLinks,
          r = t.removeUnresolved,
          n = Mt(Object(Ct.e)(It()(data)));
        return (
          e &&
            (n.items = Ht(n, {
              removeUnresolved: r,
              itemEntryPoints: ["fields"],
            })),
          Object(Ct.c)(n)
        );
      }
      function zt(data) {
        return Object(Ct.c)(Object(Ct.e)(It()(data)));
      }
      function Wt(data) {
        return Object(Ct.c)(Object(Ct.e)(It()(data)));
      }
      function qt(data) {
        return Object(Ct.c)(Object(Ct.e)(It()(data)));
      }
      function Xt(data) {
        return Object(Ct.c)(Object(Ct.e)(It()(data)));
      }
      function Qt(data) {
        return Object(Ct.c)(Object(Ct.e)(It()(data)));
      }
      function Jt(data) {
        return Object(Ct.c)(Object(Ct.e)(It()(data)));
      }
      var Zt = { space: o, entry: l, asset: c, contentType: h, locale: d };
      function te(object, t) {
        var e = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var r = Object.getOwnPropertySymbols(object);
          (t &&
            (r = r.filter(function (t) {
              return Object.getOwnPropertyDescriptor(object, t).enumerable;
            })),
            e.push.apply(e, r));
        }
        return e;
      }
      function ee(t) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2
            ? te(Object(source), !0).forEach(function (e) {
                re(t, e, source[e]);
              })
            : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(
                  t,
                  Object.getOwnPropertyDescriptors(source),
                )
              : te(Object(source)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(source, e),
                  );
                });
        }
        return t;
      }
      function re(t, e, r) {
        return (
          e in t
            ? Object.defineProperty(t, e, {
                value: r,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              })
            : (t[e] = r),
          t
        );
      }
      function ne(t, e) {
        var r =
          arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        if (!e || (!e.initial && !e.nextSyncToken && !e.nextPageToken))
          throw new Error(
            "Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing",
          );
        if (e && e.content_type && !e.type) e.type = "Entry";
        else if (e && e.content_type && e.type && "Entry" !== e.type)
          throw new Error(
            "When using the `content_type` filter your `type` parameter cannot be different from `Entry`.",
          );
        var n = ee(
            ee({}, { resolveLinks: !0, removeUnresolved: !1, paginate: !0 }),
            r,
          ),
          o = n.resolveLinks,
          l = n.removeUnresolved;
        return ie(t, [], e, { paginate: n.paginate }).then(
          function (t) {
            o &&
              (t.items = Ht(t, {
                removeUnresolved: l,
                itemEntryPoints: ["fields"],
              }));
            var e,
              r,
              n =
                ((e = t.items),
                (r = function (t) {
                  return function (e, r) {
                    return (r.sys.type === t && e.push(Object(Ct.e)(r)), e);
                  };
                }),
                {
                  entries: e.reduce(r("Entry"), []),
                  assets: e.reduce(r("Asset"), []),
                  deletedEntries: e.reduce(r("DeletedEntry"), []),
                  deletedAssets: e.reduce(r("DeletedAsset"), []),
                });
            return (
              t.nextSyncToken && (n.nextSyncToken = t.nextSyncToken),
              t.nextPageToken && (n.nextPageToken = t.nextPageToken),
              Object(Ct.c)(Mt(Object(Ct.e)(n)))
            );
          },
          function (t) {
            throw t;
          },
        );
      }
      function ie(t, e, r, n) {
        var o = n.paginate;
        return (
          r.nextSyncToken &&
            ((r.sync_token = r.nextSyncToken), delete r.nextSyncToken),
          r.nextPageToken &&
            ((r.sync_token = r.nextPageToken), delete r.nextPageToken),
          r.sync_token &&
            (delete r.initial,
            delete r.type,
            delete r.content_type,
            delete r.limit),
          t.get("sync", Object(Ct.b)({ query: r })).then(function (n) {
            var data = n.data || {};
            return (
              (e = e.concat(data.items || [])),
              data.nextPageUrl
                ? o
                  ? (delete r.initial,
                    (r.sync_token = se(data.nextPageUrl)),
                    ie(t, e, r, { paginate: o }))
                  : { items: e, nextPageToken: se(data.nextPageUrl) }
                : data.nextSyncUrl
                  ? { items: e, nextSyncToken: se(data.nextSyncUrl) }
                  : { items: [] }
            );
          })
        );
      }
      function se(t) {
        var e = t.split("?");
        return e.length > 0 ? e[1].replace("sync_token=", "") : "";
      }
      function ae(t) {
        return (
          (function (t) {
            if (Array.isArray(t)) return oe(t);
          })(t) ||
          (function (t) {
            if ("undefined" != typeof Symbol && Symbol.iterator in Object(t))
              return Array.from(t);
          })(t) ||
          (function (t, e) {
            if (!t) return;
            if ("string" == typeof t) return oe(t, e);
            var r = Object.prototype.toString.call(t).slice(8, -1);
            "Object" === r && t.constructor && (r = t.constructor.name);
            if ("Map" === r || "Set" === r) return Array.from(t);
            if (
              "Arguments" === r ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
            )
              return oe(t, e);
          })(t) ||
          (function () {
            throw new TypeError(
              "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
            );
          })()
        );
      }
      function oe(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, r = new Array(e); i < e; i++) r[i] = t[i];
        return r;
      }
      function le(t) {
        if (t.select) {
          var e = t.select.split(","),
            r = new Set(e);
          r.has("sys") ||
            (r.add("sys.id"), r.add("sys.type"), (t.select = ae(r).join(",")));
        }
      }
      function ue(object, t) {
        var e = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var r = Object.getOwnPropertySymbols(object);
          (t &&
            (r = r.filter(function (t) {
              return Object.getOwnPropertyDescriptor(object, t).enumerable;
            })),
            e.push.apply(e, r));
        }
        return e;
      }
      function ce(t) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2
            ? ue(Object(source), !0).forEach(function (e) {
                he(t, e, source[e]);
              })
            : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(
                  t,
                  Object.getOwnPropertyDescriptors(source),
                )
              : ue(Object(source)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(source, e),
                  );
                });
        }
        return t;
      }
      function he(t, e, r) {
        return (
          e in t
            ? Object.defineProperty(t, e, {
                value: r,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              })
            : (t[e] = r),
          t
        );
      }
      function de(t) {
        var e = t.http,
          r = t.getGlobalOptions,
          n = Zt.space.wrapSpace,
          o = Zt.contentType,
          l = o.wrapContentType,
          c = o.wrapContentTypeCollection,
          h = Zt.entry,
          d = h.wrapEntry,
          f = h.wrapEntryCollection,
          m = Zt.asset,
          y = m.wrapAsset,
          v = m.wrapAssetCollection,
          E = Zt.locale.wrapLocaleCollection,
          D = function (t) {
            var e = new Error("The resource could not be found.");
            return (
              (e.sys = { type: "Error", id: "NotFound" }),
              (e.details = {
                type: "Entry",
                id: t,
                environment: r().environment,
                space: r().space,
              }),
              e
            );
          };
        function T(t) {
          if (t.data) throw t.data;
          if (t.response && t.response.data) throw t.response.data;
          throw t;
        }
        function S(t) {
          t.defaults.baseURL = r().environmentBaseUrl;
        }
        return {
          getSpace: function () {
            return (
              (function (t) {
                t.defaults.baseURL = r().spaceBaseUrl;
              })(e),
              e.get("").then(function (t) {
                return n(t.data);
              }, T)
            );
          },
          getContentType: function (t) {
            return (
              S(e),
              e.get("content_types/" + t).then(function (t) {
                return l(t.data);
              }, T)
            );
          },
          getContentTypes: function () {
            var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
            return (
              S(e),
              e.get("content_types", Object(Ct.b)({ query: t })).then(function (
                t,
              ) {
                return c(t.data);
              }, T)
            );
          },
          getEntry: function (t) {
            var e =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {};
            return t
              ? this.getEntries(ce({ "sys.id": t }, e)).then(function (e) {
                  if (e.items.length > 0) return d(e.items[0]);
                  throw D(t);
                }, T)
              : Promise.reject(D(t));
          },
          getEntries: function () {
            var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
            S(e);
            var n = r(t),
              o = n.resolveLinks,
              l = n.removeUnresolved;
            return (
              le(t),
              e.get("entries", Object(Ct.b)({ query: t })).then(function (t) {
                return f(t.data, { resolveLinks: o, removeUnresolved: l });
              }, T)
            );
          },
          getAsset: function (t) {
            var r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {};
            return (
              S(e),
              le(r),
              e.get("assets/" + t, Object(Ct.b)({ query: r })).then(function (
                t,
              ) {
                return y(t.data);
              }, T)
            );
          },
          getAssets: function () {
            var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
            return (
              S(e),
              le(t),
              e.get("assets", Object(Ct.b)({ query: t })).then(function (t) {
                return v(t.data);
              }, T)
            );
          },
          getLocales: function () {
            var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
            return (
              S(e),
              e.get("locales", Object(Ct.b)({ query: t })).then(function (t) {
                return E(t.data);
              }, T)
            );
          },
          parseEntries: function (data) {
            var t = r({}),
              e = t.resolveLinks,
              n = t.removeUnresolved;
            return f(data, { resolveLinks: e, removeUnresolved: n });
          },
          sync: function () {
            var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              n =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : { paginate: !0 },
              o = r(t),
              l = o.resolveLinks,
              c = o.removeUnresolved;
            return (
              S(e),
              ne(e, t, ce({ resolveLinks: l, removeUnresolved: c }, n))
            );
          },
        };
      }
      function fe(object, t) {
        var e = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var r = Object.getOwnPropertySymbols(object);
          (t &&
            (r = r.filter(function (t) {
              return Object.getOwnPropertyDescriptor(object, t).enumerable;
            })),
            e.push.apply(e, r));
        }
        return e;
      }
      function pe(t) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2
            ? fe(Object(source), !0).forEach(function (e) {
                ge(t, e, source[e]);
              })
            : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(
                  t,
                  Object.getOwnPropertyDescriptors(source),
                )
              : fe(Object(source)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(source, e),
                  );
                });
        }
        return t;
      }
      function ge(t, e, r) {
        return (
          e in t
            ? Object.defineProperty(t, e, {
                value: r,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              })
            : (t[e] = r),
          t
        );
      }
      function me(t) {
        if (!t.accessToken)
          throw new TypeError("Expected parameter accessToken");
        if (!t.space) throw new TypeError("Expected parameter space");
        var e = pe(
            pe(
              {},
              {
                resolveLinks: !0,
                removeUnresolved: !1,
                defaultHostname: "cdn.contentful.com",
                environment: "master",
              },
            ),
            t,
          ),
          r = Object(Ct.d)(
            "contentful.js/".concat("0.0.0-determined-by-semantic-release"),
            e.application,
            e.integration,
          );
        e.headers = pe(
          pe({}, e.headers),
          {},
          {
            "Content-Type": "application/vnd.contentful.delivery.v1+json",
            "X-Contentful-User-Agent": r,
          },
        );
        var n,
          o = Object(Ct.a)(kt.a, e),
          l =
            ((n = {
              resolveLinks: e.resolveLinks,
              environment: e.environment,
              removeUnresolved: e.removeUnresolved,
              spaceBaseUrl: o.defaults.baseURL,
              environmentBaseUrl: ""
                .concat(o.defaults.baseURL, "environments/")
                .concat(e.environment),
            }),
            function (t) {
              return Object.assign({}, n, t);
            });
        return (
          (o.defaults.baseURL = l().environmentBaseUrl),
          (function (t) {
            t.interceptors.response.use(
              function (t) {
                return t;
              },
              function (t) {
                if (t.response && t.response.config.headers.Authorization) {
                  var e = t.response.config.headers.Authorization;
                  ((t.response.config.headers.Authorization =
                    t.response.config.headers.Authorization.replace(
                      e,
                      "Bearer...".concat(e.substr(-5)),
                    )),
                    t.response.request._headers &&
                      t.response.request._headers.authorization &&
                      (t.response.request._headers.authorization =
                        t.response.request._headers.authorization.replace(
                          e,
                          "Bearer...".concat(e.substr(-5)),
                        )),
                    t.response.request._header &&
                      (t.response.request._header =
                        t.response.request._header.replace(
                          e,
                          "Bearer...".concat(e.substr(-5)),
                        )));
                }
                return Promise.reject(t);
              },
            );
          })(o),
          de({ http: o, getGlobalOptions: l })
        );
      }
      var ye = function (t, e) {
          e(
            "contentful",
            (function (t) {
              var e = Object.keys(t.environments).reduce(function (e, r) {
                return Object.assign(
                  {},
                  e,
                  Object(m.a)({}, r, me(t.environments[r])),
                );
              }, {});
              return { environments: e, client: e[t.default] };
            })({
              default: "campaign",
              activeEnvironments: ["campaign", "master", "preview"],
              environments: {
                campaign: {
                  space: "774wrlwo66l2",
                  accessToken: "s_wGmJ4c38NI14ipAZBvt62yyu07aqZz4hmQv1phOEc",
                  environment: "master",
                  removeUnresolved: !0,
                },
                master: {
                  space: "57fahiw4uj5z",
                  accessToken: "fgMdozZrf3ejfTcYrKwqUCICoRyTJY9BcKy7QW0EqVw",
                  environment: "master",
                  removeUnresolved: !0,
                },
                preview: {
                  space: "57fahiw4uj5z",
                  accessToken: "gWmTwEMM822EaSYoNBTQfjyx2iDcUlbjo8_s5k2kXPY",
                  environment: "master",
                  host: "preview.contentful.com",
                  removeUnresolved: !0,
                },
              },
            }),
          );
        },
        ve = r(304),
        be = r.n(ve),
        Ee = function (t, e) {
          var r = t.req,
            n = t.res,
            o = !0;
          e("cookies", be()(r, n, o));
        },
        De = r(305),
        Te = r.n(De);
      function Se(t) {
        var e = Object.keys(t),
          r = e.map(function (e) {
            return t[e];
          }),
          n = [0].concat(
            (function (t) {
              if (Array.isArray(t)) {
                for (var i = 0, e = new Array(t.length); i < t.length; i++)
                  e[i] = t[i];
                return e;
              }
              return Array.from(t);
            })(r.slice(0, -1)),
          );
        return n.reduce(function (t, r, o) {
          var l = Object.assign(
              { minWidth: r },
              o < e.length - 1 ? { maxWidth: n[o + 1] - 1 } : {},
            ),
            c = Te()(l);
          return Object.assign(
            t,
            (function (t, e, r) {
              return (
                e in t
                  ? Object.defineProperty(t, e, {
                      value: r,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = r),
                t
              );
            })({}, e[o], c),
          );
        }, {});
      }
      function _e(t) {
        return "[object Array]" === Object.prototype.toString.call(t);
      }
      var we = {
          props: { mq: { required: !0, type: [String, Array] } },
          computed: {
            plusModifier: function () {
              return !_e(this.mq) && "+" === this.mq.slice(-1);
            },
            activeBreakpoints: function () {
              var t = Object.keys(this.$mqAvailableBreakpoints),
                e = this.plusModifier
                  ? this.mq.slice(0, -1)
                  : _e(this.mq)
                    ? this.mq
                    : [this.mq];
              return this.plusModifier
                ? (function (t, e) {
                    var r = t.findIndex(function (b) {
                      return b === e;
                    });
                    return t.slice(r);
                  })(t, e)
                : e;
            },
          },
          render: function (t, e) {
            return this.activeBreakpoints.includes(this.$mq)
              ? t("div", this.$slots.default)
              : t();
          },
        },
        Ae = { sm: 450, md: 1250, lg: 1 / 0 },
        xe = {
          install: function (t) {
            var e =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : {},
              r = e.breakpoints,
              n = void 0 === r ? Ae : r,
              o = e.defaultBreakpoint,
              l = void 0 === o ? "sm" : o,
              c = !1,
              h = new t({
                data: function () {
                  return { currentBreakpoint: l };
                },
              });
            (t.filter("mq", function (t, e) {
              return (function (t, e, r) {
                return (function r(n) {
                  if (void 0 !== e[n]) return e[n];
                  var o = t.findIndex(function (b) {
                      return b === n;
                    }),
                    l = -1 !== o || 0 !== o ? t[o - 1] : null;
                  return l ? (void 0 !== e[l] ? e[l] : r(l)) : e[o];
                })(r);
              })(Object.keys(n), e, t);
            }),
              t.mixin({
                computed: {
                  $mq: function () {
                    return h.currentBreakpoint;
                  },
                },
                created: function () {
                  this.$isServer && (h.currentBreakpoint = l);
                },
                mounted: function () {
                  if (!c) {
                    var t = Se(n),
                      e = function (e) {
                        !(function (t, e) {
                          var r = window.matchMedia(t),
                            n = function (t) {
                              t.matches && e();
                            };
                          (r.addListener(n), n(r));
                        })(t[e], function () {
                          h.currentBreakpoint = e;
                        });
                      };
                    for (var r in t) e(r);
                    c = !0;
                  }
                },
              }),
              (t.prototype.$mqAvailableBreakpoints = n),
              t.component("MqLayout", we));
          },
        },
        Le = xe;
      y.a.use(Le, {
        defaultBreakpoint: "sm",
        breakpoints: {
          sm: 768,
          md: 1180,
          lg: 1440,
          xl: 1680,
          xxl: 1921,
          xxxl: 1 / 0,
        },
      });
      var ke = r(178),
        Ce = r.n(ke),
        Re = r(130),
        Oe = r.n(Re);
      function Ie(t) {
        if (void 0 === t)
          throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called",
          );
        return t;
      }
      function Pe(t, e) {
        ((t.prototype = Object.create(e.prototype)),
          (t.prototype.constructor = t),
          (t.__proto__ = e));
      }
      (Object.assign(Oe.a.cfg, { expand: 800 }), r(502));
      var Fe,
        Me,
        Ne,
        Be,
        Ue,
        je,
        $e,
        Ge,
        Ke,
        He,
        Ve,
        Ye,
        ze,
        We,
        qe,
        Xe = {
          autoSleep: 120,
          force3D: "auto",
          nullTargetWarn: 1,
          units: { lineHeight: "" },
        },
        Qe = { duration: 0.5, overwrite: !1, delay: 0 },
        Je = 1e8,
        Ze = 1e-8,
        er = 2 * Math.PI,
        rr = er / 4,
        nr = 0,
        ir = Math.sqrt,
        sr = Math.cos,
        ar = Math.sin,
        or = function (t) {
          return "string" == typeof t;
        },
        lr = function (t) {
          return "function" == typeof t;
        },
        ur = function (t) {
          return "number" == typeof t;
        },
        cr = function (t) {
          return void 0 === t;
        },
        dr = function (t) {
          return "object" == typeof t;
        },
        fr = function (t) {
          return !1 !== t;
        },
        pr = function () {
          return "undefined" != typeof window;
        },
        gr = function (t) {
          return lr(t) || or(t);
        },
        mr =
          ("function" == typeof ArrayBuffer && ArrayBuffer.isView) ||
          function () {},
        yr = Array.isArray,
        vr = /(?:-?\.?\d|\.)+/gi,
        Er = /[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,
        Dr = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g,
        Tr = /[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,
        Sr = /[+-]=-?[.\d]+/,
        _r = /[^,'"\[\]\s]+/gi,
        wr = /^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,
        Ar = {},
        xr = {},
        Lr = function (t) {
          return (xr = nn(t, Ar)) && ss;
        },
        kr = function (t, e) {
          return console.warn(
            "Invalid property",
            t,
            "set to",
            e,
            "Missing plugin? gsap.registerPlugin()",
          );
        },
        Cr = function (t, e) {
          return !e && console.warn(t);
        },
        Rr = function (t, e) {
          return (t && (Ar[t] = e) && xr && (xr[t] = e)) || Ar;
        },
        Or = function () {
          return 0;
        },
        Ir = { suppressEvents: !0, isStart: !0, kill: !1 },
        Pr = { suppressEvents: !0, kill: !1 },
        Fr = { suppressEvents: !0 },
        Mr = {},
        Nr = [],
        Br = {},
        Ur = {},
        jr = {},
        $r = 30,
        Gr = [],
        Kr = "",
        Hr = function (t) {
          var e,
            i,
            r = t[0];
          if ((dr(r) || lr(r) || (t = [t]), !(e = (r._gsap || {}).harness))) {
            for (i = Gr.length; i-- && !Gr[i].targetTest(r); );
            e = Gr[i];
          }
          for (i = t.length; i--; )
            (t[i] && (t[i]._gsap || (t[i]._gsap = new Ei(t[i], e)))) ||
              t.splice(i, 1);
          return t;
        },
        Vr = function (t) {
          return t._gsap || Hr(Mn(t))[0]._gsap;
        },
        Yr = function (t, e, r) {
          return (r = t[e]) && lr(r)
            ? t[e]()
            : (cr(r) && t.getAttribute && t.getAttribute(e)) || r;
        },
        zr = function (t, e) {
          return (t = t.split(",")).forEach(e) || t;
        },
        Wr = function (t) {
          return Math.round(1e5 * t) / 1e5 || 0;
        },
        qr = function (t) {
          return Math.round(1e7 * t) / 1e7 || 0;
        },
        Xr = function (t, e) {
          var r = e.charAt(0),
            n = parseFloat(e.substr(2));
          return (
            (t = parseFloat(t)),
            "+" === r ? t + n : "-" === r ? t - n : "*" === r ? t * n : t / n
          );
        },
        Qr = function (t, e) {
          for (var r = e.length, i = 0; t.indexOf(e[i]) < 0 && ++i < r; );
          return i < r;
        },
        Jr = function () {
          var i,
            t,
            e = Nr.length,
            a = Nr.slice(0);
          for (Br = {}, Nr.length = 0, i = 0; i < e; i++)
            (t = a[i]) &&
              t._lazy &&
              (t.render(t._lazy[0], t._lazy[1], !0)._lazy = 0);
        },
        Zr = function (t, time, e, r) {
          (Nr.length && !Me && Jr(),
            t.render(
              time,
              e,
              r || (Me && time < 0 && (t._initted || t._startAt)),
            ),
            Nr.length && !Me && Jr());
        },
        tn = function (t) {
          var e = parseFloat(t);
          return (e || 0 === e) && (t + "").match(_r).length < 2
            ? e
            : or(t)
              ? t.trim()
              : t;
        },
        en = function (p) {
          return p;
        },
        rn = function (t, e) {
          for (var p in e) p in t || (t[p] = e[p]);
          return t;
        },
        nn = function (base, t) {
          for (var p in t) base[p] = t[p];
          return base;
        },
        sn = function t(base, e) {
          for (var p in e)
            "__proto__" !== p &&
              "constructor" !== p &&
              "prototype" !== p &&
              (base[p] = dr(e[p]) ? t(base[p] || (base[p] = {}), e[p]) : e[p]);
          return base;
        },
        an = function (t, e) {
          var p,
            r = {};
          for (p in t) p in e || (r[p] = t[p]);
          return r;
        },
        on = function (t) {
          var e,
            r = t.parent || Be,
            n = t.keyframes
              ? ((e = yr(t.keyframes)),
                function (t, r) {
                  for (var p in r)
                    p in t ||
                      ("duration" === p && e) ||
                      "ease" === p ||
                      (t[p] = r[p]);
                })
              : rn;
          if (fr(t.inherit))
            for (; r; ) (n(t, r.vars.defaults), (r = r.parent || r._dp));
          return t;
        },
        ln = function (t, e, r, n, o) {
          (void 0 === r && (r = "_first"), void 0 === n && (n = "_last"));
          var l,
            c = t[n];
          if (o) for (l = e[o]; c && c[o] > l; ) c = c._prev;
          return (
            c
              ? ((e._next = c._next), (c._next = e))
              : ((e._next = t[r]), (t[r] = e)),
            e._next ? (e._next._prev = e) : (t[n] = e),
            (e._prev = c),
            (e.parent = e._dp = t),
            e
          );
        },
        un = function (t, e, r, n) {
          (void 0 === r && (r = "_first"), void 0 === n && (n = "_last"));
          var o = e._prev,
            l = e._next;
          (o ? (o._next = l) : t[r] === e && (t[r] = l),
            l ? (l._prev = o) : t[n] === e && (t[n] = o),
            (e._next = e._prev = e.parent = null));
        },
        cn = function (t, e) {
          (t.parent &&
            (!e || t.parent.autoRemoveChildren) &&
            t.parent.remove(t),
            (t._act = 0));
        },
        hn = function (t, e) {
          if (t && (!e || e._end > t._dur || e._start < 0))
            for (var a = t; a; ) ((a._dirty = 1), (a = a.parent));
          return t;
        },
        dn = function (t, e, r, n) {
          return (
            t._startAt &&
            (Me
              ? t._startAt.revert(Pr)
              : (t.vars.immediateRender && !t.vars.autoRevert) ||
                t._startAt.render(e, !0, n))
          );
        },
        fn = function t(e) {
          return !e || (e._ts && t(e.parent));
        },
        pn = function (t) {
          return t._repeat
            ? gn(t._tTime, (t = t.duration() + t._rDelay)) * t
            : 0;
        },
        gn = function (t, e) {
          var r = Math.floor((t /= e));
          return t && r === t ? r - 1 : r;
        },
        mn = function (t, e) {
          return (
            (t - e._start) * e._ts +
            (e._ts >= 0 ? 0 : e._dirty ? e.totalDuration() : e._tDur)
          );
        },
        yn = function (t) {
          return (t._end = qr(
            t._start + (t._tDur / Math.abs(t._ts || t._rts || Ze) || 0),
          ));
        },
        vn = function (t, e) {
          var r = t._dp;
          return (
            r &&
              r.smoothChildTiming &&
              t._ts &&
              ((t._start = qr(
                r._time -
                  (t._ts > 0
                    ? e / t._ts
                    : ((t._dirty ? t.totalDuration() : t._tDur) - e) / -t._ts),
              )),
              yn(t),
              r._dirty || hn(r, t)),
            t
          );
        },
        bn = function (t, e) {
          var r;
          if (
            ((e._time || (e._initted && !e._dur)) &&
              ((r = mn(t.rawTime(), e)),
              (!e._dur || Rn(0, e.totalDuration(), r) - e._tTime > Ze) &&
                e.render(r, !0)),
            hn(t, e)._dp && t._initted && t._time >= t._dur && t._ts)
          ) {
            if (t._dur < t.duration())
              for (r = t; r._dp; )
                (r.rawTime() >= 0 && r.totalTime(r._tTime), (r = r._dp));
            t._zTime = -1e-8;
          }
        },
        En = function (t, e, r, n) {
          return (
            e.parent && cn(e),
            (e._start = qr(
              (ur(r) ? r : r || t !== Be ? Ln(t, r, e) : t._time) + e._delay,
            )),
            (e._end = qr(
              e._start + (e.totalDuration() / Math.abs(e.timeScale()) || 0),
            )),
            ln(t, e, "_first", "_last", t._sort ? "_start" : 0),
            _n(e) || (t._recent = e),
            n || bn(t, e),
            t._ts < 0 && vn(t, t._tTime),
            t
          );
        },
        Dn = function (t, e) {
          return (
            (Ar.ScrollTrigger || kr("scrollTrigger", e)) &&
            Ar.ScrollTrigger.create(e, t)
          );
        },
        Tn = function (t, time, e, r, n) {
          return (
            Li(t, time, n),
            t._initted
              ? !e &&
                t._pt &&
                !Me &&
                ((t._dur && !1 !== t.vars.lazy) || (!t._dur && t.vars.lazy)) &&
                Ke !== ai.frame
                ? (Nr.push(t), (t._lazy = [n, r]), 1)
                : void 0
              : 1
          );
        },
        Sn = function t(e) {
          var r = e.parent;
          return (
            r && r._ts && r._initted && !r._lock && (r.rawTime() < 0 || t(r))
          );
        },
        _n = function (t) {
          var data = t.data;
          return "isFromStart" === data || "isStart" === data;
        },
        wn = function (t, e, r, n) {
          var o = t._repeat,
            l = qr(e) || 0,
            c = t._tTime / t._tDur;
          return (
            c && !n && (t._time *= l / t._dur),
            (t._dur = l),
            (t._tDur = o
              ? o < 0
                ? 1e10
                : qr(l * (o + 1) + t._rDelay * o)
              : l),
            c > 0 && !n && vn(t, (t._tTime = t._tDur * c)),
            t.parent && yn(t),
            r || hn(t.parent, t),
            t
          );
        },
        An = function (t) {
          return t instanceof Ti ? hn(t) : wn(t, t._dur);
        },
        xn = { _start: 0, endTime: Or, totalDuration: Or },
        Ln = function t(e, r, n) {
          var i,
            o,
            l,
            c = e.labels,
            h = e._recent || xn,
            d = e.duration() >= Je ? h.endTime(!1) : e._dur;
          return or(r) && (isNaN(r) || r in c)
            ? ((o = r.charAt(0)),
              (l = "%" === r.substr(-1)),
              (i = r.indexOf("=")),
              "<" === o || ">" === o
                ? (i >= 0 && (r = r.replace(/=/, "")),
                  ("<" === o ? h._start : h.endTime(h._repeat >= 0)) +
                    (parseFloat(r.substr(1)) || 0) *
                      (l ? (i < 0 ? h : n).totalDuration() / 100 : 1))
                : i < 0
                  ? (r in c || (c[r] = d), c[r])
                  : ((o = parseFloat(r.charAt(i - 1) + r.substr(i + 1))),
                    l &&
                      n &&
                      (o = (o / 100) * (yr(n) ? n[0] : n).totalDuration()),
                    i > 1 ? t(e, r.substr(0, i - 1), n) + o : d + o))
            : null == r
              ? d
              : +r;
        },
        kn = function (t, e, r) {
          var n,
            o,
            l = ur(e[1]),
            c = (l ? 2 : 1) + (t < 2 ? 0 : 1),
            h = e[c];
          if ((l && (h.duration = e[1]), (h.parent = r), t)) {
            for (n = h, o = r; o && !("immediateRender" in n); )
              ((n = o.vars.defaults || {}),
                (o = fr(o.vars.inherit) && o.parent));
            ((h.immediateRender = fr(n.immediateRender)),
              t < 2 ? (h.runBackwards = 1) : (h.startAt = e[c - 1]));
          }
          return new Ii(e[0], h, e[c + 1]);
        },
        Cn = function (t, e) {
          return t || 0 === t ? e(t) : e;
        },
        Rn = function (t, e, r) {
          return r < t ? t : r > e ? e : r;
        },
        On = function (t, e) {
          return or(t) && (e = wr.exec(t)) ? e[1] : "";
        },
        In = [].slice,
        Pn = function (t, e) {
          return (
            t &&
            dr(t) &&
            "length" in t &&
            ((!e && !t.length) || (t.length - 1 in t && dr(t[0]))) &&
            !t.nodeType &&
            t !== Ue
          );
        },
        Fn = function (t, e, r) {
          return (
            void 0 === r && (r = []),
            t.forEach(function (t) {
              var n;
              return (or(t) && !e) || Pn(t, 1)
                ? (n = r).push.apply(n, Mn(t))
                : r.push(t);
            }) || r
          );
        },
        Mn = function (t, e, r) {
          return Ne && !e && Ne.selector
            ? Ne.selector(t)
            : !or(t) || r || (!je && oi())
              ? yr(t)
                ? Fn(t, r)
                : Pn(t)
                  ? In.call(t, 0)
                  : t
                    ? [t]
                    : []
              : In.call((e || $e).querySelectorAll(t), 0);
        },
        Nn = function (t) {
          return (
            (t = Mn(t)[0] || Cr("Invalid scope") || {}),
            function (e) {
              var r = t.current || t.nativeElement || t;
              return Mn(
                e,
                r.querySelectorAll
                  ? r
                  : r === t
                    ? Cr("Invalid scope") || $e.createElement("div")
                    : t,
              );
            }
          );
        },
        Bn = function (a) {
          return a.sort(function () {
            return 0.5 - Math.random();
          });
        },
        Un = function (t) {
          if (lr(t)) return t;
          var e = dr(t) ? t : { each: t },
            r = gi(e.ease),
            n = e.from || 0,
            base = parseFloat(e.base) || 0,
            o = {},
            l = n > 0 && n < 1,
            c = isNaN(n) || l,
            h = e.axis,
            d = n,
            f = n;
          return (
            or(n)
              ? (d = f = { center: 0.5, edges: 0.5, end: 1 }[n] || 0)
              : !l && c && ((d = n[0]), (f = n[1])),
            function (i, t, a) {
              var l,
                m,
                y,
                v,
                E,
                D,
                T,
                S,
                _,
                w = (a || e).length,
                A = o[w];
              if (!A) {
                if (!(_ = "auto" === e.grid ? 0 : (e.grid || [1, Je])[1])) {
                  for (
                    T = -Je;
                    T < (T = a[_++].getBoundingClientRect().left) && _ < w;
                  );
                  _--;
                }
                for (
                  A = o[w] = [],
                    l = c ? Math.min(_, w) * d - 0.5 : n % _,
                    m = _ === Je ? 0 : c ? (w * f) / _ - 0.5 : (n / _) | 0,
                    T = 0,
                    S = Je,
                    D = 0;
                  D < w;
                  D++
                )
                  ((y = (D % _) - l),
                    (v = m - ((D / _) | 0)),
                    (A[D] = E =
                      h ? Math.abs("y" === h ? v : y) : ir(y * y + v * v)),
                    E > T && (T = E),
                    E < S && (S = E));
                ("random" === n && Bn(A),
                  (A.max = T - S),
                  (A.min = S),
                  (A.v = w =
                    (parseFloat(e.amount) ||
                      parseFloat(e.each) *
                        (_ > w
                          ? w - 1
                          : h
                            ? "y" === h
                              ? w / _
                              : _
                            : Math.max(_, w / _)) ||
                      0) * ("edges" === n ? -1 : 1)),
                  (A.b = w < 0 ? base - w : base),
                  (A.u = On(e.amount || e.each) || 0),
                  (r = r && w < 0 ? fi(r) : r));
              }
              return (
                (w = (A[i] - A.min) / A.max || 0),
                qr(A.b + (r ? r(w) : w) * A.v) + A.u
              );
            }
          );
        },
        jn = function (t) {
          var p = Math.pow(10, ((t + "").split(".")[1] || "").length);
          return function (e) {
            var r = qr(Math.round(parseFloat(e) / t) * t * p);
            return (r - (r % 1)) / p + (ur(e) ? 0 : On(e));
          };
        },
        $n = function (t, e) {
          var r,
            n,
            o = yr(t);
          return (
            !o &&
              dr(t) &&
              ((r = o = t.radius || Je),
              t.values
                ? ((t = Mn(t.values)), (n = !ur(t[0])) && (r *= r))
                : (t = jn(t.increment))),
            Cn(
              e,
              o
                ? lr(t)
                  ? function (e) {
                      return ((n = t(e)), Math.abs(n - e) <= r ? n : e);
                    }
                  : function (e) {
                      for (
                        var o,
                          l,
                          c = parseFloat(n ? e.x : e),
                          h = parseFloat(n ? e.y : 0),
                          d = Je,
                          f = 0,
                          i = t.length;
                        i--;
                      )
                        (o = n
                          ? (o = t[i].x - c) * o + (l = t[i].y - h) * l
                          : Math.abs(t[i] - c)) < d && ((d = o), (f = i));
                      return (
                        (f = !r || d <= r ? t[f] : e),
                        n || f === e || ur(e) ? f : f + On(e)
                      );
                    }
                : jn(t),
            )
          );
        },
        Gn = function (t, e, r, n) {
          return Cn(yr(t) ? !e : !0 === r ? !!(r = 0) : !n, function () {
            return yr(t)
              ? t[~~(Math.random() * t.length)]
              : (r = r || 1e-5) &&
                  (n = r < 1 ? Math.pow(10, (r + "").length - 2) : 1) &&
                  Math.floor(
                    Math.round(
                      (t - r / 2 + Math.random() * (e - t + 0.99 * r)) / r,
                    ) *
                      r *
                      n,
                  ) / n;
          });
        },
        Kn = function (a, t, e) {
          return Cn(e, function (e) {
            return a[~~t(e)];
          });
        },
        Hn = function (t) {
          for (var i, e, r, n, o = 0, s = ""; ~(i = t.indexOf("random(", o)); )
            ((r = t.indexOf(")", i)),
              (n = "[" === t.charAt(i + 7)),
              (e = t.substr(i + 7, r - i - 7).match(n ? _r : vr)),
              (s +=
                t.substr(o, i - o) +
                Gn(n ? e : +e[0], n ? 0 : +e[1], +e[2] || 1e-5)),
              (o = r + 1));
          return s + t.substr(o, t.length - o);
        },
        Vn = function (t, e, r, n, o) {
          var l = e - t,
            c = n - r;
          return Cn(o, function (e) {
            return r + (((e - t) / l) * c || 0);
          });
        },
        Yn = function (t, e, r) {
          var p,
            n,
            label,
            o = t.labels,
            l = Je;
          for (p in o)
            (n = o[p] - e) < 0 == !!r &&
              n &&
              l > (n = Math.abs(n)) &&
              ((label = p), (l = n));
          return label;
        },
        zn = function (t, e, r) {
          var n,
            o,
            l,
            c = t.vars,
            h = c[e],
            d = Ne,
            f = t._ctx;
          if (h)
            return (
              (n = c[e + "Params"]),
              (o = c.callbackScope || t),
              r && Nr.length && Jr(),
              f && (Ne = f),
              (l = n ? h.apply(o, n) : h.call(o)),
              (Ne = d),
              l
            );
        },
        Wn = function (t) {
          return (
            cn(t),
            t.scrollTrigger && t.scrollTrigger.kill(!!Me),
            t.progress() < 1 && zn(t, "onInterrupt"),
            t
          );
        },
        qn = [],
        Xn = function (t) {
          if (pr()) {
            var e = (t = (!t.name && t.default) || t).name,
              r = lr(t),
              n =
                e && !r && t.init
                  ? function () {
                      this._props = [];
                    }
                  : t,
              o = {
                init: Or,
                render: Gi,
                add: Ai,
                kill: Hi,
                modifier: Ki,
                rawVars: 0,
              },
              l = {
                targetTest: 0,
                get: 0,
                getSetter: Bi,
                aliases: {},
                register: 0,
              };
            if ((oi(), t !== n)) {
              if (Ur[e]) return;
              (rn(n, rn(an(t, o), l)),
                nn(n.prototype, nn(o, an(t, l))),
                (Ur[(n.prop = e)] = n),
                t.targetTest && (Gr.push(n), (Mr[e] = 1)),
                (e =
                  ("css" === e
                    ? "CSS"
                    : e.charAt(0).toUpperCase() + e.substr(1)) + "Plugin"));
            }
            (Rr(e, n), t.register && t.register(ss, n, zi));
          } else qn.push(t);
        },
        Qn = 255,
        Jn = {
          aqua: [0, Qn, Qn],
          lime: [0, Qn, 0],
          silver: [192, 192, 192],
          black: [0, 0, 0],
          maroon: [128, 0, 0],
          teal: [0, 128, 128],
          blue: [0, 0, Qn],
          navy: [0, 0, 128],
          white: [Qn, Qn, Qn],
          olive: [128, 128, 0],
          yellow: [Qn, Qn, 0],
          orange: [Qn, 165, 0],
          gray: [128, 128, 128],
          purple: [128, 0, 128],
          green: [0, 128, 0],
          red: [Qn, 0, 0],
          pink: [Qn, 192, 203],
          cyan: [0, Qn, Qn],
          transparent: [Qn, Qn, Qn, 0],
        },
        Zn = function (t, e, r) {
          return (
            ((6 * (t += t < 0 ? 1 : t > 1 ? -1 : 0) < 1
              ? e + (r - e) * t * 6
              : t < 0.5
                ? r
                : 3 * t < 2
                  ? e + (r - e) * (2 / 3 - t) * 6
                  : e) *
              Qn +
              0.5) |
            0
          );
        },
        ti = function (t, e, r) {
          var n,
            g,
            b,
            o,
            s,
            l,
            c,
            h,
            d,
            f,
            a = t ? (ur(t) ? [t >> 16, (t >> 8) & Qn, t & Qn] : 0) : Jn.black;
          if (!a) {
            if (
              ("," === t.substr(-1) && (t = t.substr(0, t.length - 1)), Jn[t])
            )
              a = Jn[t];
            else if ("#" === t.charAt(0)) {
              if (
                (t.length < 6 &&
                  ((n = t.charAt(1)),
                  (g = t.charAt(2)),
                  (b = t.charAt(3)),
                  (t =
                    "#" +
                    n +
                    n +
                    g +
                    g +
                    b +
                    b +
                    (5 === t.length ? t.charAt(4) + t.charAt(4) : ""))),
                9 === t.length)
              )
                return [
                  (a = parseInt(t.substr(1, 6), 16)) >> 16,
                  (a >> 8) & Qn,
                  a & Qn,
                  parseInt(t.substr(7), 16) / 255,
                ];
              a = [
                (t = parseInt(t.substr(1), 16)) >> 16,
                (t >> 8) & Qn,
                t & Qn,
              ];
            } else if ("hsl" === t.substr(0, 3))
              if (((a = f = t.match(vr)), e)) {
                if (~t.indexOf("="))
                  return (
                    (a = t.match(Er)),
                    r && a.length < 4 && (a[3] = 1),
                    a
                  );
              } else
                ((o = (+a[0] % 360) / 360),
                  (s = +a[1] / 100),
                  (n =
                    2 * (l = +a[2] / 100) -
                    (g = l <= 0.5 ? l * (s + 1) : l + s - l * s)),
                  a.length > 3 && (a[3] *= 1),
                  (a[0] = Zn(o + 1 / 3, n, g)),
                  (a[1] = Zn(o, n, g)),
                  (a[2] = Zn(o - 1 / 3, n, g)));
            else a = t.match(vr) || Jn.transparent;
            a = a.map(Number);
          }
          return (
            e &&
              !f &&
              ((n = a[0] / Qn),
              (g = a[1] / Qn),
              (b = a[2] / Qn),
              (l = ((c = Math.max(n, g, b)) + (h = Math.min(n, g, b))) / 2),
              c === h
                ? (o = s = 0)
                : ((d = c - h),
                  (s = l > 0.5 ? d / (2 - c - h) : d / (c + h)),
                  (o =
                    c === n
                      ? (g - b) / d + (g < b ? 6 : 0)
                      : c === g
                        ? (b - n) / d + 2
                        : (n - g) / d + 4),
                  (o *= 60)),
              (a[0] = ~~(o + 0.5)),
              (a[1] = ~~(100 * s + 0.5)),
              (a[2] = ~~(100 * l + 0.5))),
            r && a.length < 4 && (a[3] = 1),
            a
          );
        },
        ei = function (t) {
          var e = [],
            r = [],
            i = -1;
          return (
            t.split(ni).forEach(function (t) {
              var a = t.match(Dr) || [];
              (e.push.apply(e, a), r.push((i += a.length + 1)));
            }),
            (e.c = r),
            e
          );
        },
        ri = function (s, t, e) {
          var r,
            n,
            o,
            l,
            c = "",
            h = (s + c).match(ni),
            d = t ? "hsla(" : "rgba(",
            i = 0;
          if (!h) return s;
          if (
            ((h = h.map(function (e) {
              return (
                (e = ti(e, t, 1)) &&
                d +
                  (t
                    ? e[0] + "," + e[1] + "%," + e[2] + "%," + e[3]
                    : e.join(",")) +
                  ")"
              );
            })),
            e && ((o = ei(s)), (r = e.c).join(c) !== o.c.join(c)))
          )
            for (l = (n = s.replace(ni, "1").split(Dr)).length - 1; i < l; i++)
              c +=
                n[i] +
                (~r.indexOf(i)
                  ? h.shift() || d + "0,0,0,0)"
                  : (o.length ? o : h.length ? h : e).shift());
          if (!n)
            for (l = (n = s.split(ni)).length - 1; i < l; i++) c += n[i] + h[i];
          return c + n[l];
        },
        ni = (function () {
          var p,
            s =
              "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";
          for (p in Jn) s += "|" + p + "\\b";
          return new RegExp(s + ")", "gi");
        })(),
        ii = /hsl[a]?\(/,
        si = function (a) {
          var t,
            e = a.join(" ");
          if (((ni.lastIndex = 0), ni.test(e)))
            return (
              (t = ii.test(e)),
              (a[1] = ri(a[1], t)),
              (a[0] = ri(a[0], t, ei(a[1]))),
              !0
            );
        },
        ai = (function () {
          var t,
            e,
            r,
            n,
            o,
            l,
            c = Date.now,
            h = 500,
            d = 33,
            f = c(),
            m = f,
            y = 1e3 / 240,
            v = y,
            E = [],
            D = function r(D) {
              var T,
                S,
                time,
                _,
                w = c() - m,
                A = !0 === D;
              if (
                (w > h && (f += w - d),
                ((T = (time = (m += w) - f) - v) > 0 || A) &&
                  ((_ = ++n.frame),
                  (o = time - 1e3 * n.time),
                  (n.time = time /= 1e3),
                  (v += T + (T >= y ? 4 : y - T)),
                  (S = 1)),
                A || (t = e(r)),
                S)
              )
                for (l = 0; l < E.length; l++) E[l](time, o, _, D);
            };
          return (n = {
            time: 0,
            frame: 0,
            tick: function () {
              D(!0);
            },
            deltaRatio: function (t) {
              return o / (1e3 / (t || 60));
            },
            wake: function () {
              Ge &&
                (!je &&
                  pr() &&
                  ((Ue = je = window),
                  ($e = Ue.document || {}),
                  (Ar.gsap = ss),
                  (Ue.gsapVersions || (Ue.gsapVersions = [])).push(ss.version),
                  Lr(xr || Ue.GreenSockGlobals || (!Ue.gsap && Ue) || {}),
                  (r = Ue.requestAnimationFrame),
                  qn.forEach(Xn)),
                t && n.sleep(),
                (e =
                  r ||
                  function (t) {
                    return setTimeout(t, (v - 1e3 * n.time + 1) | 0);
                  }),
                (Ve = 1),
                D(2));
            },
            sleep: function () {
              ((r ? Ue.cancelAnimationFrame : clearTimeout)(t),
                (Ve = 0),
                (e = Or));
            },
            lagSmoothing: function (t, e) {
              ((h = t || 1 / 0), (d = Math.min(e || 33, h)));
            },
            fps: function (t) {
              ((y = 1e3 / (t || 240)), (v = 1e3 * n.time + y));
            },
            add: function (t, e, r) {
              var o = e
                ? function (e, r, l, c) {
                    (t(e, r, l, c), n.remove(o));
                  }
                : t;
              return (n.remove(t), E[r ? "unshift" : "push"](o), oi(), o);
            },
            remove: function (t, i) {
              ~(i = E.indexOf(t)) && E.splice(i, 1) && l >= i && l--;
            },
            _listeners: E,
          });
        })(),
        oi = function () {
          return !Ve && ai.wake();
        },
        ui = {},
        ci = /^[\d.\-M][\d.\-,\s]/,
        hi = /["']/g,
        di = function (t) {
          for (
            var e,
              r,
              n,
              o = {},
              l = t.substr(1, t.length - 3).split(":"),
              c = l[0],
              i = 1,
              h = l.length;
            i < h;
            i++
          )
            ((r = l[i]),
              (e = i !== h - 1 ? r.lastIndexOf(",") : r.length),
              (n = r.substr(0, e)),
              (o[c] = isNaN(n) ? n.replace(hi, "").trim() : +n),
              (c = r.substr(e + 1).trim()));
          return o;
        },
        fi = function (t) {
          return function (p) {
            return 1 - t(1 - p);
          };
        },
        pi = function t(e, r) {
          for (var n, o = e._first; o; )
            (o instanceof Ti
              ? t(o, r)
              : !o.vars.yoyoEase ||
                (o._yoyo && o._repeat) ||
                o._yoyo === r ||
                (o.timeline
                  ? t(o.timeline, r)
                  : ((n = o._ease),
                    (o._ease = o._yEase),
                    (o._yEase = n),
                    (o._yoyo = r))),
              (o = o._next));
        },
        gi = function (t, e) {
          return (
            (t &&
              (lr(t)
                ? t
                : ui[t] ||
                  (function (t) {
                    var e,
                      r,
                      n,
                      o,
                      l = (t + "").split("("),
                      c = ui[l[0]];
                    return c && l.length > 1 && c.config
                      ? c.config.apply(
                          null,
                          ~t.indexOf("{")
                            ? [di(l[1])]
                            : ((e = t),
                              (r = e.indexOf("(") + 1),
                              (n = e.indexOf(")")),
                              (o = e.indexOf("(", r)),
                              e.substring(
                                r,
                                ~o && o < n ? e.indexOf(")", n + 1) : n,
                              ))
                                .split(",")
                                .map(tn),
                        )
                      : ui._CE && ci.test(t)
                        ? ui._CE("", t)
                        : c;
                  })(t))) ||
            e
          );
        },
        mi = function (t, e, r, n) {
          (void 0 === r &&
            (r = function (p) {
              return 1 - e(1 - p);
            }),
            void 0 === n &&
              (n = function (p) {
                return p < 0.5 ? e(2 * p) / 2 : 1 - e(2 * (1 - p)) / 2;
              }));
          var o,
            l = { easeIn: e, easeOut: r, easeInOut: n };
          return (
            zr(t, function (t) {
              for (var p in ((ui[t] = Ar[t] = l),
              (ui[(o = t.toLowerCase())] = r),
              l))
                ui[
                  o +
                    ("easeIn" === p
                      ? ".in"
                      : "easeOut" === p
                        ? ".out"
                        : ".inOut")
                ] = ui[t + "." + p] = l[p];
            }),
            l
          );
        },
        yi = function (t) {
          return function (p) {
            return p < 0.5
              ? (1 - t(1 - 2 * p)) / 2
              : 0.5 + t(2 * (p - 0.5)) / 2;
          };
        },
        vi = function t(e, r, n) {
          var o = r >= 1 ? r : 1,
            l = (n || (e ? 0.3 : 0.45)) / (r < 1 ? r : 1),
            c = (l / er) * (Math.asin(1 / o) || 0),
            h = function (p) {
              return 1 === p
                ? 1
                : o * Math.pow(2, -10 * p) * ar((p - c) * l) + 1;
            },
            d =
              "out" === e
                ? h
                : "in" === e
                  ? function (p) {
                      return 1 - h(1 - p);
                    }
                  : yi(h);
          return (
            (l = er / l),
            (d.config = function (r, n) {
              return t(e, r, n);
            }),
            d
          );
        },
        bi = function t(e, r) {
          void 0 === r && (r = 1.70158);
          var n = function (p) {
              return p ? --p * p * ((r + 1) * p + r) + 1 : 0;
            },
            o =
              "out" === e
                ? n
                : "in" === e
                  ? function (p) {
                      return 1 - n(1 - p);
                    }
                  : yi(n);
          return (
            (o.config = function (r) {
              return t(e, r);
            }),
            o
          );
        };
      (zr("Linear,Quad,Cubic,Quart,Quint,Strong", function (t, i) {
        var e = i < 5 ? i + 1 : i;
        mi(
          t + ",Power" + (e - 1),
          i
            ? function (p) {
                return Math.pow(p, e);
              }
            : function (p) {
                return p;
              },
          function (p) {
            return 1 - Math.pow(1 - p, e);
          },
          function (p) {
            return p < 0.5
              ? Math.pow(2 * p, e) / 2
              : 1 - Math.pow(2 * (1 - p), e) / 2;
          },
        );
      }),
        (ui.Linear.easeNone = ui.none = ui.Linear.easeIn),
        mi("Elastic", vi("in"), vi("out"), vi()),
        (Ye = 7.5625),
        (We = 1 / (ze = 2.75)),
        mi(
          "Bounce",
          function (p) {
            return 1 - qe(1 - p);
          },
          (qe = function (p) {
            return p < We
              ? Ye * p * p
              : p < 0.7272727272727273
                ? Ye * Math.pow(p - 1.5 / ze, 2) + 0.75
                : p < 0.9090909090909092
                  ? Ye * (p -= 2.25 / ze) * p + 0.9375
                  : Ye * Math.pow(p - 2.625 / ze, 2) + 0.984375;
          }),
        ),
        mi("Expo", function (p) {
          return p ? Math.pow(2, 10 * (p - 1)) : 0;
        }),
        mi("Circ", function (p) {
          return -(ir(1 - p * p) - 1);
        }),
        mi("Sine", function (p) {
          return 1 === p ? 1 : 1 - sr(p * rr);
        }),
        mi("Back", bi("in"), bi("out"), bi()),
        (ui.SteppedEase =
          ui.steps =
          Ar.SteppedEase =
            {
              config: function (t, e) {
                void 0 === t && (t = 1);
                var r = 1 / t,
                  n = t + (e ? 0 : 1),
                  o = e ? 1 : 0;
                return function (p) {
                  return (((n * Rn(0, 0.99999999, p)) | 0) + o) * r;
                };
              },
            }),
        (Qe.ease = ui["quad.out"]),
        zr(
          "onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",
          function (t) {
            return (Kr += t + "," + t + "Params,");
          },
        ));
      var Ei = function (t, e) {
          ((this.id = nr++),
            (t._gsap = this),
            (this.target = t),
            (this.harness = e),
            (this.get = e ? e.get : Yr),
            (this.set = e ? e.getSetter : Bi));
        },
        Di = (function () {
          function t(t) {
            ((this.vars = t),
              (this._delay = +t.delay || 0),
              (this._repeat = t.repeat === 1 / 0 ? -2 : t.repeat || 0) &&
                ((this._rDelay = t.repeatDelay || 0),
                (this._yoyo = !!t.yoyo || !!t.yoyoEase)),
              (this._ts = 1),
              wn(this, +t.duration, 1, 1),
              (this.data = t.data),
              Ne && ((this._ctx = Ne), Ne.data.push(this)),
              Ve || ai.wake());
          }
          var e = t.prototype;
          return (
            (e.delay = function (t) {
              return t || 0 === t
                ? (this.parent &&
                    this.parent.smoothChildTiming &&
                    this.startTime(this._start + t - this._delay),
                  (this._delay = t),
                  this)
                : this._delay;
            }),
            (e.duration = function (t) {
              return arguments.length
                ? this.totalDuration(
                    this._repeat > 0
                      ? t + (t + this._rDelay) * this._repeat
                      : t,
                  )
                : this.totalDuration() && this._dur;
            }),
            (e.totalDuration = function (t) {
              return arguments.length
                ? ((this._dirty = 0),
                  wn(
                    this,
                    this._repeat < 0
                      ? t
                      : (t - this._repeat * this._rDelay) / (this._repeat + 1),
                  ))
                : this._tDur;
            }),
            (e.totalTime = function (t, e) {
              if ((oi(), !arguments.length)) return this._tTime;
              var r = this._dp;
              if (r && r.smoothChildTiming && this._ts) {
                for (
                  vn(this, t), !r._dp || r.parent || bn(r, this);
                  r && r.parent;
                )
                  (r.parent._time !==
                    r._start +
                      (r._ts >= 0
                        ? r._tTime / r._ts
                        : (r.totalDuration() - r._tTime) / -r._ts) &&
                    r.totalTime(r._tTime, !0),
                    (r = r.parent));
                !this.parent &&
                  this._dp.autoRemoveChildren &&
                  ((this._ts > 0 && t < this._tDur) ||
                    (this._ts < 0 && t > 0) ||
                    (!this._tDur && !t)) &&
                  En(this._dp, this, this._start - this._delay);
              }
              return (
                (this._tTime !== t ||
                  (!this._dur && !e) ||
                  (this._initted && Math.abs(this._zTime) === Ze) ||
                  (!t && !this._initted && (this.add || this._ptLookup))) &&
                  (this._ts || (this._pTime = t), Zr(this, t, e)),
                this
              );
            }),
            (e.time = function (t, e) {
              return arguments.length
                ? this.totalTime(
                    Math.min(this.totalDuration(), t + pn(this)) %
                      (this._dur + this._rDelay) || (t ? this._dur : 0),
                    e,
                  )
                : this._time;
            }),
            (e.totalProgress = function (t, e) {
              return arguments.length
                ? this.totalTime(this.totalDuration() * t, e)
                : this.totalDuration()
                  ? Math.min(1, this._tTime / this._tDur)
                  : this.ratio;
            }),
            (e.progress = function (t, e) {
              return arguments.length
                ? this.totalTime(
                    this.duration() *
                      (!this._yoyo || 1 & this.iteration() ? t : 1 - t) +
                      pn(this),
                    e,
                  )
                : this.duration()
                  ? Math.min(1, this._time / this._dur)
                  : this.ratio;
            }),
            (e.iteration = function (t, e) {
              var r = this.duration() + this._rDelay;
              return arguments.length
                ? this.totalTime(this._time + (t - 1) * r, e)
                : this._repeat
                  ? gn(this._tTime, r) + 1
                  : 1;
            }),
            (e.timeScale = function (t) {
              if (!arguments.length) return -1e-8 === this._rts ? 0 : this._rts;
              if (this._rts === t) return this;
              var e =
                this.parent && this._ts
                  ? mn(this.parent._time, this)
                  : this._tTime;
              return (
                (this._rts = +t || 0),
                (this._ts = this._ps || -1e-8 === t ? 0 : this._rts),
                this.totalTime(Rn(-Math.abs(this._delay), this._tDur, e), !0),
                yn(this),
                (function (t) {
                  for (var e = t.parent; e && e.parent; )
                    ((e._dirty = 1), e.totalDuration(), (e = e.parent));
                  return t;
                })(this)
              );
            }),
            (e.paused = function (t) {
              return arguments.length
                ? (this._ps !== t &&
                    ((this._ps = t),
                    t
                      ? ((this._pTime =
                          this._tTime ||
                          Math.max(-this._delay, this.rawTime())),
                        (this._ts = this._act = 0))
                      : (oi(),
                        (this._ts = this._rts),
                        this.totalTime(
                          this.parent && !this.parent.smoothChildTiming
                            ? this.rawTime()
                            : this._tTime || this._pTime,
                          1 === this.progress() &&
                            Math.abs(this._zTime) !== Ze &&
                            (this._tTime -= Ze),
                        ))),
                  this)
                : this._ps;
            }),
            (e.startTime = function (t) {
              if (arguments.length) {
                this._start = t;
                var e = this.parent || this._dp;
                return (
                  e &&
                    (e._sort || !this.parent) &&
                    En(e, this, t - this._delay),
                  this
                );
              }
              return this._start;
            }),
            (e.endTime = function (t) {
              return (
                this._start +
                (fr(t) ? this.totalDuration() : this.duration()) /
                  Math.abs(this._ts || 1)
              );
            }),
            (e.rawTime = function (t) {
              var e = this.parent || this._dp;
              return e
                ? t &&
                  (!this._ts ||
                    (this._repeat && this._time && this.totalProgress() < 1))
                  ? this._tTime % (this._dur + this._rDelay)
                  : this._ts
                    ? mn(e.rawTime(t), this)
                    : this._tTime
                : this._tTime;
            }),
            (e.revert = function (t) {
              void 0 === t && (t = Fr);
              var e = Me;
              return (
                (Me = t),
                (this._initted || this._startAt) &&
                  (this.timeline && this.timeline.revert(t),
                  this.totalTime(-0.01, t.suppressEvents)),
                "nested" !== this.data && !1 !== t.kill && this.kill(),
                (Me = e),
                this
              );
            }),
            (e.globalTime = function (t) {
              for (var e = this, time = arguments.length ? t : e.rawTime(); e; )
                ((time = e._start + time / (e._ts || 1)), (e = e._dp));
              return !this.parent && this._sat
                ? this._sat.vars.immediateRender
                  ? -1
                  : this._sat.globalTime(t)
                : time;
            }),
            (e.repeat = function (t) {
              return arguments.length
                ? ((this._repeat = t === 1 / 0 ? -2 : t), An(this))
                : -2 === this._repeat
                  ? 1 / 0
                  : this._repeat;
            }),
            (e.repeatDelay = function (t) {
              if (arguments.length) {
                var time = this._time;
                return (
                  (this._rDelay = t),
                  An(this),
                  time ? this.time(time) : this
                );
              }
              return this._rDelay;
            }),
            (e.yoyo = function (t) {
              return arguments.length ? ((this._yoyo = t), this) : this._yoyo;
            }),
            (e.seek = function (t, e) {
              return this.totalTime(Ln(this, t), fr(e));
            }),
            (e.restart = function (t, e) {
              return this.play().totalTime(t ? -this._delay : 0, fr(e));
            }),
            (e.play = function (t, e) {
              return (
                null != t && this.seek(t, e),
                this.reversed(!1).paused(!1)
              );
            }),
            (e.reverse = function (t, e) {
              return (
                null != t && this.seek(t || this.totalDuration(), e),
                this.reversed(!0).paused(!1)
              );
            }),
            (e.pause = function (t, e) {
              return (null != t && this.seek(t, e), this.paused(!0));
            }),
            (e.resume = function () {
              return this.paused(!1);
            }),
            (e.reversed = function (t) {
              return arguments.length
                ? (!!t !== this.reversed() &&
                    this.timeScale(-this._rts || (t ? -1e-8 : 0)),
                  this)
                : this._rts < 0;
            }),
            (e.invalidate = function () {
              return (
                (this._initted = this._act = 0),
                (this._zTime = -1e-8),
                this
              );
            }),
            (e.isActive = function () {
              var t,
                e = this.parent || this._dp,
                r = this._start;
              return !(
                e &&
                !(
                  this._ts &&
                  this._initted &&
                  e.isActive() &&
                  (t = e.rawTime(!0)) >= r &&
                  t < this.endTime(!0) - Ze
                )
              );
            }),
            (e.eventCallback = function (t, e, r) {
              var n = this.vars;
              return arguments.length > 1
                ? (e
                    ? ((n[t] = e),
                      r && (n[t + "Params"] = r),
                      "onUpdate" === t && (this._onUpdate = e))
                    : delete n[t],
                  this)
                : n[t];
            }),
            (e.then = function (t) {
              var e = this;
              return new Promise(function (r) {
                var n = lr(t) ? t : en,
                  o = function () {
                    var t = e.then;
                    ((e.then = null),
                      lr(n) &&
                        (n = n(e)) &&
                        (n.then || n === e) &&
                        (e.then = t),
                      r(n),
                      (e.then = t));
                  };
                (e._initted && 1 === e.totalProgress() && e._ts >= 0) ||
                (!e._tTime && e._ts < 0)
                  ? o()
                  : (e._prom = o);
              });
            }),
            (e.kill = function () {
              Wn(this);
            }),
            t
          );
        })();
      rn(Di.prototype, {
        _time: 0,
        _start: 0,
        _end: 0,
        _tTime: 0,
        _tDur: 0,
        _dirty: 0,
        _repeat: 0,
        _yoyo: !1,
        parent: null,
        _initted: !1,
        _rDelay: 0,
        _ts: 1,
        _dp: 0,
        ratio: 0,
        _zTime: -1e-8,
        _prom: 0,
        _ps: !1,
        _rts: 1,
      });
      var Ti = (function (t) {
        function e(e, r) {
          var n;
          return (
            void 0 === e && (e = {}),
            ((n = t.call(this, e) || this).labels = {}),
            (n.smoothChildTiming = !!e.smoothChildTiming),
            (n.autoRemoveChildren = !!e.autoRemoveChildren),
            (n._sort = fr(e.sortChildren)),
            Be && En(e.parent || Be, Ie(n), r),
            e.reversed && n.reverse(),
            e.paused && n.paused(!0),
            e.scrollTrigger && Dn(Ie(n), e.scrollTrigger),
            n
          );
        }
        Pe(e, t);
        var r = e.prototype;
        return (
          (r.to = function (t, e, r) {
            return (kn(0, arguments, this), this);
          }),
          (r.from = function (t, e, r) {
            return (kn(1, arguments, this), this);
          }),
          (r.fromTo = function (t, e, r, n) {
            return (kn(2, arguments, this), this);
          }),
          (r.set = function (t, e, r) {
            return (
              (e.duration = 0),
              (e.parent = this),
              on(e).repeatDelay || (e.repeat = 0),
              (e.immediateRender = !!e.immediateRender),
              new Ii(t, e, Ln(this, r), 1),
              this
            );
          }),
          (r.call = function (t, e, r) {
            return En(this, Ii.delayedCall(0, t, e), r);
          }),
          (r.staggerTo = function (t, e, r, n, o, l, c) {
            return (
              (r.duration = e),
              (r.stagger = r.stagger || n),
              (r.onComplete = l),
              (r.onCompleteParams = c),
              (r.parent = this),
              new Ii(t, r, Ln(this, o)),
              this
            );
          }),
          (r.staggerFrom = function (t, e, r, n, o, l, c) {
            return (
              (r.runBackwards = 1),
              (on(r).immediateRender = fr(r.immediateRender)),
              this.staggerTo(t, e, r, n, o, l, c)
            );
          }),
          (r.staggerFromTo = function (t, e, r, n, o, l, c, h) {
            return (
              (n.startAt = r),
              (on(n).immediateRender = fr(n.immediateRender)),
              this.staggerTo(t, e, n, o, l, c, h)
            );
          }),
          (r.render = function (t, e, r) {
            var time,
              n,
              o,
              l,
              c,
              h,
              d,
              f,
              m,
              y,
              v,
              E,
              D = this._time,
              T = this._dirty ? this.totalDuration() : this._tDur,
              S = this._dur,
              _ = t <= 0 ? 0 : qr(t),
              w = this._zTime < 0 != t < 0 && (this._initted || !S);
            if (
              (this !== Be && _ > T && t >= 0 && (_ = T),
              _ !== this._tTime || r || w)
            ) {
              if (
                (D !== this._time &&
                  S &&
                  ((_ += this._time - D), (t += this._time - D)),
                (time = _),
                (m = this._start),
                (h = !(f = this._ts)),
                w && (S || (D = this._zTime), (t || !e) && (this._zTime = t)),
                this._repeat)
              ) {
                if (
                  ((v = this._yoyo),
                  (c = S + this._rDelay),
                  this._repeat < -1 && t < 0)
                )
                  return this.totalTime(100 * c + t, e, r);
                if (
                  ((time = qr(_ % c)),
                  _ === T
                    ? ((l = this._repeat), (time = S))
                    : ((l = ~~(_ / c)) && l === _ / c && ((time = S), l--),
                      time > S && (time = S)),
                  (y = gn(this._tTime, c)),
                  !D &&
                    this._tTime &&
                    y !== l &&
                    this._tTime - y * c - this._dur <= 0 &&
                    (y = l),
                  v && 1 & l && ((time = S - time), (E = 1)),
                  l !== y && !this._lock)
                ) {
                  var A = v && 1 & y,
                    x = A === (v && 1 & l);
                  if (
                    (l < y && (A = !A),
                    (D = A ? 0 : S),
                    (this._lock = 1),
                    (this.render(D || (E ? 0 : qr(l * c)), e, !S)._lock = 0),
                    (this._tTime = _),
                    !e && this.parent && zn(this, "onRepeat"),
                    this.vars.repeatRefresh &&
                      !E &&
                      (this.invalidate()._lock = 1),
                    (D && D !== this._time) ||
                      h !== !this._ts ||
                      (this.vars.onRepeat && !this.parent && !this._act))
                  )
                    return this;
                  if (
                    ((S = this._dur),
                    (T = this._tDur),
                    x &&
                      ((this._lock = 2),
                      (D = A ? S : -1e-4),
                      this.render(D, !0),
                      this.vars.repeatRefresh && !E && this.invalidate()),
                    (this._lock = 0),
                    !this._ts && !h)
                  )
                    return this;
                  pi(this, E);
                }
              }
              if (
                (this._hasPause &&
                  !this._forcing &&
                  this._lock < 2 &&
                  ((d = (function (t, e, time) {
                    var r;
                    if (time > e)
                      for (r = t._first; r && r._start <= time; ) {
                        if ("isPause" === r.data && r._start > e) return r;
                        r = r._next;
                      }
                    else
                      for (r = t._last; r && r._start >= time; ) {
                        if ("isPause" === r.data && r._start < e) return r;
                        r = r._prev;
                      }
                  })(this, qr(D), qr(time))),
                  d && (_ -= time - (time = d._start))),
                (this._tTime = _),
                (this._time = time),
                (this._act = !f),
                this._initted ||
                  ((this._onUpdate = this.vars.onUpdate),
                  (this._initted = 1),
                  (this._zTime = t),
                  (D = 0)),
                !D &&
                  time &&
                  !e &&
                  !l &&
                  (zn(this, "onStart"), this._tTime !== _))
              )
                return this;
              if (time >= D && t >= 0)
                for (n = this._first; n; ) {
                  if (
                    ((o = n._next),
                    (n._act || time >= n._start) && n._ts && d !== n)
                  ) {
                    if (n.parent !== this) return this.render(t, e, r);
                    if (
                      (n.render(
                        n._ts > 0
                          ? (time - n._start) * n._ts
                          : (n._dirty ? n.totalDuration() : n._tDur) +
                              (time - n._start) * n._ts,
                        e,
                        r,
                      ),
                      time !== this._time || (!this._ts && !h))
                    ) {
                      ((d = 0), o && (_ += this._zTime = -1e-8));
                      break;
                    }
                  }
                  n = o;
                }
              else {
                n = this._last;
                for (var L = t < 0 ? t : time; n; ) {
                  if (
                    ((o = n._prev), (n._act || L <= n._end) && n._ts && d !== n)
                  ) {
                    if (n.parent !== this) return this.render(t, e, r);
                    if (
                      (n.render(
                        n._ts > 0
                          ? (L - n._start) * n._ts
                          : (n._dirty ? n.totalDuration() : n._tDur) +
                              (L - n._start) * n._ts,
                        e,
                        r || (Me && (n._initted || n._startAt)),
                      ),
                      time !== this._time || (!this._ts && !h))
                    ) {
                      ((d = 0), o && (_ += this._zTime = L ? -1e-8 : Ze));
                      break;
                    }
                  }
                  n = o;
                }
              }
              if (
                d &&
                !e &&
                (this.pause(),
                (d.render(time >= D ? 0 : -1e-8)._zTime = time >= D ? 1 : -1),
                this._ts)
              )
                return ((this._start = m), yn(this), this.render(t, e, r));
              (this._onUpdate && !e && zn(this, "onUpdate", !0),
                ((_ === T && this._tTime >= this.totalDuration()) ||
                  (!_ && D)) &&
                  ((m !== this._start && Math.abs(f) === Math.abs(this._ts)) ||
                    this._lock ||
                    ((t || !S) &&
                      ((_ === T && this._ts > 0) || (!_ && this._ts < 0)) &&
                      cn(this, 1),
                    e ||
                      (t < 0 && !D) ||
                      (!_ && !D && T) ||
                      (zn(
                        this,
                        _ === T && t >= 0 ? "onComplete" : "onReverseComplete",
                        !0,
                      ),
                      this._prom &&
                        !(_ < T && this.timeScale() > 0) &&
                        this._prom()))));
            }
            return this;
          }),
          (r.add = function (t, e) {
            var r = this;
            if ((ur(e) || (e = Ln(this, e, t)), !(t instanceof Di))) {
              if (yr(t))
                return (
                  t.forEach(function (t) {
                    return r.add(t, e);
                  }),
                  this
                );
              if (or(t)) return this.addLabel(t, e);
              if (!lr(t)) return this;
              t = Ii.delayedCall(0, t);
            }
            return this !== t ? En(this, t, e) : this;
          }),
          (r.getChildren = function (t, e, r, n) {
            (void 0 === t && (t = !0),
              void 0 === e && (e = !0),
              void 0 === r && (r = !0),
              void 0 === n && (n = -Je));
            for (var a = [], o = this._first; o; )
              (o._start >= n &&
                (o instanceof Ii
                  ? e && a.push(o)
                  : (r && a.push(o),
                    t && a.push.apply(a, o.getChildren(!0, e, r)))),
                (o = o._next));
            return a;
          }),
          (r.getById = function (t) {
            for (var e = this.getChildren(1, 1, 1), i = e.length; i--; )
              if (e[i].vars.id === t) return e[i];
          }),
          (r.remove = function (t) {
            return or(t)
              ? this.removeLabel(t)
              : lr(t)
                ? this.killTweensOf(t)
                : (un(this, t),
                  t === this._recent && (this._recent = this._last),
                  hn(this));
          }),
          (r.totalTime = function (e, r) {
            return arguments.length
              ? ((this._forcing = 1),
                !this._dp &&
                  this._ts &&
                  (this._start = qr(
                    ai.time -
                      (this._ts > 0
                        ? e / this._ts
                        : (this.totalDuration() - e) / -this._ts),
                  )),
                t.prototype.totalTime.call(this, e, r),
                (this._forcing = 0),
                this)
              : this._tTime;
          }),
          (r.addLabel = function (label, t) {
            return ((this.labels[label] = Ln(this, t)), this);
          }),
          (r.removeLabel = function (label) {
            return (delete this.labels[label], this);
          }),
          (r.addPause = function (t, e, r) {
            var n = Ii.delayedCall(0, e || Or, r);
            return (
              (n.data = "isPause"),
              (this._hasPause = 1),
              En(this, n, Ln(this, t))
            );
          }),
          (r.removePause = function (t) {
            var e = this._first;
            for (t = Ln(this, t); e; )
              (e._start === t && "isPause" === e.data && cn(e), (e = e._next));
          }),
          (r.killTweensOf = function (t, e, r) {
            for (var n = this.getTweensOf(t, r), i = n.length; i--; )
              Si !== n[i] && n[i].kill(t, e);
            return this;
          }),
          (r.getTweensOf = function (t, e) {
            for (var r, a = [], n = Mn(t), o = this._first, l = ur(e); o; )
              (o instanceof Ii
                ? Qr(o._targets, n) &&
                  (l
                    ? (!Si || (o._initted && o._ts)) &&
                      o.globalTime(0) <= e &&
                      o.globalTime(o.totalDuration()) > e
                    : !e || o.isActive()) &&
                  a.push(o)
                : (r = o.getTweensOf(n, e)).length && a.push.apply(a, r),
                (o = o._next));
            return a;
          }),
          (r.tweenTo = function (t, e) {
            e = e || {};
            var r,
              n = this,
              o = Ln(n, t),
              l = e,
              c = l.startAt,
              h = l.onStart,
              d = l.onStartParams,
              f = l.immediateRender,
              m = Ii.to(
                n,
                rn(
                  {
                    ease: e.ease || "none",
                    lazy: !1,
                    immediateRender: !1,
                    time: o,
                    overwrite: "auto",
                    duration:
                      e.duration ||
                      Math.abs(
                        (o - (c && "time" in c ? c.time : n._time)) /
                          n.timeScale(),
                      ) ||
                      Ze,
                    onStart: function () {
                      if ((n.pause(), !r)) {
                        var t =
                          e.duration ||
                          Math.abs(
                            (o - (c && "time" in c ? c.time : n._time)) /
                              n.timeScale(),
                          );
                        (m._dur !== t && wn(m, t, 0, 1).render(m._time, !0, !0),
                          (r = 1));
                      }
                      h && h.apply(m, d || []);
                    },
                  },
                  e,
                ),
              );
            return f ? m.render(0) : m;
          }),
          (r.tweenFromTo = function (t, e, r) {
            return this.tweenTo(e, rn({ startAt: { time: Ln(this, t) } }, r));
          }),
          (r.recent = function () {
            return this._recent;
          }),
          (r.nextLabel = function (t) {
            return (void 0 === t && (t = this._time), Yn(this, Ln(this, t)));
          }),
          (r.previousLabel = function (t) {
            return (void 0 === t && (t = this._time), Yn(this, Ln(this, t), 1));
          }),
          (r.currentLabel = function (t) {
            return arguments.length
              ? this.seek(t, !0)
              : this.previousLabel(this._time + Ze);
          }),
          (r.shiftChildren = function (t, e, r) {
            void 0 === r && (r = 0);
            for (var p, n = this._first, o = this.labels; n; )
              (n._start >= r && ((n._start += t), (n._end += t)),
                (n = n._next));
            if (e) for (p in o) o[p] >= r && (o[p] += t);
            return hn(this);
          }),
          (r.invalidate = function (e) {
            var r = this._first;
            for (this._lock = 0; r; ) (r.invalidate(e), (r = r._next));
            return t.prototype.invalidate.call(this, e);
          }),
          (r.clear = function (t) {
            void 0 === t && (t = !0);
            for (var e, r = this._first; r; )
              ((e = r._next), this.remove(r), (r = e));
            return (
              this._dp && (this._time = this._tTime = this._pTime = 0),
              t && (this.labels = {}),
              hn(this)
            );
          }),
          (r.totalDuration = function (t) {
            var e,
              r,
              n,
              o = 0,
              l = this,
              c = l._last,
              h = Je;
            if (arguments.length)
              return l.timeScale(
                (l._repeat < 0 ? l.duration() : l.totalDuration()) /
                  (l.reversed() ? -t : t),
              );
            if (l._dirty) {
              for (n = l.parent; c; )
                ((e = c._prev),
                  c._dirty && c.totalDuration(),
                  (r = c._start) > h && l._sort && c._ts && !l._lock
                    ? ((l._lock = 1), (En(l, c, r - c._delay, 1)._lock = 0))
                    : (h = r),
                  r < 0 &&
                    c._ts &&
                    ((o -= r),
                    ((!n && !l._dp) || (n && n.smoothChildTiming)) &&
                      ((l._start += r / l._ts),
                      (l._time -= r),
                      (l._tTime -= r)),
                    l.shiftChildren(-r, !1, -Infinity),
                    (h = 0)),
                  c._end > o && c._ts && (o = c._end),
                  (c = e));
              (wn(l, l === Be && l._time > o ? l._time : o, 1, 1),
                (l._dirty = 0));
            }
            return l._tDur;
          }),
          (e.updateRoot = function (time) {
            if (
              (Be._ts && (Zr(Be, mn(time, Be)), (Ke = ai.frame)),
              ai.frame >= $r)
            ) {
              $r += Xe.autoSleep || 120;
              var t = Be._first;
              if ((!t || !t._ts) && Xe.autoSleep && ai._listeners.length < 2) {
                for (; t && !t._ts; ) t = t._next;
                t || ai.sleep();
              }
            }
          }),
          e
        );
      })(Di);
      rn(Ti.prototype, { _lock: 0, _hasPause: 0, _forcing: 0 });
      var Si,
        _i,
        wi = function (t, e, r, n, o, l, c) {
          var h,
            d,
            f,
            m,
            y,
            v,
            E,
            a,
            D = new zi(this._pt, t, e, 0, 1, $i, null, o),
            T = 0,
            S = 0;
          for (
            D.b = r,
              D.e = n,
              r += "",
              (E = ~(n += "").indexOf("random(")) && (n = Hn(n)),
              l && (l((a = [r, n]), t, e), (r = a[0]), (n = a[1])),
              d = r.match(Tr) || [];
            (h = Tr.exec(n));
          )
            ((m = h[0]),
              (y = n.substring(T, h.index)),
              f ? (f = (f + 1) % 5) : "rgba(" === y.substr(-5) && (f = 1),
              m !== d[S++] &&
                ((v = parseFloat(d[S - 1]) || 0),
                (D._pt = {
                  _next: D._pt,
                  p: y || 1 === S ? y : ",",
                  s: v,
                  c: "=" === m.charAt(1) ? Xr(v, m) - v : parseFloat(m) - v,
                  m: f && f < 4 ? Math.round : 0,
                }),
                (T = Tr.lastIndex)));
          return (
            (D.c = T < n.length ? n.substring(T, n.length) : ""),
            (D.fp = c),
            (Sr.test(n) || E) && (D.e = 0),
            (this._pt = D),
            D
          );
        },
        Ai = function (t, e, r, n, o, l, c, h, d, f) {
          lr(n) && (n = n(o || 0, t, l));
          var m,
            y = t[e],
            v =
              "get" !== r
                ? r
                : lr(y)
                  ? d
                    ? t[
                        e.indexOf("set") || !lr(t["get" + e.substr(3)])
                          ? e
                          : "get" + e.substr(3)
                      ](d)
                    : t[e]()
                  : y,
            E = lr(y) ? (d ? Mi : Fi) : Pi;
          if (
            (or(n) &&
              (~n.indexOf("random(") && (n = Hn(n)),
              "=" === n.charAt(1) &&
                ((m = Xr(v, n) + (On(v) || 0)) || 0 === m) &&
                (n = m)),
            !f || v !== n || _i)
          )
            return isNaN(v * n) || "" === n
              ? (!y && !(e in t) && kr(e, n),
                wi.call(this, t, e, v, n, E, h || Xe.stringFilter, d))
              : ((m = new zi(
                  this._pt,
                  t,
                  e,
                  +v || 0,
                  n - (v || 0),
                  "boolean" == typeof y ? ji : Ui,
                  0,
                  E,
                )),
                d && (m.fp = d),
                c && m.modifier(c, this, t),
                (this._pt = m));
        },
        xi = function (t, e, r, n, o, l) {
          var c, h, d, i;
          if (
            Ur[t] &&
            !1 !==
              (c = new Ur[t]()).init(
                o,
                c.rawVars
                  ? e[t]
                  : (function (t, e, r, n, o) {
                      if (
                        (lr(t) && (t = Ci(t, o, e, r, n)),
                        !dr(t) || (t.style && t.nodeType) || yr(t) || mr(t))
                      )
                        return or(t) ? Ci(t, o, e, r, n) : t;
                      var p,
                        l = {};
                      for (p in t) l[p] = Ci(t[p], o, e, r, n);
                      return l;
                    })(e[t], n, o, l, r),
                r,
                n,
                l,
              ) &&
            ((r._pt = h =
              new zi(r._pt, o, t, 0, 1, c.render, c, 0, c.priority)),
            r !== He)
          )
            for (
              d = r._ptLookup[r._targets.indexOf(o)], i = c._props.length;
              i--;
            )
              d[c._props[i]] = h;
          return c;
        },
        Li = function t(e, time, r) {
          var n,
            i,
            p,
            o,
            l,
            c,
            h,
            d,
            f,
            m,
            y,
            v,
            E,
            D = e.vars,
            T = D.ease,
            S = D.startAt,
            _ = D.immediateRender,
            w = D.lazy,
            A = D.onUpdate,
            x = D.onUpdateParams,
            L = D.callbackScope,
            k = D.runBackwards,
            C = D.yoyoEase,
            R = D.keyframes,
            O = D.autoRevert,
            I = e._dur,
            P = e._startAt,
            F = e._targets,
            M = e.parent,
            N = M && "nested" === M.data ? M.vars.targets : F,
            B = "auto" === e._overwrite && !Fe,
            U = e.timeline;
          if (
            (U && (!R || !T) && (T = "none"),
            (e._ease = gi(T, Qe.ease)),
            (e._yEase = C ? fi(gi(!0 === C ? T : C, Qe.ease)) : 0),
            C &&
              e._yoyo &&
              !e._repeat &&
              ((C = e._yEase), (e._yEase = e._ease), (e._ease = C)),
            (e._from = !U && !!D.runBackwards),
            !U || (R && !D.stagger))
          ) {
            if (
              ((v = (d = F[0] ? Vr(F[0]).harness : 0) && D[d.prop]),
              (n = an(D, Mr)),
              P &&
                (P._zTime < 0 && P.progress(1),
                time < 0 && k && _ && !O
                  ? P.render(-1, !0)
                  : P.revert(k && I ? Pr : Ir),
                (P._lazy = 0)),
              S)
            ) {
              if (
                (cn(
                  (e._startAt = Ii.set(
                    F,
                    rn(
                      {
                        data: "isStart",
                        overwrite: !1,
                        parent: M,
                        immediateRender: !0,
                        lazy: !P && fr(w),
                        startAt: null,
                        delay: 0,
                        onUpdate: A,
                        onUpdateParams: x,
                        callbackScope: L,
                        stagger: 0,
                      },
                      S,
                    ),
                  )),
                ),
                (e._startAt._dp = 0),
                (e._startAt._sat = e),
                time < 0 && (Me || (!_ && !O)) && e._startAt.revert(Pr),
                _ && I && time <= 0 && r <= 0)
              )
                return void (time && (e._zTime = time));
            } else if (k && I && !P)
              if (
                (time && (_ = !1),
                (p = rn(
                  {
                    overwrite: !1,
                    data: "isFromStart",
                    lazy: _ && !P && fr(w),
                    immediateRender: _,
                    stagger: 0,
                    parent: M,
                  },
                  n,
                )),
                v && (p[d.prop] = v),
                cn((e._startAt = Ii.set(F, p))),
                (e._startAt._dp = 0),
                (e._startAt._sat = e),
                time < 0 &&
                  (Me ? e._startAt.revert(Pr) : e._startAt.render(-1, !0)),
                (e._zTime = time),
                _)
              ) {
                if (!time) return;
              } else t(e._startAt, Ze, Ze);
            for (
              e._pt = e._ptCache = 0, w = (I && fr(w)) || (w && !I), i = 0;
              i < F.length;
              i++
            ) {
              if (
                ((h = (l = F[i])._gsap || Hr(F)[i]._gsap),
                (e._ptLookup[i] = m = {}),
                Br[h.id] && Nr.length && Jr(),
                (y = N === F ? i : N.indexOf(l)),
                d &&
                  !1 !== (f = new d()).init(l, v || n, e, y, N) &&
                  ((e._pt = o =
                    new zi(e._pt, l, f.name, 0, 1, f.render, f, 0, f.priority)),
                  f._props.forEach(function (t) {
                    m[t] = o;
                  }),
                  f.priority && (c = 1)),
                !d || v)
              )
                for (p in n)
                  Ur[p] && (f = xi(p, n, e, y, l, N))
                    ? f.priority && (c = 1)
                    : (m[p] = o =
                        Ai.call(e, l, p, "get", n[p], y, N, 0, D.stringFilter));
              (e._op && e._op[i] && e.kill(l, e._op[i]),
                B &&
                  e._pt &&
                  ((Si = e),
                  Be.killTweensOf(l, m, e.globalTime(time)),
                  (E = !e.parent),
                  (Si = 0)),
                e._pt && w && (Br[h.id] = 1));
            }
            (c && Yi(e), e._onInit && e._onInit(e));
          }
          ((e._onUpdate = A),
            (e._initted = (!e._op || e._pt) && !E),
            R && time <= 0 && U.render(Je, !0, !0));
        },
        ki = function (t, e, r, n) {
          var p,
            a,
            o = e.ease || n || "power1.inOut";
          if (yr(e))
            ((a = r[t] || (r[t] = [])),
              e.forEach(function (t, i) {
                return a.push({ t: (i / (e.length - 1)) * 100, v: t, e: o });
              }));
          else
            for (p in e)
              ((a = r[p] || (r[p] = [])),
                "ease" === p || a.push({ t: parseFloat(t), v: e[p], e: o }));
        },
        Ci = function (t, e, i, r, n) {
          return lr(t)
            ? t.call(e, i, r, n)
            : or(t) && ~t.indexOf("random(")
              ? Hn(t)
              : t;
        },
        Ri = Kr + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",
        Oi = {};
      zr(Ri + ",id,stagger,delay,duration,paused,scrollTrigger", function (t) {
        return (Oi[t] = 1);
      });
      var Ii = (function (t) {
        function e(e, r, n, o) {
          var l;
          "number" == typeof r && ((n.duration = r), (r = n), (n = null));
          var c,
            i,
            h,
            d,
            p,
            f,
            m,
            y,
            v = (l = t.call(this, o ? r : on(r)) || this).vars,
            E = v.duration,
            D = v.delay,
            T = v.immediateRender,
            S = v.stagger,
            _ = v.overwrite,
            w = v.keyframes,
            A = v.defaults,
            x = v.scrollTrigger,
            L = v.yoyoEase,
            k = r.parent || Be,
            C = (yr(e) || mr(e) ? ur(e[0]) : "length" in r) ? [e] : Mn(e);
          if (
            ((l._targets = C.length
              ? Hr(C)
              : Cr(
                  "GSAP target " + e + " not found. https://greensock.com",
                  !Xe.nullTargetWarn,
                ) || []),
            (l._ptLookup = []),
            (l._overwrite = _),
            w || S || gr(E) || gr(D))
          ) {
            if (
              ((r = l.vars),
              (c = l.timeline =
                new Ti({
                  data: "nested",
                  defaults: A || {},
                  targets: k && "nested" === k.data ? k.vars.targets : C,
                })).kill(),
              (c.parent = c._dp = Ie(l)),
              (c._start = 0),
              S || gr(E) || gr(D))
            ) {
              if (((d = C.length), (m = S && Un(S)), dr(S)))
                for (p in S) ~Ri.indexOf(p) && (y || (y = {}), (y[p] = S[p]));
              for (i = 0; i < d; i++)
                (((h = an(r, Oi)).stagger = 0),
                  L && (h.yoyoEase = L),
                  y && nn(h, y),
                  (f = C[i]),
                  (h.duration = +Ci(E, Ie(l), i, f, C)),
                  (h.delay = (+Ci(D, Ie(l), i, f, C) || 0) - l._delay),
                  !S &&
                    1 === d &&
                    h.delay &&
                    ((l._delay = D = h.delay), (l._start += D), (h.delay = 0)),
                  c.to(f, h, m ? m(i, f, C) : 0),
                  (c._ease = ui.none));
              c.duration() ? (E = D = 0) : (l.timeline = 0);
            } else if (w) {
              (on(rn(c.vars.defaults, { ease: "none" })),
                (c._ease = gi(w.ease || r.ease || "none")));
              var a,
                R,
                O,
                time = 0;
              if (yr(w))
                (w.forEach(function (t) {
                  return c.to(C, t, ">");
                }),
                  c.duration());
              else {
                for (p in ((h = {}), w))
                  "ease" === p ||
                    "easeEach" === p ||
                    ki(p, w[p], h, w.easeEach);
                for (p in h)
                  for (
                    a = h[p].sort(function (a, b) {
                      return a.t - b.t;
                    }),
                      time = 0,
                      i = 0;
                    i < a.length;
                    i++
                  )
                    (((O = {
                      ease: (R = a[i]).e,
                      duration: ((R.t - (i ? a[i - 1].t : 0)) / 100) * E,
                    })[p] = R.v),
                      c.to(C, O, time),
                      (time += O.duration));
                c.duration() < E && c.to({}, { duration: E - c.duration() });
              }
            }
            E || l.duration((E = c.duration()));
          } else l.timeline = 0;
          return (
            !0 !== _ || Fe || ((Si = Ie(l)), Be.killTweensOf(C), (Si = 0)),
            En(k, Ie(l), n),
            r.reversed && l.reverse(),
            r.paused && l.paused(!0),
            (T ||
              (!E &&
                !w &&
                l._start === qr(k._time) &&
                fr(T) &&
                fn(Ie(l)) &&
                "nested" !== k.data)) &&
              ((l._tTime = -1e-8), l.render(Math.max(0, -D) || 0)),
            x && Dn(Ie(l), x),
            l
          );
        }
        Pe(e, t);
        var r = e.prototype;
        return (
          (r.render = function (t, e, r) {
            var time,
              n,
              o,
              l,
              c,
              h,
              d,
              f,
              m,
              y = this._time,
              v = this._tDur,
              E = this._dur,
              D = t < 0,
              T = t > v - Ze && !D ? v : t < Ze ? 0 : t;
            if (E) {
              if (
                T !== this._tTime ||
                !t ||
                r ||
                (!this._initted && this._tTime) ||
                (this._startAt && this._zTime < 0 !== D)
              ) {
                if (((time = T), (f = this.timeline), this._repeat)) {
                  if (((l = E + this._rDelay), this._repeat < -1 && D))
                    return this.totalTime(100 * l + t, e, r);
                  if (
                    ((time = qr(T % l)),
                    T === v
                      ? ((o = this._repeat), (time = E))
                      : ((o = ~~(T / l)) && o === T / l && ((time = E), o--),
                        time > E && (time = E)),
                    (h = this._yoyo && 1 & o) &&
                      ((m = this._yEase), (time = E - time)),
                    (c = gn(this._tTime, l)),
                    time === y && !r && this._initted)
                  )
                    return ((this._tTime = T), this);
                  o !== c &&
                    (f && this._yEase && pi(f, h),
                    !this.vars.repeatRefresh ||
                      h ||
                      this._lock ||
                      ((this._lock = r = 1),
                      (this.render(qr(l * o), !0).invalidate()._lock = 0)));
                }
                if (!this._initted) {
                  if (Tn(this, D ? t : time, r, e, T))
                    return ((this._tTime = 0), this);
                  if (y !== this._time) return this;
                  if (E !== this._dur) return this.render(t, e, r);
                }
                if (
                  ((this._tTime = T),
                  (this._time = time),
                  !this._act && this._ts && ((this._act = 1), (this._lazy = 0)),
                  (this.ratio = d = (m || this._ease)(time / E)),
                  this._from && (this.ratio = d = 1 - d),
                  time &&
                    !y &&
                    !e &&
                    !o &&
                    (zn(this, "onStart"), this._tTime !== T))
                )
                  return this;
                for (n = this._pt; n; ) (n.r(d, n.d), (n = n._next));
                ((f &&
                  f.render(
                    t < 0
                      ? t
                      : !time && h
                        ? -1e-8
                        : f._dur * f._ease(time / this._dur),
                    e,
                    r,
                  )) ||
                  (this._startAt && (this._zTime = t)),
                  this._onUpdate &&
                    !e &&
                    (D && dn(this, t, 0, r), zn(this, "onUpdate")),
                  this._repeat &&
                    o !== c &&
                    this.vars.onRepeat &&
                    !e &&
                    this.parent &&
                    zn(this, "onRepeat"),
                  (T !== this._tDur && T) ||
                    this._tTime !== T ||
                    (D && !this._onUpdate && dn(this, t, 0, !0),
                    (t || !E) &&
                      ((T === this._tDur && this._ts > 0) ||
                        (!T && this._ts < 0)) &&
                      cn(this, 1),
                    e ||
                      (D && !y) ||
                      !(T || y || h) ||
                      (zn(
                        this,
                        T === v ? "onComplete" : "onReverseComplete",
                        !0,
                      ),
                      this._prom &&
                        !(T < v && this.timeScale() > 0) &&
                        this._prom())));
              }
            } else
              !(function (t, e, r, n) {
                var o,
                  l,
                  c,
                  h = t.ratio,
                  d =
                    e < 0 ||
                    (!e &&
                      ((!t._start && Sn(t) && (t._initted || !_n(t))) ||
                        ((t._ts < 0 || t._dp._ts < 0) && !_n(t))))
                      ? 0
                      : 1,
                  f = t._rDelay,
                  m = 0;
                if (
                  (f &&
                    t._repeat &&
                    ((m = Rn(0, t._tDur, e)),
                    (l = gn(m, f)),
                    t._yoyo && 1 & l && (d = 1 - d),
                    l !== gn(t._tTime, f) &&
                      ((h = 1 - d),
                      t.vars.repeatRefresh && t._initted && t.invalidate())),
                  d !== h || Me || n || t._zTime === Ze || (!e && t._zTime))
                ) {
                  if (!t._initted && Tn(t, e, n, r, m)) return;
                  for (
                    c = t._zTime,
                      t._zTime = e || (r ? Ze : 0),
                      r || (r = e && !c),
                      t.ratio = d,
                      t._from && (d = 1 - d),
                      t._time = 0,
                      t._tTime = m,
                      o = t._pt;
                    o;
                  )
                    (o.r(d, o.d), (o = o._next));
                  (e < 0 && dn(t, e, 0, !0),
                    t._onUpdate && !r && zn(t, "onUpdate"),
                    m && t._repeat && !r && t.parent && zn(t, "onRepeat"),
                    (e >= t._tDur || e < 0) &&
                      t.ratio === d &&
                      (d && cn(t, 1),
                      r ||
                        Me ||
                        (zn(t, d ? "onComplete" : "onReverseComplete", !0),
                        t._prom && t._prom())));
                } else t._zTime || (t._zTime = e);
              })(this, t, e, r);
            return this;
          }),
          (r.targets = function () {
            return this._targets;
          }),
          (r.invalidate = function (e) {
            return (
              (!e || !this.vars.runBackwards) && (this._startAt = 0),
              (this._pt =
                this._op =
                this._onUpdate =
                this._lazy =
                this.ratio =
                  0),
              (this._ptLookup = []),
              this.timeline && this.timeline.invalidate(e),
              t.prototype.invalidate.call(this, e)
            );
          }),
          (r.resetTo = function (t, e, r, n) {
            (Ve || ai.wake(), this._ts || this.play());
            var time = Math.min(
              this._dur,
              (this._dp._time - this._start) * this._ts,
            );
            return (
              this._initted || Li(this, time),
              (function (t, e, r, n, o, l, time) {
                var c,
                  h,
                  d,
                  i,
                  f = ((t._pt && t._ptCache) || (t._ptCache = {}))[e];
                if (!f)
                  for (
                    f = t._ptCache[e] = [],
                      d = t._ptLookup,
                      i = t._targets.length;
                    i--;
                  ) {
                    if ((c = d[i][e]) && c.d && c.d._pt)
                      for (c = c.d._pt; c && c.p !== e && c.fp !== e; )
                        c = c._next;
                    if (!c)
                      return (
                        (_i = 1),
                        (t.vars[e] = "+=0"),
                        Li(t, time),
                        (_i = 0),
                        1
                      );
                    f.push(c);
                  }
                for (i = f.length; i--; )
                  (((c = (h = f[i])._pt || h).s =
                    (!n && 0 !== n) || o ? c.s + (n || 0) + l * c.c : n),
                    (c.c = r - c.s),
                    h.e && (h.e = Wr(r) + On(h.e)),
                    h.b && (h.b = c.s + On(h.b)));
              })(this, t, e, r, n, this._ease(time / this._dur), time)
                ? this.resetTo(t, e, r, n)
                : (vn(this, 0),
                  this.parent ||
                    ln(
                      this._dp,
                      this,
                      "_first",
                      "_last",
                      this._dp._sort ? "_start" : 0,
                    ),
                  this.render(0))
            );
          }),
          (r.kill = function (t, e) {
            if ((void 0 === e && (e = "all"), !(t || (e && "all" !== e))))
              return (
                (this._lazy = this._pt = 0),
                this.parent ? Wn(this) : this
              );
            if (this.timeline) {
              var r = this.timeline.totalDuration();
              return (
                this.timeline.killTweensOf(t, e, Si && !0 !== Si.vars.overwrite)
                  ._first || Wn(this),
                this.parent &&
                  r !== this.timeline.totalDuration() &&
                  wn(this, (this._dur * this.timeline._tDur) / r, 0, 1),
                this
              );
            }
            var n,
              o,
              l,
              c,
              p,
              h,
              i,
              d = this._targets,
              f = t ? Mn(t) : d,
              m = this._ptLookup,
              y = this._pt;
            if (
              (!e || "all" === e) &&
              (function (t, e) {
                for (
                  var i = t.length, r = i === e.length;
                  r && i-- && t[i] === e[i];
                );
                return i < 0;
              })(d, f)
            )
              return ("all" === e && (this._pt = 0), Wn(this));
            for (
              n = this._op = this._op || [],
                "all" !== e &&
                  (or(e) &&
                    ((p = {}),
                    zr(e, function (t) {
                      return (p[t] = 1);
                    }),
                    (e = p)),
                  (e = (function (t, e) {
                    var r,
                      p,
                      i,
                      n,
                      o = t[0] ? Vr(t[0]).harness : 0,
                      l = o && o.aliases;
                    if (!l) return e;
                    for (p in ((r = nn({}, e)), l))
                      if ((p in r))
                        for (i = (n = l[p].split(",")).length; i--; )
                          r[n[i]] = r[p];
                    return r;
                  })(d, e))),
                i = d.length;
              i--;
            )
              if (~f.indexOf(d[i]))
                for (p in ((o = m[i]),
                "all" === e
                  ? ((n[i] = e), (c = o), (l = {}))
                  : ((l = n[i] = n[i] || {}), (c = e)),
                c))
                  ((h = o && o[p]) &&
                    (("kill" in h.d && !0 !== h.d.kill(p)) ||
                      un(this, h, "_pt"),
                    delete o[p]),
                    "all" !== l && (l[p] = 1));
            return (this._initted && !this._pt && y && Wn(this), this);
          }),
          (e.to = function (t, r) {
            return new e(t, r, arguments[2]);
          }),
          (e.from = function (t, e) {
            return kn(1, arguments);
          }),
          (e.delayedCall = function (t, r, n, o) {
            return new e(r, 0, {
              immediateRender: !1,
              lazy: !1,
              overwrite: !1,
              delay: t,
              onComplete: r,
              onReverseComplete: r,
              onCompleteParams: n,
              onReverseCompleteParams: n,
              callbackScope: o,
            });
          }),
          (e.fromTo = function (t, e, r) {
            return kn(2, arguments);
          }),
          (e.set = function (t, r) {
            return (
              (r.duration = 0),
              r.repeatDelay || (r.repeat = 0),
              new e(t, r)
            );
          }),
          (e.killTweensOf = function (t, e, r) {
            return Be.killTweensOf(t, e, r);
          }),
          e
        );
      })(Di);
      (rn(Ii.prototype, {
        _targets: [],
        _lazy: 0,
        _startAt: 0,
        _op: 0,
        _onInit: 0,
      }),
        zr("staggerTo,staggerFrom,staggerFromTo", function (t) {
          Ii[t] = function () {
            var e = new Ti(),
              r = In.call(arguments, 0);
            return (
              r.splice("staggerFromTo" === t ? 5 : 4, 0, 0),
              e[t].apply(e, r)
            );
          };
        }));
      var Pi = function (t, e, r) {
          return (t[e] = r);
        },
        Fi = function (t, e, r) {
          return t[e](r);
        },
        Mi = function (t, e, r, data) {
          return t[e](data.fp, r);
        },
        Ni = function (t, e, r) {
          return t.setAttribute(e, r);
        },
        Bi = function (t, e) {
          return lr(t[e]) ? Fi : cr(t[e]) && t.setAttribute ? Ni : Pi;
        },
        Ui = function (t, data) {
          return data.set(
            data.t,
            data.p,
            Math.round(1e6 * (data.s + data.c * t)) / 1e6,
            data,
          );
        },
        ji = function (t, data) {
          return data.set(data.t, data.p, !!(data.s + data.c * t), data);
        },
        $i = function (t, data) {
          var e = data._pt,
            s = "";
          if (!t && data.b) s = data.b;
          else if (1 === t && data.e) s = data.e;
          else {
            for (; e; )
              ((s =
                e.p +
                (e.m
                  ? e.m(e.s + e.c * t)
                  : Math.round(1e4 * (e.s + e.c * t)) / 1e4) +
                s),
                (e = e._next));
            s += data.c;
          }
          data.set(data.t, data.p, s, data);
        },
        Gi = function (t, data) {
          for (var e = data._pt; e; ) (e.r(t, e.d), (e = e._next));
        },
        Ki = function (t, e, r, n) {
          for (var o, l = this._pt; l; )
            ((o = l._next), l.p === n && l.modifier(t, e, r), (l = o));
        },
        Hi = function (t) {
          for (var e, r, n = this._pt; n; )
            ((r = n._next),
              (n.p === t && !n.op) || n.op === t
                ? un(this, n, "_pt")
                : n.dep || (e = 1),
              (n = r));
          return !e;
        },
        Vi = function (t, e, r, data) {
          data.mSet(t, e, data.m.call(data.tween, r, data.mt), data);
        },
        Yi = function (t) {
          for (var e, r, n, o, l = t._pt; l; ) {
            for (e = l._next, r = n; r && r.pr > l.pr; ) r = r._next;
            ((l._prev = r ? r._prev : o) ? (l._prev._next = l) : (n = l),
              (l._next = r) ? (r._prev = l) : (o = l),
              (l = e));
          }
          t._pt = n;
        },
        zi = (function () {
          function t(t, e, r, n, o, l, data, c, h) {
            ((this.t = e),
              (this.s = n),
              (this.c = o),
              (this.p = r),
              (this.r = l || Ui),
              (this.d = data || this),
              (this.set = c || Pi),
              (this.pr = h || 0),
              (this._next = t),
              t && (t._prev = this));
          }
          return (
            (t.prototype.modifier = function (t, e, r) {
              ((this.mSet = this.mSet || this.set),
                (this.set = Vi),
                (this.m = t),
                (this.mt = r),
                (this.tween = e));
            }),
            t
          );
        })();
      (zr(
        Kr +
          "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",
        function (t) {
          return (Mr[t] = 1);
        },
      ),
        (Ar.TweenMax = Ar.TweenLite = Ii),
        (Ar.TimelineLite = Ar.TimelineMax = Ti),
        (Be = new Ti({
          sortChildren: !1,
          defaults: Qe,
          autoRemoveChildren: !0,
          id: "root",
          smoothChildTiming: !0,
        })),
        (Xe.stringFilter = si));
      var Wi = [],
        qi = {},
        Xi = [],
        Qi = 0,
        Ji = function (t) {
          return (qi[t] || Xi).map(function (t) {
            return t();
          });
        },
        Zi = function () {
          var time = Date.now(),
            t = [];
          time - Qi > 2 &&
            (Ji("matchMediaInit"),
            Wi.forEach(function (e) {
              var r,
                p,
                n,
                o,
                l = e.queries,
                c = e.conditions;
              for (p in l)
                ((r = Ue.matchMedia(l[p]).matches) && (n = 1),
                  r !== c[p] && ((c[p] = r), (o = 1)));
              o && (e.revert(), n && t.push(e));
            }),
            Ji("matchMediaRevert"),
            t.forEach(function (t) {
              return t.onMatch(t);
            }),
            (Qi = time),
            Ji("matchMedia"));
        },
        ts = (function () {
          function t(t, e) {
            ((this.selector = e && Nn(e)),
              (this.data = []),
              (this._r = []),
              (this.isReverted = !1),
              t && this.add(t));
          }
          var e = t.prototype;
          return (
            (e.add = function (t, e, r) {
              lr(t) && ((r = e), (e = t), (t = lr));
              var n = this,
                o = function () {
                  var t,
                    o = Ne,
                    l = n.selector;
                  return (
                    o && o !== n && o.data.push(n),
                    r && (n.selector = Nn(r)),
                    (Ne = n),
                    (t = e.apply(n, arguments)),
                    lr(t) && n._r.push(t),
                    (Ne = o),
                    (n.selector = l),
                    (n.isReverted = !1),
                    t
                  );
                };
              return ((n.last = o), t === lr ? o(n) : t ? (n[t] = o) : o);
            }),
            (e.ignore = function (t) {
              var e = Ne;
              ((Ne = null), t(this), (Ne = e));
            }),
            (e.getTweens = function () {
              var a = [];
              return (
                this.data.forEach(function (e) {
                  return e instanceof t
                    ? a.push.apply(a, e.getTweens())
                    : e instanceof Ii &&
                        !(e.parent && "nested" === e.parent.data) &&
                        a.push(e);
                }),
                a
              );
            }),
            (e.clear = function () {
              this._r.length = this.data.length = 0;
            }),
            (e.kill = function (t, e) {
              var r = this;
              if (t) {
                var n = this.getTweens();
                (this.data.forEach(function (t) {
                  "isFlip" === t.data &&
                    (t.revert(),
                    t.getChildren(!0, !0, !1).forEach(function (t) {
                      return n.splice(n.indexOf(t), 1);
                    }));
                }),
                  n
                    .map(function (t) {
                      return { g: t.globalTime(0), t: t };
                    })
                    .sort(function (a, b) {
                      return b.g - a.g || -1;
                    })
                    .forEach(function (e) {
                      return e.t.revert(t);
                    }),
                  this.data.forEach(function (e) {
                    return !(e instanceof Di) && e.revert && e.revert(t);
                  }),
                  this._r.forEach(function (e) {
                    return e(t, r);
                  }),
                  (this.isReverted = !0));
              } else
                this.data.forEach(function (t) {
                  return t.kill && t.kill();
                });
              if ((this.clear(), e)) {
                var i = Wi.indexOf(this);
                ~i && Wi.splice(i, 1);
              }
            }),
            (e.revert = function (t) {
              this.kill(t || {});
            }),
            t
          );
        })(),
        es = (function () {
          function t(t) {
            ((this.contexts = []), (this.scope = t));
          }
          var e = t.prototype;
          return (
            (e.add = function (t, e, r) {
              dr(t) || (t = { matches: t });
              var n,
                p,
                o,
                l = new ts(0, r || this.scope),
                c = (l.conditions = {});
              for (p in (this.contexts.push(l),
              (e = l.add("onMatch", e)),
              (l.queries = t),
              t))
                "all" === p
                  ? (o = 1)
                  : (n = Ue.matchMedia(t[p])) &&
                    (Wi.indexOf(l) < 0 && Wi.push(l),
                    (c[p] = n.matches) && (o = 1),
                    n.addListener
                      ? n.addListener(Zi)
                      : n.addEventListener("change", Zi));
              return (o && e(l), this);
            }),
            (e.revert = function (t) {
              this.kill(t || {});
            }),
            (e.kill = function (t) {
              this.contexts.forEach(function (e) {
                return e.kill(t, !0);
              });
            }),
            t
          );
        })(),
        rs = {
          registerPlugin: function () {
            for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++)
              e[r] = arguments[r];
            e.forEach(function (t) {
              return Xn(t);
            });
          },
          timeline: function (t) {
            return new Ti(t);
          },
          getTweensOf: function (t, e) {
            return Be.getTweensOf(t, e);
          },
          getProperty: function (t, e, r, n) {
            or(t) && (t = Mn(t)[0]);
            var o = Vr(t || {}).get,
              l = r ? en : tn;
            return (
              "native" === r && (r = ""),
              t
                ? e
                  ? l(((Ur[e] && Ur[e].get) || o)(t, e, r, n))
                  : function (e, r, n) {
                      return l(((Ur[e] && Ur[e].get) || o)(t, e, r, n));
                    }
                : t
            );
          },
          quickSetter: function (t, e, r) {
            if ((t = Mn(t)).length > 1) {
              var n = t.map(function (t) {
                  return ss.quickSetter(t, e, r);
                }),
                o = n.length;
              return function (t) {
                for (var i = o; i--; ) n[i](t);
              };
            }
            t = t[0] || {};
            var l = Ur[e],
              c = Vr(t),
              p = (c.harness && (c.harness.aliases || {})[e]) || e,
              h = l
                ? function (e) {
                    var p = new l();
                    ((He._pt = 0),
                      p.init(t, r ? e + r : e, He, 0, [t]),
                      p.render(1, p),
                      He._pt && Gi(1, He));
                  }
                : c.set(t, p);
            return l
              ? h
              : function (e) {
                  return h(t, p, r ? e + r : e, c, 1);
                };
          },
          quickTo: function (t, e, r) {
            var n,
              o = ss.to(
                t,
                nn((((n = {})[e] = "+=0.1"), (n.paused = !0), n), r || {}),
              ),
              l = function (t, r, n) {
                return o.resetTo(e, t, r, n);
              };
            return ((l.tween = o), l);
          },
          isTweening: function (t) {
            return Be.getTweensOf(t, !0).length > 0;
          },
          defaults: function (t) {
            return (
              t && t.ease && (t.ease = gi(t.ease, Qe.ease)),
              sn(Qe, t || {})
            );
          },
          config: function (t) {
            return sn(Xe, t || {});
          },
          registerEffect: function (t) {
            var e = t.name,
              r = t.effect,
              n = t.plugins,
              o = t.defaults,
              l = t.extendTimeline;
            ((n || "").split(",").forEach(function (t) {
              return (
                t &&
                !Ur[t] &&
                !Ar[t] &&
                Cr(e + " effect requires " + t + " plugin.")
              );
            }),
              (jr[e] = function (t, e, n) {
                return r(Mn(t), rn(e || {}, o), n);
              }),
              l &&
                (Ti.prototype[e] = function (t, r, n) {
                  return this.add(jr[e](t, dr(r) ? r : (n = r) && {}, this), n);
                }));
          },
          registerEase: function (t, e) {
            ui[t] = gi(e);
          },
          parseEase: function (t, e) {
            return arguments.length ? gi(t, e) : ui;
          },
          getById: function (t) {
            return Be.getById(t);
          },
          exportRoot: function (t, e) {
            void 0 === t && (t = {});
            var r,
              n,
              o = new Ti(t);
            for (
              o.smoothChildTiming = fr(t.smoothChildTiming),
                Be.remove(o),
                o._dp = 0,
                o._time = o._tTime = Be._time,
                r = Be._first;
              r;
            )
              ((n = r._next),
                (!e &&
                  !r._dur &&
                  r instanceof Ii &&
                  r.vars.onComplete === r._targets[0]) ||
                  En(o, r, r._start - r._delay),
                (r = n));
            return (En(Be, o, 0), o);
          },
          context: function (t, e) {
            return t ? new ts(t, e) : Ne;
          },
          matchMedia: function (t) {
            return new es(t);
          },
          matchMediaRefresh: function () {
            return (
              Wi.forEach(function (t) {
                var e,
                  p,
                  r = t.conditions;
                for (p in r) r[p] && ((r[p] = !1), (e = 1));
                e && t.revert();
              }) || Zi()
            );
          },
          addEventListener: function (t, e) {
            var a = qi[t] || (qi[t] = []);
            ~a.indexOf(e) || a.push(e);
          },
          removeEventListener: function (t, e) {
            var a = qi[t],
              i = a && a.indexOf(e);
            i >= 0 && a.splice(i, 1);
          },
          utils: {
            wrap: function t(e, r, n) {
              var o = r - e;
              return yr(e)
                ? Kn(e, t(0, e.length), r)
                : Cn(n, function (t) {
                    return ((o + ((t - e) % o)) % o) + e;
                  });
            },
            wrapYoyo: function t(e, r, n) {
              var o = r - e,
                l = 2 * o;
              return yr(e)
                ? Kn(e, t(0, e.length - 1), r)
                : Cn(n, function (t) {
                    return (
                      e + ((t = (l + ((t - e) % l)) % l || 0) > o ? l - t : t)
                    );
                  });
            },
            distribute: Un,
            random: Gn,
            snap: $n,
            normalize: function (t, e, r) {
              return Vn(t, e, 0, 1, r);
            },
            getUnit: On,
            clamp: function (t, e, r) {
              return Cn(r, function (r) {
                return Rn(t, e, r);
              });
            },
            splitColor: ti,
            toArray: Mn,
            selector: Nn,
            mapRange: Vn,
            pipe: function () {
              for (
                var t = arguments.length, e = new Array(t), r = 0;
                r < t;
                r++
              )
                e[r] = arguments[r];
              return function (t) {
                return e.reduce(function (t, e) {
                  return e(t);
                }, t);
              };
            },
            unitize: function (t, e) {
              return function (r) {
                return t(parseFloat(r)) + (e || On(r));
              };
            },
            interpolate: function t(e, r, progress, n) {
              var o = isNaN(e + r)
                ? 0
                : function (p) {
                    return (1 - p) * e + p * r;
                  };
              if (!o) {
                var p,
                  i,
                  l,
                  c,
                  h,
                  d = or(e),
                  f = {};
                if ((!0 === progress && (n = 1) && (progress = null), d))
                  ((e = { p: e }), (r = { p: r }));
                else if (yr(e) && !yr(r)) {
                  for (l = [], c = e.length, h = c - 2, i = 1; i < c; i++)
                    l.push(t(e[i - 1], e[i]));
                  (c--,
                    (o = function (p) {
                      p *= c;
                      var i = Math.min(h, ~~p);
                      return l[i](p - i);
                    }),
                    (progress = r));
                } else n || (e = nn(yr(e) ? [] : {}, e));
                if (!l) {
                  for (p in r) Ai.call(f, e, p, "get", r[p]);
                  o = function (p) {
                    return Gi(p, f) || (d ? e.p : e);
                  };
                }
              }
              return Cn(progress, o);
            },
            shuffle: Bn,
          },
          install: Lr,
          effects: jr,
          ticker: ai,
          updateRoot: Ti.updateRoot,
          plugins: Ur,
          globalTimeline: Be,
          core: {
            PropTween: zi,
            globals: Rr,
            Tween: Ii,
            Timeline: Ti,
            Animation: Di,
            getCache: Vr,
            _removeLinkedListItem: un,
            reverting: function () {
              return Me;
            },
            context: function (t) {
              return (t && Ne && (Ne.data.push(t), (t._ctx = Ne)), Ne);
            },
            suppressOverwrites: function (t) {
              return (Fe = t);
            },
          },
        };
      (zr("to,from,fromTo,delayedCall,set,killTweensOf", function (t) {
        return (rs[t] = Ii[t]);
      }),
        ai.add(Ti.updateRoot),
        (He = rs.to({}, { duration: 0 })));
      var ns = function (t, e) {
          for (var r = t._pt; r && r.p !== e && r.op !== e && r.fp !== e; )
            r = r._next;
          return r;
        },
        is = function (t, e) {
          return {
            name: t,
            rawVars: 1,
            init: function (t, r, n) {
              n._onInit = function (t) {
                var n, p;
                if (
                  (or(r) &&
                    ((n = {}),
                    zr(r, function (t) {
                      return (n[t] = 1);
                    }),
                    (r = n)),
                  e)
                ) {
                  for (p in ((n = {}), r)) n[p] = e(r[p]);
                  r = n;
                }
                !(function (t, e) {
                  var p,
                    i,
                    r,
                    n = t._targets;
                  for (p in e)
                    for (i = n.length; i--; )
                      (r = t._ptLookup[i][p]) &&
                        (r = r.d) &&
                        (r._pt && (r = ns(r, p)),
                        r && r.modifier && r.modifier(e[p], t, n[i], p));
                })(t, r);
              };
            },
          };
        },
        ss =
          rs.registerPlugin(
            {
              name: "attr",
              init: function (t, e, r, n, o) {
                var p, l, c;
                for (p in ((this.tween = r), e))
                  ((c = t.getAttribute(p) || ""),
                    ((l = this.add(
                      t,
                      "setAttribute",
                      (c || 0) + "",
                      e[p],
                      n,
                      o,
                      0,
                      0,
                      p,
                    )).op = p),
                    (l.b = c),
                    this._props.push(p));
              },
              render: function (t, data) {
                for (var e = data._pt; e; )
                  (Me ? e.set(e.t, e.p, e.b, e) : e.r(t, e.d), (e = e._next));
              },
            },
            {
              name: "endArray",
              init: function (t, e) {
                for (var i = e.length; i--; )
                  this.add(t, i, t[i] || 0, e[i], 0, 0, 0, 0, 0, 1);
              },
            },
            is("roundProps", jn),
            is("modifiers"),
            is("snap", $n),
          ) || rs;
      ((Ii.version = Ti.version = ss.version = "3.11.5"),
        (Ge = 1),
        pr() && oi());
      (ui.Power0,
        ui.Power1,
        ui.Power2,
        ui.Power3,
        ui.Power4,
        ui.Linear,
        ui.Quad,
        ui.Cubic,
        ui.Quart,
        ui.Quint,
        ui.Strong,
        ui.Elastic,
        ui.Back,
        ui.SteppedEase,
        ui.Bounce,
        ui.Sine,
        ui.Expo,
        ui.Circ);
      var as,
        os,
        ls,
        us,
        cs,
        hs,
        ds,
        fs,
        ps = {},
        gs = 180 / Math.PI,
        ms = Math.PI / 180,
        ys = Math.atan2,
        vs = /([A-Z])/g,
        bs = /(left|right|width|margin|padding|x)/i,
        Es = /[\s,\(]\S/,
        Ds = {
          autoAlpha: "opacity,visibility",
          scale: "scaleX,scaleY",
          alpha: "opacity",
        },
        Ts = function (t, data) {
          return data.set(
            data.t,
            data.p,
            Math.round(1e4 * (data.s + data.c * t)) / 1e4 + data.u,
            data,
          );
        },
        Ss = function (t, data) {
          return data.set(
            data.t,
            data.p,
            1 === t
              ? data.e
              : Math.round(1e4 * (data.s + data.c * t)) / 1e4 + data.u,
            data,
          );
        },
        _s = function (t, data) {
          return data.set(
            data.t,
            data.p,
            t ? Math.round(1e4 * (data.s + data.c * t)) / 1e4 + data.u : data.b,
            data,
          );
        },
        ws = function (t, data) {
          var e = data.s + data.c * t;
          data.set(data.t, data.p, ~~(e + (e < 0 ? -0.5 : 0.5)) + data.u, data);
        },
        As = function (t, data) {
          return data.set(data.t, data.p, t ? data.e : data.b, data);
        },
        xs = function (t, data) {
          return data.set(data.t, data.p, 1 !== t ? data.b : data.e, data);
        },
        Ls = function (t, e, r) {
          return (t.style[e] = r);
        },
        ks = function (t, e, r) {
          return t.style.setProperty(e, r);
        },
        Cs = function (t, e, r) {
          return (t._gsap[e] = r);
        },
        Rs = function (t, e, r) {
          return (t._gsap.scaleX = t._gsap.scaleY = r);
        },
        Os = function (t, e, r, data, n) {
          var o = t._gsap;
          ((o.scaleX = o.scaleY = r), o.renderTransform(n, o));
        },
        Is = function (t, e, r, data, n) {
          var o = t._gsap;
          ((o[e] = r), o.renderTransform(n, o));
        },
        Ps = "transform",
        Fs = Ps + "Origin",
        Ms = function t(e, r) {
          var n = this,
            o = this.target,
            style = o.style;
          if (e in ps) {
            if (((this.tfm = this.tfm || {}), "transform" === e))
              return Ds.transform.split(",").forEach(function (p) {
                return t.call(n, p, r);
              });
            if (
              (~(e = Ds[e] || e).indexOf(",")
                ? e.split(",").forEach(function (a) {
                    return (n.tfm[a] = ta(o, a));
                  })
                : (this.tfm[e] = o._gsap.x ? o._gsap[e] : ta(o, e)),
              this.props.indexOf(Ps) >= 0)
            )
              return;
            (o._gsap.svg &&
              ((this.svgo = o.getAttribute("data-svg-origin")),
              this.props.push(Fs, r, "")),
              (e = Ps));
          }
          (style || r) && this.props.push(e, r, style[e]);
        },
        Ns = function (style) {
          style.translate &&
            (style.removeProperty("translate"),
            style.removeProperty("scale"),
            style.removeProperty("rotate"));
        },
        Bs = function () {
          var i,
            p,
            t = this.props,
            e = this.target,
            style = e.style,
            r = e._gsap;
          for (i = 0; i < t.length; i += 3)
            t[i + 1]
              ? (e[t[i]] = t[i + 2])
              : t[i + 2]
                ? (style[t[i]] = t[i + 2])
                : style.removeProperty(
                    "--" === t[i].substr(0, 2)
                      ? t[i]
                      : t[i].replace(vs, "-$1").toLowerCase(),
                  );
          if (this.tfm) {
            for (p in this.tfm) r[p] = this.tfm[p];
            (r.svg &&
              (r.renderTransform(),
              e.setAttribute("data-svg-origin", this.svgo || "")),
              ((i = ds()) && i.isStart) ||
                style[Ps] ||
                (Ns(style), (r.uncache = 1)));
          }
        },
        Us = function (t, e) {
          var r = { target: t, props: [], revert: Bs, save: Ms };
          return (
            t._gsap || ss.core.getCache(t),
            e &&
              e.split(",").forEach(function (p) {
                return r.save(p);
              }),
            r
          );
        },
        js = function (t, e) {
          var r = os.createElementNS
            ? os.createElementNS(
                (e || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"),
                t,
              )
            : os.createElement(t);
          return r.style ? r : os.createElement(t);
        },
        $s = function t(e, r, n) {
          var o = getComputedStyle(e);
          return (
            o[r] ||
            o.getPropertyValue(r.replace(vs, "-$1").toLowerCase()) ||
            o.getPropertyValue(r) ||
            (!n && t(e, Ks(r) || r, 1)) ||
            ""
          );
        },
        Gs = "O,Moz,ms,Ms,Webkit".split(","),
        Ks = function (t, element, e) {
          var s = (element || cs).style,
            i = 5;
          if (t in s && !e) return t;
          for (
            t = t.charAt(0).toUpperCase() + t.substr(1);
            i-- && !(Gs[i] + t in s);
          );
          return i < 0 ? null : (3 === i ? "ms" : i >= 0 ? Gs[i] : "") + t;
        },
        Hs = function () {
          "undefined" != typeof window &&
            window.document &&
            ((as = window),
            (os = as.document),
            (ls = os.documentElement),
            (cs = js("div") || { style: {} }),
            js("div"),
            (Ps = Ks(Ps)),
            (Fs = Ps + "Origin"),
            (cs.style.cssText =
              "border-width:0;line-height:0;position:absolute;padding:0"),
            (fs = !!Ks("perspective")),
            (ds = ss.core.reverting),
            (us = 1));
        },
        Vs = function t(e) {
          var r,
            svg = js(
              "svg",
              (this.ownerSVGElement &&
                this.ownerSVGElement.getAttribute("xmlns")) ||
                "http://www.w3.org/2000/svg",
            ),
            n = this.parentNode,
            o = this.nextSibling,
            l = this.style.cssText;
          if (
            (ls.appendChild(svg),
            svg.appendChild(this),
            (this.style.display = "block"),
            e)
          )
            try {
              ((r = this.getBBox()),
                (this._gsapBBox = this.getBBox),
                (this.getBBox = t));
            } catch (t) {}
          else this._gsapBBox && (r = this._gsapBBox());
          return (
            n && (o ? n.insertBefore(this, o) : n.appendChild(this)),
            ls.removeChild(svg),
            (this.style.cssText = l),
            r
          );
        },
        Ys = function (t, e) {
          for (var i = e.length; i--; )
            if (t.hasAttribute(e[i])) return t.getAttribute(e[i]);
        },
        zs = function (t) {
          var e;
          try {
            e = t.getBBox();
          } catch (r) {
            e = Vs.call(t, !0);
          }
          return (
            (e && (e.width || e.height)) ||
              t.getBBox === Vs ||
              (e = Vs.call(t, !0)),
            !e || e.width || e.x || e.y
              ? e
              : {
                  x: +Ys(t, ["x", "cx", "x1"]) || 0,
                  y: +Ys(t, ["y", "cy", "y1"]) || 0,
                  width: 0,
                  height: 0,
                }
          );
        },
        Ws = function (t) {
          return !(!t.getCTM || (t.parentNode && !t.ownerSVGElement) || !zs(t));
        },
        qs = function (t, e) {
          if (e) {
            var style = t.style;
            (e in ps && e !== Fs && (e = Ps),
              style.removeProperty
                ? (("ms" !== e.substr(0, 2) && "webkit" !== e.substr(0, 6)) ||
                    (e = "-" + e),
                  style.removeProperty(e.replace(vs, "-$1").toLowerCase()))
                : style.removeAttribute(e));
          }
        },
        Xs = function (t, e, r, n, o, l) {
          var c = new zi(t._pt, e, r, 0, 1, l ? xs : As);
          return ((t._pt = c), (c.b = n), (c.e = o), t._props.push(r), c);
        },
        Qs = { deg: 1, rad: 1, turn: 1 },
        Js = { grid: 1, flex: 1 },
        Zs = function t(e, r, n, o) {
          var l,
            c,
            h,
            d,
            f = parseFloat(n) || 0,
            m = (n + "").trim().substr((f + "").length) || "px",
            style = cs.style,
            y = bs.test(r),
            v = "svg" === e.tagName.toLowerCase(),
            E = (v ? "client" : "offset") + (y ? "Width" : "Height"),
            D = 100,
            T = "px" === o,
            S = "%" === o;
          return o === m || !f || Qs[o] || Qs[m]
            ? f
            : ("px" !== m && !T && (f = t(e, r, n, "px")),
              (d = e.getCTM && Ws(e)),
              (!S && "%" !== m) || (!ps[r] && !~r.indexOf("adius"))
                ? ((style[y ? "width" : "height"] = D + (T ? m : o)),
                  (c =
                    ~r.indexOf("adius") || ("em" === o && e.appendChild && !v)
                      ? e
                      : e.parentNode),
                  d && (c = (e.ownerSVGElement || {}).parentNode),
                  (c && c !== os && c.appendChild) || (c = os.body),
                  (h = c._gsap) &&
                  S &&
                  h.width &&
                  y &&
                  h.time === ai.time &&
                  !h.uncache
                    ? Wr((f / h.width) * D)
                    : ((S || "%" === m) &&
                        !Js[$s(c, "display")] &&
                        (style.position = $s(e, "position")),
                      c === e && (style.position = "static"),
                      c.appendChild(cs),
                      (l = cs[E]),
                      c.removeChild(cs),
                      (style.position = "absolute"),
                      y &&
                        S &&
                        (((h = Vr(c)).time = ai.time), (h.width = c[E])),
                      Wr(T ? (l * f) / D : l && f ? (D / l) * f : 0)))
                : ((l = d ? e.getBBox()[y ? "width" : "height"] : e[E]),
                  Wr(S ? (f / l) * D : (f / 100) * l)));
        },
        ta = function (t, e, r, n) {
          var o;
          return (
            us || Hs(),
            e in Ds &&
              "transform" !== e &&
              ~(e = Ds[e]).indexOf(",") &&
              (e = e.split(",")[0]),
            ps[e] && "transform" !== e
              ? ((o = ha(t, n)),
                (o =
                  "transformOrigin" !== e
                    ? o[e]
                    : o.svg
                      ? o.origin
                      : da($s(t, Fs)) + " " + o.zOrigin + "px"))
              : (!(o = t.style[e]) ||
                  "auto" === o ||
                  n ||
                  ~(o + "").indexOf("calc(")) &&
                (o =
                  (ia[e] && ia[e](t, e, r)) ||
                  $s(t, e) ||
                  Yr(t, e) ||
                  ("opacity" === e ? 1 : 0)),
            r && !~(o + "").trim().indexOf(" ") ? Zs(t, e, o, r) + r : o
          );
        },
        ea = function (t, e, r, n) {
          if (!r || "none" === r) {
            var p = Ks(e, t, 1),
              s = p && $s(t, p, 1);
            s && s !== r
              ? ((e = p), (r = s))
              : "borderColor" === e && (r = $s(t, "borderTopColor"));
          }
          var a,
            o,
            l,
            c,
            h,
            d,
            f,
            m,
            y,
            v,
            E,
            D = new zi(this._pt, t.style, e, 0, 1, $i),
            T = 0,
            S = 0;
          if (
            ((D.b = r),
            (D.e = n),
            (r += ""),
            "auto" === (n += "") &&
              ((t.style[e] = n), (n = $s(t, e) || n), (t.style[e] = r)),
            si((a = [r, n])),
            (n = a[1]),
            (l = (r = a[0]).match(Dr) || []),
            (n.match(Dr) || []).length)
          ) {
            for (; (o = Dr.exec(n)); )
              ((f = o[0]),
                (y = n.substring(T, o.index)),
                h
                  ? (h = (h + 1) % 5)
                  : ("rgba(" !== y.substr(-5) && "hsla(" !== y.substr(-5)) ||
                    (h = 1),
                f !== (d = l[S++] || "") &&
                  ((c = parseFloat(d) || 0),
                  (E = d.substr((c + "").length)),
                  "=" === f.charAt(1) && (f = Xr(c, f) + E),
                  (m = parseFloat(f)),
                  (v = f.substr((m + "").length)),
                  (T = Dr.lastIndex - v.length),
                  v ||
                    ((v = v || Xe.units[e] || E),
                    T === n.length && ((n += v), (D.e += v))),
                  E !== v && (c = Zs(t, e, d, v) || 0),
                  (D._pt = {
                    _next: D._pt,
                    p: y || 1 === S ? y : ",",
                    s: c,
                    c: m - c,
                    m: (h && h < 4) || "zIndex" === e ? Math.round : 0,
                  })));
            D.c = T < n.length ? n.substring(T, n.length) : "";
          } else D.r = "display" === e && "none" === n ? xs : As;
          return (Sr.test(n) && (D.e = 0), (this._pt = D), D);
        },
        ra = {
          top: "0%",
          bottom: "100%",
          left: "0%",
          right: "100%",
          center: "50%",
        },
        na = function (t, data) {
          if (data.tween && data.tween._time === data.tween._dur) {
            var e,
              r,
              i,
              n = data.t,
              style = n.style,
              o = data.u,
              l = n._gsap;
            if ("all" === o || !0 === o) ((style.cssText = ""), (r = 1));
            else
              for (i = (o = o.split(",")).length; --i > -1; )
                ((e = o[i]),
                  ps[e] && ((r = 1), (e = "transformOrigin" === e ? Fs : Ps)),
                  qs(n, e));
            r &&
              (qs(n, Ps),
              l &&
                (l.svg && n.removeAttribute("transform"),
                ha(n, 1),
                (l.uncache = 1),
                Ns(style)));
          }
        },
        ia = {
          clearProps: function (t, e, r, n, o) {
            if ("isFromStart" !== o.data) {
              var l = (t._pt = new zi(t._pt, e, r, 0, 0, na));
              return (
                (l.u = n),
                (l.pr = -10),
                (l.tween = o),
                t._props.push(r),
                1
              );
            }
          },
        },
        sa = [1, 0, 0, 1, 0, 0],
        aa = {},
        oa = function (t) {
          return "matrix(1, 0, 0, 1, 0, 0)" === t || "none" === t || !t;
        },
        la = function (t) {
          var e = $s(t, Ps);
          return oa(e) ? sa : e.substr(7).match(Er).map(Wr);
        },
        ua = function (t, e) {
          var r,
            n,
            o,
            l,
            c = t._gsap || Vr(t),
            style = t.style,
            h = la(t);
          return c.svg && t.getAttribute("transform")
            ? "1,0,0,1,0,0" ===
              (h = [
                (o = t.transform.baseVal.consolidate().matrix).a,
                o.b,
                o.c,
                o.d,
                o.e,
                o.f,
              ]).join(",")
              ? sa
              : h
            : (h !== sa ||
                t.offsetParent ||
                t === ls ||
                c.svg ||
                ((o = style.display),
                (style.display = "block"),
                ((r = t.parentNode) && t.offsetParent) ||
                  ((l = 1), (n = t.nextElementSibling), ls.appendChild(t)),
                (h = la(t)),
                o ? (style.display = o) : qs(t, "display"),
                l &&
                  (n
                    ? r.insertBefore(t, n)
                    : r
                      ? r.appendChild(t)
                      : ls.removeChild(t))),
              e && h.length > 6 ? [h[0], h[1], h[4], h[5], h[12], h[13]] : h);
        },
        ca = function (t, e, r, n, o, l) {
          var c,
            h,
            d,
            f = t._gsap,
            m = o || ua(t, !0),
            y = f.xOrigin || 0,
            v = f.yOrigin || 0,
            E = f.xOffset || 0,
            D = f.yOffset || 0,
            a = m[0],
            b = m[1],
            T = m[2],
            S = m[3],
            _ = m[4],
            w = m[5],
            A = e.split(" "),
            x = parseFloat(A[0]) || 0,
            L = parseFloat(A[1]) || 0;
          (r
            ? m !== sa &&
              (h = a * S - b * T) &&
              ((d = x * (-b / h) + L * (a / h) - (a * w - b * _) / h),
              (x = x * (S / h) + L * (-T / h) + (T * w - S * _) / h),
              (L = d))
            : ((x =
                (c = zs(t)).x + (~A[0].indexOf("%") ? (x / 100) * c.width : x)),
              (L =
                c.y +
                (~(A[1] || A[0]).indexOf("%") ? (L / 100) * c.height : L))),
            n || (!1 !== n && f.smooth)
              ? ((_ = x - y),
                (w = L - v),
                (f.xOffset = E + (_ * a + w * T) - _),
                (f.yOffset = D + (_ * b + w * S) - w))
              : (f.xOffset = f.yOffset = 0),
            (f.xOrigin = x),
            (f.yOrigin = L),
            (f.smooth = !!n),
            (f.origin = e),
            (f.originIsAbsolute = !!r),
            (t.style[Fs] = "0px 0px"),
            l &&
              (Xs(l, f, "xOrigin", y, x),
              Xs(l, f, "yOrigin", v, L),
              Xs(l, f, "xOffset", E, f.xOffset),
              Xs(l, f, "yOffset", D, f.yOffset)),
            t.setAttribute("data-svg-origin", x + " " + L));
        },
        ha = function (t, e) {
          var r = t._gsap || new Ei(t);
          if ("x" in r && !e && !r.uncache) return r;
          var n,
            o,
            l,
            c,
            h,
            d,
            f,
            m,
            y,
            v,
            E,
            D,
            T,
            S,
            _,
            w,
            A,
            a,
            b,
            x,
            L,
            k,
            C,
            R,
            O,
            I,
            P,
            F,
            M,
            N,
            B,
            U,
            style = t.style,
            j = r.scaleX < 0,
            $ = "px",
            G = "deg",
            K = getComputedStyle(t),
            H = $s(t, Fs) || "0";
          return (
            (n = o = l = d = f = m = y = v = E = 0),
            (c = h = 1),
            (r.svg = !(!t.getCTM || !Ws(t))),
            K.translate &&
              (("none" === K.translate &&
                "none" === K.scale &&
                "none" === K.rotate) ||
                (style[Ps] =
                  ("none" !== K.translate
                    ? "translate3d(" +
                      (K.translate + " 0 0").split(" ").slice(0, 3).join(", ") +
                      ") "
                    : "") +
                  ("none" !== K.rotate ? "rotate(" + K.rotate + ") " : "") +
                  ("none" !== K.scale
                    ? "scale(" + K.scale.split(" ").join(",") + ") "
                    : "") +
                  ("none" !== K[Ps] ? K[Ps] : "")),
              (style.scale = style.rotate = style.translate = "none")),
            (S = ua(t, r.svg)),
            r.svg &&
              (r.uncache
                ? ((O = t.getBBox()),
                  (H = r.xOrigin - O.x + "px " + (r.yOrigin - O.y) + "px"),
                  (R = ""))
                : (R = !e && t.getAttribute("data-svg-origin")),
              ca(t, R || H, !!R || r.originIsAbsolute, !1 !== r.smooth, S)),
            (D = r.xOrigin || 0),
            (T = r.yOrigin || 0),
            S !== sa &&
              ((a = S[0]),
              (b = S[1]),
              (x = S[2]),
              (L = S[3]),
              (n = k = S[4]),
              (o = C = S[5]),
              6 === S.length
                ? ((c = Math.sqrt(a * a + b * b)),
                  (h = Math.sqrt(L * L + x * x)),
                  (d = a || b ? ys(b, a) * gs : 0),
                  (y = x || L ? ys(x, L) * gs + d : 0) &&
                    (h *= Math.abs(Math.cos(y * ms))),
                  r.svg &&
                    ((n -= D - (D * a + T * x)), (o -= T - (D * b + T * L))))
                : ((U = S[6]),
                  (N = S[7]),
                  (P = S[8]),
                  (F = S[9]),
                  (M = S[10]),
                  (B = S[11]),
                  (n = S[12]),
                  (o = S[13]),
                  (l = S[14]),
                  (f = (_ = ys(U, M)) * gs),
                  _ &&
                    ((R = k * (w = Math.cos(-_)) + P * (A = Math.sin(-_))),
                    (O = C * w + F * A),
                    (I = U * w + M * A),
                    (P = k * -A + P * w),
                    (F = C * -A + F * w),
                    (M = U * -A + M * w),
                    (B = N * -A + B * w),
                    (k = R),
                    (C = O),
                    (U = I)),
                  (m = (_ = ys(-x, M)) * gs),
                  _ &&
                    ((w = Math.cos(-_)),
                    (B = L * (A = Math.sin(-_)) + B * w),
                    (a = R = a * w - P * A),
                    (b = O = b * w - F * A),
                    (x = I = x * w - M * A)),
                  (d = (_ = ys(b, a)) * gs),
                  _ &&
                    ((R = a * (w = Math.cos(_)) + b * (A = Math.sin(_))),
                    (O = k * w + C * A),
                    (b = b * w - a * A),
                    (C = C * w - k * A),
                    (a = R),
                    (k = O)),
                  f &&
                    Math.abs(f) + Math.abs(d) > 359.9 &&
                    ((f = d = 0), (m = 180 - m)),
                  (c = Wr(Math.sqrt(a * a + b * b + x * x))),
                  (h = Wr(Math.sqrt(C * C + U * U))),
                  (_ = ys(k, C)),
                  (y = Math.abs(_) > 2e-4 ? _ * gs : 0),
                  (E = B ? 1 / (B < 0 ? -B : B) : 0)),
              r.svg &&
                ((R = t.getAttribute("transform")),
                (r.forceCSS =
                  t.setAttribute("transform", "") || !oa($s(t, Ps))),
                R && t.setAttribute("transform", R))),
            Math.abs(y) > 90 &&
              Math.abs(y) < 270 &&
              (j
                ? ((c *= -1),
                  (y += d <= 0 ? 180 : -180),
                  (d += d <= 0 ? 180 : -180))
                : ((h *= -1), (y += y <= 0 ? 180 : -180))),
            (e = e || r.uncache),
            (r.x =
              n -
              ((r.xPercent =
                n &&
                ((!e && r.xPercent) ||
                  (Math.round(t.offsetWidth / 2) === Math.round(-n) ? -50 : 0)))
                ? (t.offsetWidth * r.xPercent) / 100
                : 0) +
              $),
            (r.y =
              o -
              ((r.yPercent =
                o &&
                ((!e && r.yPercent) ||
                  (Math.round(t.offsetHeight / 2) === Math.round(-o)
                    ? -50
                    : 0)))
                ? (t.offsetHeight * r.yPercent) / 100
                : 0) +
              $),
            (r.z = l + $),
            (r.scaleX = Wr(c)),
            (r.scaleY = Wr(h)),
            (r.rotation = Wr(d) + G),
            (r.rotationX = Wr(f) + G),
            (r.rotationY = Wr(m) + G),
            (r.skewX = y + G),
            (r.skewY = v + G),
            (r.transformPerspective = E + $),
            (r.zOrigin = parseFloat(H.split(" ")[2]) || 0) &&
              (style[Fs] = da(H)),
            (r.xOffset = r.yOffset = 0),
            (r.force3D = Xe.force3D),
            (r.renderTransform = r.svg ? ba : fs ? va : pa),
            (r.uncache = 0),
            r
          );
        },
        da = function (t) {
          return (t = t.split(" "))[0] + " " + t[1];
        },
        fa = function (t, e, r) {
          var n = On(e);
          return Wr(parseFloat(e) + parseFloat(Zs(t, "x", r + "px", n))) + n;
        },
        pa = function (t, e) {
          ((e.z = "0px"),
            (e.rotationY = e.rotationX = "0deg"),
            (e.force3D = 0),
            va(t, e));
        },
        ga = "0deg",
        ma = "0px",
        ya = ") ",
        va = function (t, e) {
          var r = e || this,
            n = r.xPercent,
            o = r.yPercent,
            l = r.x,
            c = r.y,
            h = r.z,
            d = r.rotation,
            f = r.rotationY,
            m = r.rotationX,
            y = r.skewX,
            v = r.skewY,
            E = r.scaleX,
            D = r.scaleY,
            T = r.transformPerspective,
            S = r.force3D,
            _ = r.target,
            w = r.zOrigin,
            A = "",
            x = ("auto" === S && t && 1 !== t) || !0 === S;
          if (w && (m !== ga || f !== ga)) {
            var L,
              k = parseFloat(f) * ms,
              C = Math.sin(k),
              R = Math.cos(k);
            ((k = parseFloat(m) * ms),
              (L = Math.cos(k)),
              (l = fa(_, l, C * L * -w)),
              (c = fa(_, c, -Math.sin(k) * -w)),
              (h = fa(_, h, R * L * -w + w)));
          }
          (T !== ma && (A += "perspective(" + T + ya),
            (n || o) && (A += "translate(" + n + "%, " + o + "%) "),
            (x || l !== ma || c !== ma || h !== ma) &&
              (A +=
                h !== ma || x
                  ? "translate3d(" + l + ", " + c + ", " + h + ") "
                  : "translate(" + l + ", " + c + ya),
            d !== ga && (A += "rotate(" + d + ya),
            f !== ga && (A += "rotateY(" + f + ya),
            m !== ga && (A += "rotateX(" + m + ya),
            (y === ga && v === ga) || (A += "skew(" + y + ", " + v + ya),
            (1 === E && 1 === D) || (A += "scale(" + E + ", " + D + ya),
            (_.style[Ps] = A || "translate(0, 0)"));
        },
        ba = function (t, e) {
          var r,
            n,
            o,
            l,
            c,
            h = e || this,
            d = h.xPercent,
            f = h.yPercent,
            m = h.x,
            y = h.y,
            v = h.rotation,
            E = h.skewX,
            D = h.skewY,
            T = h.scaleX,
            S = h.scaleY,
            _ = h.target,
            w = h.xOrigin,
            A = h.yOrigin,
            x = h.xOffset,
            L = h.yOffset,
            k = h.forceCSS,
            C = parseFloat(m),
            R = parseFloat(y);
          ((v = parseFloat(v)),
            (E = parseFloat(E)),
            (D = parseFloat(D)) && ((E += D = parseFloat(D)), (v += D)),
            v || E
              ? ((v *= ms),
                (E *= ms),
                (r = Math.cos(v) * T),
                (n = Math.sin(v) * T),
                (o = Math.sin(v - E) * -S),
                (l = Math.cos(v - E) * S),
                E &&
                  ((D *= ms),
                  (c = Math.tan(E - D)),
                  (o *= c = Math.sqrt(1 + c * c)),
                  (l *= c),
                  D &&
                    ((c = Math.tan(D)),
                    (r *= c = Math.sqrt(1 + c * c)),
                    (n *= c))),
                (r = Wr(r)),
                (n = Wr(n)),
                (o = Wr(o)),
                (l = Wr(l)))
              : ((r = T), (l = S), (n = o = 0)),
            ((C && !~(m + "").indexOf("px")) ||
              (R && !~(y + "").indexOf("px"))) &&
              ((C = Zs(_, "x", m, "px")), (R = Zs(_, "y", y, "px"))),
            (w || A || x || L) &&
              ((C = Wr(C + w - (w * r + A * o) + x)),
              (R = Wr(R + A - (w * n + A * l) + L))),
            (d || f) &&
              ((c = _.getBBox()),
              (C = Wr(C + (d / 100) * c.width)),
              (R = Wr(R + (f / 100) * c.height))),
            (c =
              "matrix(" +
              r +
              "," +
              n +
              "," +
              o +
              "," +
              l +
              "," +
              C +
              "," +
              R +
              ")"),
            _.setAttribute("transform", c),
            k && (_.style[Ps] = c));
        },
        Ea = function (t, e, r, n, o) {
          var l,
            c,
            h = 360,
            d = or(o),
            f = parseFloat(o) * (d && ~o.indexOf("rad") ? gs : 1) - n,
            m = n + f + "deg";
          return (
            d &&
              ("short" === (l = o.split("_")[1]) &&
                (f %= h) !== f % 180 &&
                (f += f < 0 ? h : -360),
              "cw" === l && f < 0
                ? (f = ((f + 36e9) % h) - ~~(f / h) * h)
                : "ccw" === l &&
                  f > 0 &&
                  (f = ((f - 36e9) % h) - ~~(f / h) * h)),
            (t._pt = c = new zi(t._pt, e, r, n, f, Ss)),
            (c.e = m),
            (c.u = "deg"),
            t._props.push(r),
            c
          );
        },
        Da = function (t, source) {
          for (var p in source) t[p] = source[p];
          return t;
        },
        Ta = function (t, e, r) {
          var n,
            p,
            o,
            l,
            c,
            h,
            d,
            f = Da({}, r._gsap),
            style = r.style;
          for (p in (f.svg
            ? ((o = r.getAttribute("transform")),
              r.setAttribute("transform", ""),
              (style[Ps] = e),
              (n = ha(r, 1)),
              qs(r, Ps),
              r.setAttribute("transform", o))
            : ((o = getComputedStyle(r)[Ps]),
              (style[Ps] = e),
              (n = ha(r, 1)),
              (style[Ps] = o)),
          ps))
            (o = f[p]) !== (l = n[p]) &&
              "perspective,force3D,transformOrigin,svgOrigin".indexOf(p) < 0 &&
              ((c = On(o) !== (d = On(l)) ? Zs(r, p, o, d) : parseFloat(o)),
              (h = parseFloat(l)),
              (t._pt = new zi(t._pt, n, p, c, h - c, Ts)),
              (t._pt.u = d || 0),
              t._props.push(p));
          Da(n, f);
        };
      zr("padding,margin,Width,Radius", function (t, e) {
        var r = "Top",
          n = "Right",
          b = "Bottom",
          o = "Left",
          l = (e < 3 ? [r, n, b, o] : [r + o, r + n, b + n, b + o]).map(
            function (r) {
              return e < 2 ? t + r : "border" + r + t;
            },
          );
        ia[e > 1 ? "border" + t : t] = function (t, e, r, n, o) {
          var a, c;
          if (arguments.length < 4)
            return (
              (a = l.map(function (e) {
                return ta(t, e, r);
              })),
              5 === (c = a.join(" ")).split(a[0]).length ? a[0] : c
            );
          ((a = (n + "").split(" ")),
            (c = {}),
            l.forEach(function (t, i) {
              return (c[t] = a[i] = a[i] || a[((i - 1) / 2) | 0]);
            }),
            t.init(e, c, o));
        };
      });
      var Sa,
        _a,
        wa,
        Aa = {
          name: "css",
          register: Hs,
          targetTest: function (t) {
            return t.style && t.nodeType;
          },
          init: function (t, e, r, n, o) {
            var l,
              c,
              h,
              d,
              f,
              m,
              p,
              y,
              v,
              E,
              D,
              T,
              S,
              _,
              w,
              A,
              x,
              L,
              k,
              C,
              R = this._props,
              style = t.style,
              O = r.vars.startAt;
            for (p in (us || Hs(),
            (this.styles = this.styles || Us(t)),
            (A = this.styles.props),
            (this.tween = r),
            e))
              if (
                "autoRound" !== p &&
                ((c = e[p]), !Ur[p] || !xi(p, e, r, n, t, o))
              )
                if (
                  ((f = typeof c),
                  (m = ia[p]),
                  "function" === f && (f = typeof (c = c.call(r, n, t, o))),
                  "string" === f && ~c.indexOf("random(") && (c = Hn(c)),
                  m)
                )
                  m(this, t, p, c, r) && (w = 1);
                else if ("--" === p.substr(0, 2))
                  ((l = (getComputedStyle(t).getPropertyValue(p) + "").trim()),
                    (c += ""),
                    (ni.lastIndex = 0),
                    ni.test(l) || ((y = On(l)), (v = On(c))),
                    v ? y !== v && (l = Zs(t, p, l, v) + v) : y && (c += y),
                    this.add(style, "setProperty", l, c, n, o, 0, 0, p),
                    R.push(p),
                    A.push(p, 0, style[p]));
                else if ("undefined" !== f) {
                  if (
                    (O && p in O
                      ? ((l =
                          "function" == typeof O[p]
                            ? O[p].call(r, n, t, o)
                            : O[p]),
                        or(l) && ~l.indexOf("random(") && (l = Hn(l)),
                        On(l + "") || (l += Xe.units[p] || On(ta(t, p)) || ""),
                        "=" === (l + "").charAt(1) && (l = ta(t, p)))
                      : (l = ta(t, p)),
                    (d = parseFloat(l)),
                    (E =
                      "string" === f &&
                      "=" === c.charAt(1) &&
                      c.substr(0, 2)) && (c = c.substr(2)),
                    (h = parseFloat(c)),
                    p in Ds &&
                      ("autoAlpha" === p &&
                        (1 === d &&
                          "hidden" === ta(t, "visibility") &&
                          h &&
                          (d = 0),
                        A.push("visibility", 0, style.visibility),
                        Xs(
                          this,
                          style,
                          "visibility",
                          d ? "inherit" : "hidden",
                          h ? "inherit" : "hidden",
                          !h,
                        )),
                      "scale" !== p &&
                        "transform" !== p &&
                        ~(p = Ds[p]).indexOf(",") &&
                        (p = p.split(",")[0])),
                    (D = p in ps))
                  )
                    if (
                      (this.styles.save(p),
                      T ||
                        (((S = t._gsap).renderTransform && !e.parseTransform) ||
                          ha(t, e.parseTransform),
                        (_ = !1 !== e.smoothOrigin && S.smooth),
                        ((T = this._pt =
                          new zi(
                            this._pt,
                            style,
                            Ps,
                            0,
                            1,
                            S.renderTransform,
                            S,
                            0,
                            -1,
                          )).dep = 1)),
                      "scale" === p)
                    )
                      ((this._pt = new zi(
                        this._pt,
                        S,
                        "scaleY",
                        S.scaleY,
                        (E ? Xr(S.scaleY, E + h) : h) - S.scaleY || 0,
                        Ts,
                      )),
                        (this._pt.u = 0),
                        R.push("scaleY", p),
                        (p += "X"));
                    else {
                      if ("transformOrigin" === p) {
                        (A.push(Fs, 0, style[Fs]),
                          (L = void 0),
                          (k = void 0),
                          (C = void 0),
                          (L = (x = c).split(" ")),
                          (k = L[0]),
                          (C = L[1] || "50%"),
                          ("top" !== k &&
                            "bottom" !== k &&
                            "left" !== C &&
                            "right" !== C) ||
                            ((x = k), (k = C), (C = x)),
                          (L[0] = ra[k] || k),
                          (L[1] = ra[C] || C),
                          (c = L.join(" ")),
                          S.svg
                            ? ca(t, c, 0, _, 0, this)
                            : ((v = parseFloat(c.split(" ")[2]) || 0) !==
                                S.zOrigin &&
                                Xs(this, S, "zOrigin", S.zOrigin, v),
                              Xs(this, style, p, da(l), da(c))));
                        continue;
                      }
                      if ("svgOrigin" === p) {
                        ca(t, c, 1, _, 0, this);
                        continue;
                      }
                      if (p in aa) {
                        Ea(this, S, p, d, E ? Xr(d, E + c) : c);
                        continue;
                      }
                      if ("smoothOrigin" === p) {
                        Xs(this, S, "smooth", S.smooth, c);
                        continue;
                      }
                      if ("force3D" === p) {
                        S[p] = c;
                        continue;
                      }
                      if ("transform" === p) {
                        Ta(this, c, t);
                        continue;
                      }
                    }
                  else p in style || (p = Ks(p) || p);
                  if (
                    D ||
                    ((h || 0 === h) &&
                      (d || 0 === d) &&
                      !Es.test(c) &&
                      p in style)
                  )
                    (h || (h = 0),
                      (y = (l + "").substr((d + "").length)) !==
                        (v = On(c) || (p in Xe.units ? Xe.units[p] : y)) &&
                        (d = Zs(t, p, l, v)),
                      (this._pt = new zi(
                        this._pt,
                        D ? S : style,
                        p,
                        d,
                        (E ? Xr(d, E + h) : h) - d,
                        D ||
                          ("px" !== v && "zIndex" !== p) ||
                          !1 === e.autoRound
                          ? Ts
                          : ws,
                      )),
                      (this._pt.u = v || 0),
                      y !== v &&
                        "%" !== v &&
                        ((this._pt.b = l), (this._pt.r = _s)));
                  else if (p in style) ea.call(this, t, p, l, E ? E + c : c);
                  else if (p in t)
                    this.add(t, p, l || t[p], E ? E + c : c, n, o);
                  else if ("parseTransform" !== p) {
                    kr(p, c);
                    continue;
                  }
                  (D ||
                    (p in style
                      ? A.push(p, 0, style[p])
                      : A.push(p, 1, l || t[p])),
                    R.push(p));
                }
            w && Yi(this);
          },
          render: function (t, data) {
            if (data.tween._time || !ds())
              for (var e = data._pt; e; ) (e.r(t, e.d), (e = e._next));
            else data.styles.revert();
          },
          get: ta,
          aliases: Ds,
          getSetter: function (t, e, r) {
            var p = Ds[e];
            return (
              p && p.indexOf(",") < 0 && (e = p),
              e in ps && e !== Fs && (t._gsap.x || ta(t, "x"))
                ? r && hs === r
                  ? "scale" === e
                    ? Rs
                    : Cs
                  : (hs = r || {}) && ("scale" === e ? Os : Is)
                : t.style && !cr(t.style[e])
                  ? Ls
                  : ~e.indexOf("-")
                    ? ks
                    : Bi(t, e)
            );
          },
          core: { _removeProperty: qs, _getMatrix: ua },
        };
      ((ss.utils.checkPrefix = Ks),
        (ss.core.getStyleSaver = Us),
        (wa = zr(
          (Sa = "x,y,z,scale,scaleX,scaleY,xPercent,yPercent") +
            "," +
            (_a = "rotation,rotationX,rotationY,skewX,skewY") +
            ",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",
          function (t) {
            ps[t] = 1;
          },
        )),
        zr(_a, function (t) {
          ((Xe.units[t] = "deg"), (aa[t] = 1));
        }),
        (Ds[wa[13]] = Sa + "," + _a),
        zr(
          "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",
          function (t) {
            var e = t.split(":");
            Ds[e[1]] = wa[e[0]];
          },
        ),
        zr(
          "x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",
          function (t) {
            Xe.units[t] = "px";
          },
        ),
        ss.registerPlugin(Aa));
      var xa = ss.registerPlugin(Aa) || ss;
      xa.core.Tween;
      function La(object, t) {
        var e = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var r = Object.getOwnPropertySymbols(object);
          (t &&
            (r = r.filter(function (t) {
              return Object.getOwnPropertyDescriptor(object, t).enumerable;
            })),
            e.push.apply(e, r));
        }
        return e;
      }
      function ka(t) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2
            ? La(Object(source), !0).forEach(function (e) {
                Object(m.a)(t, e, source[e]);
              })
            : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(
                  t,
                  Object.getOwnPropertyDescriptors(source),
                )
              : La(Object(source)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(source, e),
                  );
                });
        }
        return t;
      }
      y.a.directive("gsap", function (t, e) {
        var r = ka({}, e.value),
          n = e.modifiers;
        (n.set && xa.set(t, r),
          n.to && xa.to(t, r),
          n.from && xa.from(t, r),
          n.fromTo && xa.fromTo(t, ka({}, e.value[0]), ka({}, e.value[1])));
      });
      var Ca = function (t, e) {
          t.app;
          e("gsap", xa);
          var n = r(527).Flip;
          (e("Flip", n), xa.registerPlugin(n));
          var o = r(528).ScrollTrigger;
          (e("ScrollTrigger", o), xa.registerPlugin(o));
          var l = r(503).ScrollToPlugin;
          (e("ScrollToPlugin", l), xa.registerPlugin(l));
          var c = r(529).ScrambleTextPlugin;
          (e("ScrambleTextPlugin", c), xa.registerPlugin(c));
        },
        Ra = function () {
          window.onNuxtReady(function () {
            var link = document.createElement("link");
            ((link.rel = "stylesheet"),
              (link.href = "/webfonts/webfonts.css"),
              document.head.appendChild(link));
          });
        },
        Oa = r(179),
        Ia = r(180),
        Pa = r(181),
        Fa = r(182),
        Ma = r(183),
        Na = r(184),
        Ba = r(185),
        Ua = r(186),
        ja = r(188),
        $a = r(187),
        Ga = function (t) {
          return Ka.apply(this, arguments);
        };
      function Ka() {
        return (Ka = Object(f.a)(
          regeneratorRuntime.mark(function t(e) {
            return regeneratorRuntime.wrap(function (t) {
              for (;;)
                switch ((t.prev = t.next)) {
                  case 0:
                    return (
                      (t.next = 2),
                      e.store.dispatch("nuxtClientInit", e)
                    );
                  case 2:
                  case "end":
                    return t.stop();
                }
            }, t);
          }),
        )).apply(this, arguments);
      }
      function Ha(object, t) {
        var e = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var r = Object.getOwnPropertySymbols(object);
          (t &&
            (r = r.filter(function (t) {
              return Object.getOwnPropertyDescriptor(object, t).enumerable;
            })),
            e.push.apply(e, r));
        }
        return e;
      }
      function Va(t) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2
            ? Ha(Object(source), !0).forEach(function (e) {
                Object(m.a)(t, e, source[e]);
              })
            : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(
                  t,
                  Object.getOwnPropertyDescriptors(source),
                )
              : Ha(Object(source)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(source, e),
                  );
                });
        }
        return t;
      }
      (y.a.component(T.a.name, T.a),
        y.a.component(
          _.a.name,
          Va(
            Va({}, _.a),
            {},
            {
              render: function (t, e) {
                return (
                  _.a._warned ||
                    ((_.a._warned = !0),
                    console.warn(
                      "<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead",
                    )),
                  _.a.render(t, e)
                );
              },
            },
          ),
        ),
        y.a.component(I.name, I),
        y.a.component("NChild", I),
        y.a.component(B.name, B),
        Object.defineProperty(y.a.prototype, "$nuxt", {
          get: function () {
            var t = this.$root ? this.$root.$options.$nuxt : null;
            return t || "undefined" == typeof window ? t : window.$nuxt;
          },
          configurable: !0,
        }),
        y.a.use(E.a, {
          keyName: "head",
          attribute: "data-n-head",
          ssrAttribute: "data-n-head-ssr",
          tagIDKeyName: "hid",
        }));
      var Ya = {
          mode: "out-in",
          name: "fade-page",
          appear: !1,
          appearClass: "appear",
          appearActiveClass: "appear-active",
          appearToClass: "appear-to",
        },
        za = v.a.Store.prototype.registerModule;
      function Wa(path, t) {
        var e =
            arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
          r = Array.isArray(path)
            ? !!path.reduce(function (t, path) {
                return t && t[path];
              }, this.state)
            : path in this.state;
        return za.call(this, path, t, Va({ preserveState: r }, e));
      }
      function qa(t) {
        return Xa.apply(this, arguments);
      }
      function Xa() {
        return (
          (Xa = Object(f.a)(
            regeneratorRuntime.mark(function t(e) {
              var r,
                n,
                o,
                l,
                c,
                h,
                path,
                d,
                m = arguments;
              return regeneratorRuntime.wrap(function (t) {
                for (;;)
                  switch ((t.prev = t.next)) {
                    case 0:
                      return (
                        (d = function (t, e) {
                          if (!t)
                            throw new Error(
                              "inject(key, value) has no key provided",
                            );
                          if (void 0 === e)
                            throw new Error(
                              "inject('".concat(
                                t,
                                "', value) has no value provided",
                              ),
                            );
                          ((l[(t = "$" + t)] = e),
                            l.context[t] || (l.context[t] = e),
                            (n[t] = l[t]));
                          var r = "__nuxt_" + t + "_installed__";
                          y.a[r] ||
                            ((y.a[r] = !0),
                            y.a.use(function () {
                              Object.prototype.hasOwnProperty.call(
                                y.a.prototype,
                                t,
                              ) ||
                                Object.defineProperty(y.a.prototype, t, {
                                  get: function () {
                                    return this.$root.$options[t];
                                  },
                                });
                            }));
                        }),
                        (r = m.length > 1 && void 0 !== m[1] ? m[1] : {}),
                        (n = Y(e)),
                        (t.next = 5),
                        O(0, r)
                      );
                    case 5:
                      return (
                        (o = t.sent),
                        (n.$router = o),
                        (n.registerModule = Wa),
                        (l = Va(
                          {
                            head: {
                              title: "SIRBREW System",
                              htmlAttrs: { lang: "en" },
                              meta: [
                                { charset: "utf-8" },
                                {
                                  name: "viewport",
                                  content:
                                    "width=device-width, initial-scale=1, maximum-scale=5",
                                },
                                {
                                  hid: "mobile-web-app-capable",
                                  name: "mobile-web-app-capable",
                                  content: "yes",
                                },
                                {
                                  hid: "theme-color",
                                  name: "theme-color",
                                  content: "#222",
                                },
                                {
                                  hid: "apple-mobile-web-app-capable",
                                  name: "apple-mobile-web-app-capable",
                                  content: "yes",
                                },
                                {
                                  hid: "apple-mobile-web-app-status-bar-style",
                                  name: "apple-mobile-web-app-status-bar-style",
                                  content: "black-translucent",
                                },
                                {
                                  hid: "msapplication-TileColor",
                                  name: "msapplication-TileColor",
                                  content: "#222",
                                },
                                {
                                  hid: "robots",
                                  name: "robots",
                                  content: "noindex, nofollow",
                                },
                              ],
                              link: [
                                {
                                  hid: "fonts-preload",
                                  rel: "preload",
                                  as: "style",
                                  href: "/webfonts/webfonts.css",
                                },
                              ],
                              style: [],
                              script: [
                                {
                                  hid: "gtm-script",
                                  innerHTML:
                                    "if(!window._gtm_init){window._gtm_init=1;(function(w,n,d,m,e,p){w[d]=(w[d]==1||n[d]=='yes'||n[d]==1||n[m]==1||(w[e]&&w[e][p]&&w[e][p]()))?1:0})(window,navigator,'doNotTrack','msDoNotTrack','external','msTrackingProtectionEnabled');(function(w,d,s,l,x,y){w[x]={};w._gtm_inject=function(i){if(w.doNotTrack||w[x][i])return;w[x][i]=1;w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s);j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i;f.parentNode.insertBefore(j,f);}})(window,document,'script','dataLayer','_gtm_ids','_gtm_inject')}",
                                },
                              ],
                              noscript: [
                                {
                                  hid: "gtm-noscript",
                                  pbody: !0,
                                  innerHTML: "",
                                },
                                {
                                  hid: "font-noscript",
                                  innerHTML:
                                    '<link rel="stylesheet" href="/webfonts/webfonts.css">',
                                },
                              ],
                              __dangerouslyDisableSanitizersByTagID: {
                                "gtm-script": ["innerHTML"],
                                "gtm-noscript": ["innerHTML"],
                                "font-noscript": ["innerHTML"],
                              },
                            },
                            store: n,
                            router: o,
                            nuxt: {
                              defaultTransition: Ya,
                              transitions: [Ya],
                              setTransitions: function (t) {
                                return (
                                  Array.isArray(t) || (t = [t]),
                                  (t = t.map(function (t) {
                                    return (t = t
                                      ? "string" == typeof t
                                        ? Object.assign({}, Ya, { name: t })
                                        : Object.assign({}, Ya, t)
                                      : Ya);
                                  })),
                                  (this.$options.nuxt.transitions = t),
                                  t
                                );
                              },
                              err: null,
                              dateErr: null,
                              error: function (t) {
                                ((t = t || null),
                                  (l.context._errored = Boolean(t)),
                                  (t = t ? Object(x.p)(t) : null));
                                var r = l.nuxt;
                                return (
                                  this && (r = this.nuxt || this.$options.nuxt),
                                  (r.dateErr = Date.now()),
                                  (r.err = t),
                                  e && (e.nuxt.error = t),
                                  t
                                );
                              },
                            },
                          },
                          K,
                        )),
                        (n.app = l),
                        (c = e
                          ? e.next
                          : function (t) {
                              return l.router.push(t);
                            }),
                        e
                          ? (h = o.resolve(e.url).route)
                          : ((path = Object(x.g)(
                              o.options.base,
                              o.options.mode,
                            )),
                            (h = o.resolve(path).route)),
                        (t.next = 14),
                        Object(x.t)(l, {
                          store: n,
                          route: h,
                          next: c,
                          error: l.nuxt.error.bind(l),
                          payload: e ? e.payload : void 0,
                          req: e ? e.req : void 0,
                          res: e ? e.res : void 0,
                          beforeRenderFns: e ? e.beforeRenderFns : void 0,
                          beforeSerializeFns: e ? e.beforeSerializeFns : void 0,
                          ssrContext: e,
                        })
                      );
                    case 14:
                      (d("config", r),
                        window.__NUXT__ &&
                          window.__NUXT__.state &&
                          n.replaceState(window.__NUXT__.state),
                        (l.context.enablePreview = function () {
                          var t =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : {};
                          ((l.previewData = Object.assign({}, t)),
                            d("preview", t));
                        }),
                        (t.next = 20));
                      break;
                    case 20:
                      if ("function" != typeof xt) {
                        t.next = 23;
                        break;
                      }
                      return ((t.next = 23), xt(l.context, d));
                    case 23:
                      if ("function" != typeof ye) {
                        t.next = 26;
                        break;
                      }
                      return ((t.next = 26), ye(l.context, d));
                    case 26:
                      if ("function" != typeof Ee) {
                        t.next = 29;
                        break;
                      }
                      return ((t.next = 29), Ee(l.context, d));
                    case 29:
                      t.next = 32;
                      break;
                    case 32:
                      if ("function" != typeof Ce.a) {
                        t.next = 35;
                        break;
                      }
                      return ((t.next = 35), Ce()(l.context, d));
                    case 35:
                      t.next = 38;
                      break;
                    case 38:
                      if ("function" != typeof Ca) {
                        t.next = 41;
                        break;
                      }
                      return ((t.next = 41), Ca(l.context, d));
                    case 41:
                      if ("function" != typeof Ra) {
                        t.next = 44;
                        break;
                      }
                      return ((t.next = 44), Ra(l.context, d));
                    case 44:
                      if ("function" != typeof Oa.a) {
                        t.next = 47;
                        break;
                      }
                      return ((t.next = 47), Object(Oa.a)(l.context, d));
                    case 47:
                      if ("function" != typeof Ia.default) {
                        t.next = 50;
                        break;
                      }
                      return ((t.next = 50), Object(Ia.default)(l.context, d));
                    case 50:
                      if ("function" != typeof Pa.default) {
                        t.next = 53;
                        break;
                      }
                      return ((t.next = 53), Object(Pa.default)(l.context, d));
                    case 53:
                      if ("function" != typeof Fa.default) {
                        t.next = 56;
                        break;
                      }
                      return ((t.next = 56), Object(Fa.default)(l.context, d));
                    case 56:
                      if ("function" != typeof Ma.default) {
                        t.next = 59;
                        break;
                      }
                      return ((t.next = 59), Object(Ma.default)(l.context, d));
                    case 59:
                      if ("function" != typeof Na.default) {
                        t.next = 62;
                        break;
                      }
                      return ((t.next = 62), Object(Na.default)(l.context, d));
                    case 62:
                      if ("function" != typeof Ba.default) {
                        t.next = 65;
                        break;
                      }
                      return ((t.next = 65), Object(Ba.default)(l.context, d));
                    case 65:
                      if ("function" != typeof Ua.default) {
                        t.next = 68;
                        break;
                      }
                      return ((t.next = 68), Object(Ua.default)(l.context, d));
                    case 68:
                      if ("function" != typeof ja.default) {
                        t.next = 71;
                        break;
                      }
                      return ((t.next = 71), Object(ja.default)(l.context, d));
                    case 71:
                      if ("function" != typeof $a.a) {
                        t.next = 74;
                        break;
                      }
                      return ((t.next = 74), Object($a.a)(l.context, d));
                    case 74:
                      if ("function" != typeof Ga) {
                        t.next = 77;
                        break;
                      }
                      return ((t.next = 77), Ga(l.context, d));
                    case 77:
                      return (
                        (l.context.enablePreview = function () {
                          console.warn(
                            "You cannot call enablePreview() outside a plugin.",
                          );
                        }),
                        (t.next = 80),
                        new Promise(function (t, e) {
                          if (
                            !o.resolve(l.context.route.fullPath).route.matched
                              .length
                          )
                            return t();
                          o.replace(l.context.route.fullPath, t, function (r) {
                            if (!r._isRouter) return e(r);
                            if (2 !== r.type) return t();
                            var n = o.afterEach(
                              (function () {
                                var e = Object(f.a)(
                                  regeneratorRuntime.mark(function e(r, o) {
                                    return regeneratorRuntime.wrap(function (
                                      e,
                                    ) {
                                      for (;;)
                                        switch ((e.prev = e.next)) {
                                          case 0:
                                            return (
                                              (e.next = 3),
                                              Object(x.k)(r)
                                            );
                                          case 3:
                                            ((l.context.route = e.sent),
                                              (l.context.params =
                                                r.params || {}),
                                              (l.context.query = r.query || {}),
                                              n(),
                                              t());
                                          case 8:
                                          case "end":
                                            return e.stop();
                                        }
                                    }, e);
                                  }),
                                );
                                return function (t, r) {
                                  return e.apply(this, arguments);
                                };
                              })(),
                            );
                          });
                        })
                      );
                    case 80:
                      return t.abrupt("return", {
                        store: n,
                        app: l,
                        router: o,
                      });
                    case 81:
                    case "end":
                      return t.stop();
                  }
              }, t);
            }),
          )),
          Xa.apply(this, arguments)
        );
      }
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      var n = r(409),
        o = r(414);
      t.exports = function (object, t) {
        var e = o(object, t);
        return n(e) ? e : void 0;
      };
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      "use strict";
      function n(t) {
        return t &&
          t.__esModule &&
          Object.prototype.hasOwnProperty.call(t, "default")
          ? t.default
          : t;
      }
      r.d(e, "a", function () {
        return Os;
      });
      var o,
        l,
        c,
        h,
        d,
        f = { exports: {} };
      ((o =
        /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/),
        (l = /^(?=([^\/?#]*))\1([^]*)$/),
        (c = /(?:\/|^)\.(?=\/)/g),
        (h = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g),
        (f.exports = d =
          {
            buildAbsoluteURL: function (t, e, r) {
              if (((r = r || {}), (t = t.trim()), !(e = e.trim()))) {
                if (!r.alwaysNormalize) return t;
                var n = d.parseURL(t);
                if (!n) throw new Error("Error trying to parse base URL.");
                return (
                  (n.path = d.normalizePath(n.path)),
                  d.buildURLFromParts(n)
                );
              }
              var o = d.parseURL(e);
              if (!o) throw new Error("Error trying to parse relative URL.");
              if (o.scheme)
                return r.alwaysNormalize
                  ? ((o.path = d.normalizePath(o.path)), d.buildURLFromParts(o))
                  : e;
              var c = d.parseURL(t);
              if (!c) throw new Error("Error trying to parse base URL.");
              if (!c.netLoc && c.path && "/" !== c.path[0]) {
                var h = l.exec(c.path);
                ((c.netLoc = h[1]), (c.path = h[2]));
              }
              c.netLoc && !c.path && (c.path = "/");
              var f = {
                scheme: c.scheme,
                netLoc: o.netLoc,
                path: null,
                params: o.params,
                query: o.query,
                fragment: o.fragment,
              };
              if (!o.netLoc && ((f.netLoc = c.netLoc), "/" !== o.path[0]))
                if (o.path) {
                  var m = c.path,
                    y = m.substring(0, m.lastIndexOf("/") + 1) + o.path;
                  f.path = d.normalizePath(y);
                } else
                  ((f.path = c.path),
                    o.params ||
                      ((f.params = c.params), o.query || (f.query = c.query)));
              return (
                null === f.path &&
                  (f.path = r.alwaysNormalize
                    ? d.normalizePath(o.path)
                    : o.path),
                d.buildURLFromParts(f)
              );
            },
            parseURL: function (t) {
              var e = o.exec(t);
              return e
                ? {
                    scheme: e[1] || "",
                    netLoc: e[2] || "",
                    path: e[3] || "",
                    params: e[4] || "",
                    query: e[5] || "",
                    fragment: e[6] || "",
                  }
                : null;
            },
            normalizePath: function (path) {
              for (
                path = path.split("").reverse().join("").replace(c, "");
                path.length !== (path = path.replace(h, "")).length;
              );
              return path.split("").reverse().join("");
            },
            buildURLFromParts: function (t) {
              return (
                t.scheme + t.netLoc + t.path + t.params + t.query + t.fragment
              );
            },
          }));
      var m = f.exports;
      function y(object, t) {
        var e = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var r = Object.getOwnPropertySymbols(object);
          (t &&
            (r = r.filter(function (t) {
              return Object.getOwnPropertyDescriptor(object, t).enumerable;
            })),
            e.push.apply(e, r));
        }
        return e;
      }
      function v(t) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2
            ? y(Object(source), !0).forEach(function (e) {
                E(t, e, source[e]);
              })
            : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(
                  t,
                  Object.getOwnPropertyDescriptors(source),
                )
              : y(Object(source)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(source, e),
                  );
                });
        }
        return t;
      }
      function E(t, e, r) {
        return (
          (e = (function (t) {
            var e = (function (input, t) {
              if ("object" != typeof input || null === input) return input;
              var e = input[Symbol.toPrimitive];
              if (void 0 !== e) {
                var r = e.call(input, t || "default");
                if ("object" != typeof r) return r;
                throw new TypeError(
                  "@@toPrimitive must return a primitive value.",
                );
              }
              return ("string" === t ? String : Number)(input);
            })(t, "string");
            return "symbol" == typeof e ? e : String(e);
          })(e)) in t
            ? Object.defineProperty(t, e, {
                value: r,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              })
            : (t[e] = r),
          t
        );
      }
      function D() {
        return (
          (D = Object.assign
            ? Object.assign.bind()
            : function (t) {
                for (var i = 1; i < arguments.length; i++) {
                  var source = arguments[i];
                  for (var e in source)
                    Object.prototype.hasOwnProperty.call(source, e) &&
                      (t[e] = source[e]);
                }
                return t;
              }),
          D.apply(this, arguments)
        );
      }
      const T =
        Number.isFinite ||
        function (t) {
          return "number" == typeof t && isFinite(t);
        };
      let S = (function (t) {
          return (
            (t.MEDIA_ATTACHING = "hlsMediaAttaching"),
            (t.MEDIA_ATTACHED = "hlsMediaAttached"),
            (t.MEDIA_DETACHING = "hlsMediaDetaching"),
            (t.MEDIA_DETACHED = "hlsMediaDetached"),
            (t.BUFFER_RESET = "hlsBufferReset"),
            (t.BUFFER_CODECS = "hlsBufferCodecs"),
            (t.BUFFER_CREATED = "hlsBufferCreated"),
            (t.BUFFER_APPENDING = "hlsBufferAppending"),
            (t.BUFFER_APPENDED = "hlsBufferAppended"),
            (t.BUFFER_EOS = "hlsBufferEos"),
            (t.BUFFER_FLUSHING = "hlsBufferFlushing"),
            (t.BUFFER_FLUSHED = "hlsBufferFlushed"),
            (t.MANIFEST_LOADING = "hlsManifestLoading"),
            (t.MANIFEST_LOADED = "hlsManifestLoaded"),
            (t.MANIFEST_PARSED = "hlsManifestParsed"),
            (t.LEVEL_SWITCHING = "hlsLevelSwitching"),
            (t.LEVEL_SWITCHED = "hlsLevelSwitched"),
            (t.LEVEL_LOADING = "hlsLevelLoading"),
            (t.LEVEL_LOADED = "hlsLevelLoaded"),
            (t.LEVEL_UPDATED = "hlsLevelUpdated"),
            (t.LEVEL_PTS_UPDATED = "hlsLevelPtsUpdated"),
            (t.LEVELS_UPDATED = "hlsLevelsUpdated"),
            (t.AUDIO_TRACKS_UPDATED = "hlsAudioTracksUpdated"),
            (t.AUDIO_TRACK_SWITCHING = "hlsAudioTrackSwitching"),
            (t.AUDIO_TRACK_SWITCHED = "hlsAudioTrackSwitched"),
            (t.AUDIO_TRACK_LOADING = "hlsAudioTrackLoading"),
            (t.AUDIO_TRACK_LOADED = "hlsAudioTrackLoaded"),
            (t.SUBTITLE_TRACKS_UPDATED = "hlsSubtitleTracksUpdated"),
            (t.SUBTITLE_TRACKS_CLEARED = "hlsSubtitleTracksCleared"),
            (t.SUBTITLE_TRACK_SWITCH = "hlsSubtitleTrackSwitch"),
            (t.SUBTITLE_TRACK_LOADING = "hlsSubtitleTrackLoading"),
            (t.SUBTITLE_TRACK_LOADED = "hlsSubtitleTrackLoaded"),
            (t.SUBTITLE_FRAG_PROCESSED = "hlsSubtitleFragProcessed"),
            (t.CUES_PARSED = "hlsCuesParsed"),
            (t.NON_NATIVE_TEXT_TRACKS_FOUND = "hlsNonNativeTextTracksFound"),
            (t.INIT_PTS_FOUND = "hlsInitPtsFound"),
            (t.FRAG_LOADING = "hlsFragLoading"),
            (t.FRAG_LOAD_EMERGENCY_ABORTED = "hlsFragLoadEmergencyAborted"),
            (t.FRAG_LOADED = "hlsFragLoaded"),
            (t.FRAG_DECRYPTED = "hlsFragDecrypted"),
            (t.FRAG_PARSING_INIT_SEGMENT = "hlsFragParsingInitSegment"),
            (t.FRAG_PARSING_USERDATA = "hlsFragParsingUserdata"),
            (t.FRAG_PARSING_METADATA = "hlsFragParsingMetadata"),
            (t.FRAG_PARSED = "hlsFragParsed"),
            (t.FRAG_BUFFERED = "hlsFragBuffered"),
            (t.FRAG_CHANGED = "hlsFragChanged"),
            (t.FPS_DROP = "hlsFpsDrop"),
            (t.FPS_DROP_LEVEL_CAPPING = "hlsFpsDropLevelCapping"),
            (t.ERROR = "hlsError"),
            (t.DESTROYING = "hlsDestroying"),
            (t.KEY_LOADING = "hlsKeyLoading"),
            (t.KEY_LOADED = "hlsKeyLoaded"),
            (t.LIVE_BACK_BUFFER_REACHED = "hlsLiveBackBufferReached"),
            (t.BACK_BUFFER_REACHED = "hlsBackBufferReached"),
            t
          );
        })({}),
        _ = (function (t) {
          return (
            (t.NETWORK_ERROR = "networkError"),
            (t.MEDIA_ERROR = "mediaError"),
            (t.KEY_SYSTEM_ERROR = "keySystemError"),
            (t.MUX_ERROR = "muxError"),
            (t.OTHER_ERROR = "otherError"),
            t
          );
        })({}),
        w = (function (t) {
          return (
            (t.KEY_SYSTEM_NO_KEYS = "keySystemNoKeys"),
            (t.KEY_SYSTEM_NO_ACCESS = "keySystemNoAccess"),
            (t.KEY_SYSTEM_NO_SESSION = "keySystemNoSession"),
            (t.KEY_SYSTEM_NO_CONFIGURED_LICENSE =
              "keySystemNoConfiguredLicense"),
            (t.KEY_SYSTEM_LICENSE_REQUEST_FAILED =
              "keySystemLicenseRequestFailed"),
            (t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED =
              "keySystemServerCertificateRequestFailed"),
            (t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED =
              "keySystemServerCertificateUpdateFailed"),
            (t.KEY_SYSTEM_SESSION_UPDATE_FAILED =
              "keySystemSessionUpdateFailed"),
            (t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED =
              "keySystemStatusConditioningRestricted"),
            (t.KEY_SYSTEM_STATUS_INTERNAL_ERROR =
              "keySystemStatusInternalError"),
            (t.MANIFEST_LOAD_ERROR = "manifestLoadError"),
            (t.MANIFEST_LOAD_TIMEOUT = "manifestLoadTimeOut"),
            (t.MANIFEST_PARSING_ERROR = "manifestParsingError"),
            (t.MANIFEST_INCOMPATIBLE_CODECS_ERROR =
              "manifestIncompatibleCodecsError"),
            (t.LEVEL_EMPTY_ERROR = "levelEmptyError"),
            (t.LEVEL_LOAD_ERROR = "levelLoadError"),
            (t.LEVEL_LOAD_TIMEOUT = "levelLoadTimeOut"),
            (t.LEVEL_PARSING_ERROR = "levelParsingError"),
            (t.LEVEL_SWITCH_ERROR = "levelSwitchError"),
            (t.AUDIO_TRACK_LOAD_ERROR = "audioTrackLoadError"),
            (t.AUDIO_TRACK_LOAD_TIMEOUT = "audioTrackLoadTimeOut"),
            (t.SUBTITLE_LOAD_ERROR = "subtitleTrackLoadError"),
            (t.SUBTITLE_TRACK_LOAD_TIMEOUT = "subtitleTrackLoadTimeOut"),
            (t.FRAG_LOAD_ERROR = "fragLoadError"),
            (t.FRAG_LOAD_TIMEOUT = "fragLoadTimeOut"),
            (t.FRAG_DECRYPT_ERROR = "fragDecryptError"),
            (t.FRAG_PARSING_ERROR = "fragParsingError"),
            (t.FRAG_GAP = "fragGap"),
            (t.REMUX_ALLOC_ERROR = "remuxAllocError"),
            (t.KEY_LOAD_ERROR = "keyLoadError"),
            (t.KEY_LOAD_TIMEOUT = "keyLoadTimeOut"),
            (t.BUFFER_ADD_CODEC_ERROR = "bufferAddCodecError"),
            (t.BUFFER_INCOMPATIBLE_CODECS_ERROR =
              "bufferIncompatibleCodecsError"),
            (t.BUFFER_APPEND_ERROR = "bufferAppendError"),
            (t.BUFFER_APPENDING_ERROR = "bufferAppendingError"),
            (t.BUFFER_STALLED_ERROR = "bufferStalledError"),
            (t.BUFFER_FULL_ERROR = "bufferFullError"),
            (t.BUFFER_SEEK_OVER_HOLE = "bufferSeekOverHole"),
            (t.BUFFER_NUDGE_ON_STALL = "bufferNudgeOnStall"),
            (t.INTERNAL_EXCEPTION = "internalException"),
            (t.INTERNAL_ABORTED = "aborted"),
            (t.UNKNOWN = "unknown"),
            t
          );
        })({});
      const A = function () {},
        x = { trace: A, debug: A, log: A, warn: A, info: A, error: A };
      let L = x;
      function k(t, ...e) {
        e.forEach(function (e) {
          L[e] = t[e]
            ? t[e].bind(t)
            : (function (t) {
                const e = self.console[t];
                return e ? e.bind(self.console, `[${t}] >`) : A;
              })(e);
        });
      }
      const C = L,
        R = /^(\d+)x(\d+)$/,
        O = /(.+?)=(".*?"|.*?)(?:,|$)/g;
      class I {
        constructor(t) {
          "string" == typeof t && (t = I.parseAttrList(t));
          for (const e in t)
            t.hasOwnProperty(e) &&
              ("X-" === e.substring(0, 2) &&
                ((this.clientAttrs = this.clientAttrs || []),
                this.clientAttrs.push(e)),
              (this[e] = t[e]));
        }
        decimalInteger(t) {
          const e = parseInt(this[t], 10);
          return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e;
        }
        hexadecimalInteger(t) {
          if (this[t]) {
            let e = (this[t] || "0x").slice(2);
            e = (1 & e.length ? "0" : "") + e;
            const r = new Uint8Array(e.length / 2);
            for (let i = 0; i < e.length / 2; i++)
              r[i] = parseInt(e.slice(2 * i, 2 * i + 2), 16);
            return r;
          }
          return null;
        }
        hexadecimalIntegerAsNumber(t) {
          const e = parseInt(this[t], 16);
          return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e;
        }
        decimalFloatingPoint(t) {
          return parseFloat(this[t]);
        }
        optionalFloat(t, e) {
          const r = this[t];
          return r ? parseFloat(r) : e;
        }
        enumeratedString(t) {
          return this[t];
        }
        bool(t) {
          return "YES" === this[t];
        }
        decimalResolution(t) {
          const e = R.exec(this[t]);
          if (null !== e)
            return { width: parseInt(e[1], 10), height: parseInt(e[2], 10) };
        }
        static parseAttrList(input) {
          let t;
          const e = {};
          for (O.lastIndex = 0; null !== (t = O.exec(input)); ) {
            let r = t[2];
            0 === r.indexOf('"') &&
              r.lastIndexOf('"') === r.length - 1 &&
              (r = r.slice(1, -1));
            e[t[1].trim()] = r;
          }
          return e;
        }
      }
      function P(t) {
        return "SCTE35-OUT" === t || "SCTE35-IN" === t;
      }
      class F {
        constructor(t, e) {
          if (
            ((this.attr = void 0),
            (this._startDate = void 0),
            (this._endDate = void 0),
            (this._badValueForSameId = void 0),
            e)
          ) {
            const r = e.attr;
            for (const e in r)
              if (Object.prototype.hasOwnProperty.call(t, e) && t[e] !== r[e]) {
                (C.warn(
                  `DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`,
                ),
                  (this._badValueForSameId = e));
                break;
              }
            t = D(new I({}), r, t);
          }
          if (
            ((this.attr = t),
            (this._startDate = new Date(t["START-DATE"])),
            "END-DATE" in this.attr)
          ) {
            const t = new Date(this.attr["END-DATE"]);
            T(t.getTime()) && (this._endDate = t);
          }
        }
        get id() {
          return this.attr.ID;
        }
        get class() {
          return this.attr.CLASS;
        }
        get startDate() {
          return this._startDate;
        }
        get endDate() {
          if (this._endDate) return this._endDate;
          const t = this.duration;
          return null !== t
            ? new Date(this._startDate.getTime() + 1e3 * t)
            : null;
        }
        get duration() {
          if ("DURATION" in this.attr) {
            const t = this.attr.decimalFloatingPoint("DURATION");
            if (T(t)) return t;
          } else if (this._endDate)
            return (this._endDate.getTime() - this._startDate.getTime()) / 1e3;
          return null;
        }
        get plannedDuration() {
          return "PLANNED-DURATION" in this.attr
            ? this.attr.decimalFloatingPoint("PLANNED-DURATION")
            : null;
        }
        get endOnNext() {
          return this.attr.bool("END-ON-NEXT");
        }
        get isValid() {
          return (
            !!this.id &&
            !this._badValueForSameId &&
            T(this.startDate.getTime()) &&
            (null === this.duration || this.duration >= 0) &&
            (!this.endOnNext || !!this.class)
          );
        }
      }
      class M {
        constructor() {
          ((this.aborted = !1),
            (this.loaded = 0),
            (this.retry = 0),
            (this.total = 0),
            (this.chunkCount = 0),
            (this.bwEstimate = 0),
            (this.loading = { start: 0, first: 0, end: 0 }),
            (this.parsing = { start: 0, end: 0 }),
            (this.buffering = { start: 0, first: 0, end: 0 }));
        }
      }
      var N = { AUDIO: "audio", VIDEO: "video", AUDIOVIDEO: "audiovideo" };
      class B {
        constructor(t) {
          ((this._byteRange = null),
            (this._url = null),
            (this.baseurl = void 0),
            (this.relurl = void 0),
            (this.elementaryStreams = {
              [N.AUDIO]: null,
              [N.VIDEO]: null,
              [N.AUDIOVIDEO]: null,
            }),
            (this.baseurl = t));
        }
        setByteRange(t, e) {
          const r = t.split("@", 2),
            n = [];
          (1 === r.length
            ? (n[0] = e ? e.byteRangeEndOffset : 0)
            : (n[0] = parseInt(r[1])),
            (n[1] = parseInt(r[0]) + n[0]),
            (this._byteRange = n));
        }
        get byteRange() {
          return this._byteRange ? this._byteRange : [];
        }
        get byteRangeStartOffset() {
          return this.byteRange[0];
        }
        get byteRangeEndOffset() {
          return this.byteRange[1];
        }
        get url() {
          return (
            !this._url &&
              this.baseurl &&
              this.relurl &&
              (this._url = m.buildAbsoluteURL(this.baseurl, this.relurl, {
                alwaysNormalize: !0,
              })),
            this._url || ""
          );
        }
        set url(t) {
          this._url = t;
        }
      }
      class U extends B {
        constructor(t, e) {
          (super(e),
            (this._decryptdata = null),
            (this.rawProgramDateTime = null),
            (this.programDateTime = null),
            (this.tagList = []),
            (this.duration = 0),
            (this.sn = 0),
            (this.levelkeys = void 0),
            (this.type = void 0),
            (this.loader = null),
            (this.keyLoader = null),
            (this.level = -1),
            (this.cc = 0),
            (this.startPTS = void 0),
            (this.endPTS = void 0),
            (this.startDTS = void 0),
            (this.endDTS = void 0),
            (this.start = 0),
            (this.deltaPTS = void 0),
            (this.maxStartPTS = void 0),
            (this.minEndPTS = void 0),
            (this.stats = new M()),
            (this.urlId = 0),
            (this.data = void 0),
            (this.bitrateTest = !1),
            (this.title = null),
            (this.initSegment = null),
            (this.endList = void 0),
            (this.gap = void 0),
            (this.type = t));
        }
        get decryptdata() {
          const { levelkeys: t } = this;
          if (!t && !this._decryptdata) return null;
          if (!this._decryptdata && this.levelkeys && !this.levelkeys.NONE) {
            const t = this.levelkeys.identity;
            if (t) this._decryptdata = t.getDecryptData(this.sn);
            else {
              const t = Object.keys(this.levelkeys);
              if (1 === t.length)
                return (this._decryptdata = this.levelkeys[t[0]].getDecryptData(
                  this.sn,
                ));
            }
          }
          return this._decryptdata;
        }
        get end() {
          return this.start + this.duration;
        }
        get endProgramDateTime() {
          if (null === this.programDateTime) return null;
          if (!T(this.programDateTime)) return null;
          const t = T(this.duration) ? this.duration : 0;
          return this.programDateTime + 1e3 * t;
        }
        get encrypted() {
          var t;
          if (null != (t = this._decryptdata) && t.encrypted) return !0;
          if (this.levelkeys) {
            const t = Object.keys(this.levelkeys),
              e = t.length;
            if (e > 1 || (1 === e && this.levelkeys[t[0]].encrypted)) return !0;
          }
          return !1;
        }
        setKeyFormat(t) {
          if (this.levelkeys) {
            const e = this.levelkeys[t];
            e &&
              !this._decryptdata &&
              (this._decryptdata = e.getDecryptData(this.sn));
          }
        }
        abortRequests() {
          var t, e;
          (null == (t = this.loader) || t.abort(),
            null == (e = this.keyLoader) || e.abort());
        }
        setElementaryStreamInfo(t, e, r, n, o, l = !1) {
          const { elementaryStreams: c } = this,
            h = c[t];
          h
            ? ((h.startPTS = Math.min(h.startPTS, e)),
              (h.endPTS = Math.max(h.endPTS, r)),
              (h.startDTS = Math.min(h.startDTS, n)),
              (h.endDTS = Math.max(h.endDTS, o)))
            : (c[t] = {
                startPTS: e,
                endPTS: r,
                startDTS: n,
                endDTS: o,
                partial: l,
              });
        }
        clearElementaryStreamInfo() {
          const { elementaryStreams: t } = this;
          ((t[N.AUDIO] = null), (t[N.VIDEO] = null), (t[N.AUDIOVIDEO] = null));
        }
      }
      class j extends B {
        constructor(t, e, r, n, o) {
          (super(r),
            (this.fragOffset = 0),
            (this.duration = 0),
            (this.gap = !1),
            (this.independent = !1),
            (this.relurl = void 0),
            (this.fragment = void 0),
            (this.index = void 0),
            (this.stats = new M()),
            (this.duration = t.decimalFloatingPoint("DURATION")),
            (this.gap = t.bool("GAP")),
            (this.independent = t.bool("INDEPENDENT")),
            (this.relurl = t.enumeratedString("URI")),
            (this.fragment = e),
            (this.index = n));
          const l = t.enumeratedString("BYTERANGE");
          (l && this.setByteRange(l, o),
            o && (this.fragOffset = o.fragOffset + o.duration));
        }
        get start() {
          return this.fragment.start + this.fragOffset;
        }
        get end() {
          return this.start + this.duration;
        }
        get loaded() {
          const { elementaryStreams: t } = this;
          return !!(t.audio || t.video || t.audiovideo);
        }
      }
      class $ {
        constructor(t) {
          ((this.PTSKnown = !1),
            (this.alignedSliding = !1),
            (this.averagetargetduration = void 0),
            (this.endCC = 0),
            (this.endSN = 0),
            (this.fragments = void 0),
            (this.fragmentHint = void 0),
            (this.partList = null),
            (this.dateRanges = void 0),
            (this.live = !0),
            (this.ageHeader = 0),
            (this.advancedDateTime = void 0),
            (this.updated = !0),
            (this.advanced = !0),
            (this.availabilityDelay = void 0),
            (this.misses = 0),
            (this.startCC = 0),
            (this.startSN = 0),
            (this.startTimeOffset = null),
            (this.targetduration = 0),
            (this.totalduration = 0),
            (this.type = null),
            (this.url = void 0),
            (this.m3u8 = ""),
            (this.version = null),
            (this.canBlockReload = !1),
            (this.canSkipUntil = 0),
            (this.canSkipDateRanges = !1),
            (this.skippedSegments = 0),
            (this.recentlyRemovedDateranges = void 0),
            (this.partHoldBack = 0),
            (this.holdBack = 0),
            (this.partTarget = 0),
            (this.preloadHint = void 0),
            (this.renditionReports = void 0),
            (this.tuneInGoal = 0),
            (this.deltaUpdateFailed = void 0),
            (this.driftStartTime = 0),
            (this.driftEndTime = 0),
            (this.driftStart = 0),
            (this.driftEnd = 0),
            (this.encryptedFragments = void 0),
            (this.playlistParsingError = null),
            (this.variableList = null),
            (this.hasVariableRefs = !1),
            (this.fragments = []),
            (this.encryptedFragments = []),
            (this.dateRanges = {}),
            (this.url = t));
        }
        reloaded(t) {
          if (!t) return ((this.advanced = !0), void (this.updated = !0));
          const e = this.lastPartSn - t.lastPartSn,
            r = this.lastPartIndex - t.lastPartIndex;
          ((this.updated = this.endSN !== t.endSN || !!r || !!e || !this.live),
            (this.advanced =
              this.endSN > t.endSN || e > 0 || (0 === e && r > 0)),
            this.updated || this.advanced
              ? (this.misses = Math.floor(0.6 * t.misses))
              : (this.misses = t.misses + 1),
            (this.availabilityDelay = t.availabilityDelay));
        }
        get hasProgramDateTime() {
          return (
            !!this.fragments.length &&
            T(this.fragments[this.fragments.length - 1].programDateTime)
          );
        }
        get levelTargetDuration() {
          return this.averagetargetduration || this.targetduration || 10;
        }
        get drift() {
          const t = this.driftEndTime - this.driftStartTime;
          if (t > 0) {
            return (1e3 * (this.driftEnd - this.driftStart)) / t;
          }
          return 1;
        }
        get edge() {
          return this.partEnd || this.fragmentEnd;
        }
        get partEnd() {
          var t;
          return null != (t = this.partList) && t.length
            ? this.partList[this.partList.length - 1].end
            : this.fragmentEnd;
        }
        get fragmentEnd() {
          var t;
          return null != (t = this.fragments) && t.length
            ? this.fragments[this.fragments.length - 1].end
            : 0;
        }
        get age() {
          return this.advancedDateTime
            ? Math.max(Date.now() - this.advancedDateTime, 0) / 1e3
            : 0;
        }
        get lastPartIndex() {
          var t;
          return null != (t = this.partList) && t.length
            ? this.partList[this.partList.length - 1].index
            : -1;
        }
        get lastPartSn() {
          var t;
          return null != (t = this.partList) && t.length
            ? this.partList[this.partList.length - 1].fragment.sn
            : this.endSN;
        }
      }
      function G(t) {
        return Uint8Array.from(atob(t), (t) => t.charCodeAt(0));
      }
      function K(t) {
        const e = t.split(":");
        let r = null;
        if ("data" === e[0] && 2 === e.length) {
          const t = e[1].split(";"),
            n = t[t.length - 1].split(",");
          if (2 === n.length) {
            const e = "base64" === n[0],
              data = n[1];
            e
              ? (t.splice(-1, 1), (r = G(data)))
              : (r = (function (t) {
                  const e = H(t).subarray(0, 16),
                    r = new Uint8Array(16);
                  return (r.set(e, 16 - e.length), r);
                })(data));
          }
        }
        return r;
      }
      function H(t) {
        return Uint8Array.from(unescape(encodeURIComponent(t)), (t) =>
          t.charCodeAt(0),
        );
      }
      var V = {
          CLEARKEY: "org.w3.clearkey",
          FAIRPLAY: "com.apple.fps",
          PLAYREADY: "com.microsoft.playready",
          WIDEVINE: "com.widevine.alpha",
        },
        Y = "org.w3.clearkey",
        z = "com.apple.streamingkeydelivery",
        W = "com.microsoft.playready",
        X = "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";
      function Q(t) {
        switch (t) {
          case z:
            return V.FAIRPLAY;
          case W:
            return V.PLAYREADY;
          case X:
            return V.WIDEVINE;
          case Y:
            return V.CLEARKEY;
        }
      }
      var J = "edef8ba979d64acea3c827dcd51d21ed";
      function Z(t) {
        switch (t) {
          case V.FAIRPLAY:
            return z;
          case V.PLAYREADY:
            return W;
          case V.WIDEVINE:
            return X;
          case V.CLEARKEY:
            return Y;
        }
      }
      function tt(t) {
        const { drmSystems: e, widevineLicenseUrl: r } = t,
          n = e
            ? [V.FAIRPLAY, V.WIDEVINE, V.PLAYREADY, V.CLEARKEY].filter(
                (t) => !!e[t],
              )
            : [];
        return (!n[V.WIDEVINE] && r && n.push(V.WIDEVINE), n);
      }
      const et =
        "undefined" != typeof self &&
        self.navigator &&
        self.navigator.requestMediaKeySystemAccess
          ? self.navigator.requestMediaKeySystemAccess.bind(self.navigator)
          : null;
      function nt(t, e, r) {
        return Uint8Array.prototype.slice
          ? t.slice(e, r)
          : new Uint8Array(Array.prototype.slice.call(t, e, r));
      }
      const it = (data, t) =>
          t + 10 <= data.length &&
          73 === data[t] &&
          68 === data[t + 1] &&
          51 === data[t + 2] &&
          data[t + 3] < 255 &&
          data[t + 4] < 255 &&
          data[t + 6] < 128 &&
          data[t + 7] < 128 &&
          data[t + 8] < 128 &&
          data[t + 9] < 128,
        st = (data, t) =>
          t + 10 <= data.length &&
          51 === data[t] &&
          68 === data[t + 1] &&
          73 === data[t + 2] &&
          data[t + 3] < 255 &&
          data[t + 4] < 255 &&
          data[t + 6] < 128 &&
          data[t + 7] < 128 &&
          data[t + 8] < 128 &&
          data[t + 9] < 128,
        at = (data, t) => {
          const e = t;
          let r = 0;
          for (; it(data, t); ) {
            r += 10;
            ((r += ot(data, t + 6)), st(data, t + 10) && (r += 10), (t += r));
          }
          if (r > 0) return data.subarray(e, e + r);
        },
        ot = (data, t) => {
          let e = 0;
          return (
            (e = (127 & data[t]) << 21),
            (e |= (127 & data[t + 1]) << 14),
            (e |= (127 & data[t + 2]) << 7),
            (e |= 127 & data[t + 3]),
            e
          );
        },
        lt = (data, t) =>
          it(data, t) && ot(data, t + 6) + 10 <= data.length - t,
        ut = (t) =>
          t &&
          "PRIV" === t.key &&
          "com.apple.streaming.transportStreamTimestamp" === t.info,
        ct = (data) => {
          const t = String.fromCharCode(data[0], data[1], data[2], data[3]),
            e = ot(data, 4);
          return { type: t, size: e, data: data.subarray(10, 10 + e) };
        },
        ht = (t) => {
          let e = 0;
          const r = [];
          for (; it(t, e); ) {
            const n = ot(t, e + 6);
            e += 10;
            const o = e + n;
            for (; e + 8 < o; ) {
              const n = ct(t.subarray(e)),
                o = ft(n);
              (o && r.push(o), (e += n.size + 10));
            }
            st(t, e) && (e += 10);
          }
          return r;
        },
        ft = (t) =>
          "PRIV" === t.type ? pt(t) : "W" === t.type[0] ? mt(t) : gt(t),
        pt = (t) => {
          if (t.size < 2) return;
          const e = vt(t.data, !0),
            r = new Uint8Array(t.data.subarray(e.length + 1));
          return { key: t.type, info: e, data: r.buffer };
        },
        gt = (t) => {
          if (t.size < 2) return;
          if ("TXXX" === t.type) {
            let e = 1;
            const r = vt(t.data.subarray(e), !0);
            e += r.length + 1;
            const n = vt(t.data.subarray(e));
            return { key: t.type, info: r, data: n };
          }
          const text = vt(t.data.subarray(1));
          return { key: t.type, data: text };
        },
        mt = (t) => {
          if ("WXXX" === t.type) {
            if (t.size < 2) return;
            let e = 1;
            const r = vt(t.data.subarray(e), !0);
            e += r.length + 1;
            const n = vt(t.data.subarray(e));
            return { key: t.type, info: r, data: n };
          }
          const e = vt(t.data);
          return { key: t.type, data: e };
        },
        yt = (t) => {
          if (8 === t.data.byteLength) {
            const data = new Uint8Array(t.data),
              e = 1 & data[3];
            let r =
              (data[4] << 23) + (data[5] << 15) + (data[6] << 7) + data[7];
            return ((r /= 45), e && (r += 47721858.84), Math.round(r));
          }
        },
        vt = (t, e = !1) => {
          const r = Et();
          if (r) {
            const n = r.decode(t);
            if (e) {
              const t = n.indexOf("\0");
              return -1 !== t ? n.substring(0, t) : n;
            }
            return n.replace(/\0/g, "");
          }
          const n = t.length;
          let o,
            l,
            c,
            h = "",
            i = 0;
          for (; i < n; ) {
            if (((o = t[i++]), 0 === o && e)) return h;
            if (0 !== o && 3 !== o)
              switch (o >> 4) {
                case 0:
                case 1:
                case 2:
                case 3:
                case 4:
                case 5:
                case 6:
                case 7:
                  h += String.fromCharCode(o);
                  break;
                case 12:
                case 13:
                  ((l = t[i++]),
                    (h += String.fromCharCode(((31 & o) << 6) | (63 & l))));
                  break;
                case 14:
                  ((l = t[i++]),
                    (c = t[i++]),
                    (h += String.fromCharCode(
                      ((15 & o) << 12) | ((63 & l) << 6) | ((63 & c) << 0),
                    )));
              }
          }
          return h;
        };
      let bt;
      function Et() {
        return (
          bt ||
            void 0 === self.TextDecoder ||
            (bt = new self.TextDecoder("utf-8")),
          bt
        );
      }
      const Dt = {
          hexDump: function (t) {
            let e = "";
            for (let i = 0; i < t.length; i++) {
              let r = t[i].toString(16);
              (r.length < 2 && (r = "0" + r), (e += r));
            }
            return e;
          },
        },
        Tt = Math.pow(2, 32) - 1,
        St = [].push,
        _t = { video: 1, audio: 2, id3: 3, text: 4 };
      function wt(data) {
        return String.fromCharCode.apply(null, data);
      }
      function At(t, e) {
        const r = (t[e] << 8) | t[e + 1];
        return r < 0 ? 65536 + r : r;
      }
      function xt(t, e) {
        const r = Lt(t, e);
        return r < 0 ? 4294967296 + r : r;
      }
      function Lt(t, e) {
        return (t[e] << 24) | (t[e + 1] << 16) | (t[e + 2] << 8) | t[e + 3];
      }
      function kt(t, e, r) {
        ((t[e] = r >> 24),
          (t[e + 1] = (r >> 16) & 255),
          (t[e + 2] = (r >> 8) & 255),
          (t[e + 3] = 255 & r));
      }
      function Ct(data, path) {
        const t = [];
        if (!path.length) return t;
        const e = data.byteLength;
        for (let i = 0; i < e; ) {
          const r = xt(data, i),
            n = r > 1 ? i + r : e;
          if (wt(data.subarray(i + 4, i + 8)) === path[0])
            if (1 === path.length) t.push(data.subarray(i + 8, n));
            else {
              const e = Ct(data.subarray(i + 8, n), path.slice(1));
              e.length && St.apply(t, e);
            }
          i = n;
        }
        return t;
      }
      function Rt(t) {
        const e = [],
          r = t[0];
        let n = 8;
        const o = xt(t, n);
        n += 4;
        ((n += 0 === r ? 8 : 16), (n += 2));
        let l = t.length + 0;
        const c = At(t, n);
        n += 2;
        for (let i = 0; i < c; i++) {
          let r = n;
          const c = xt(t, r);
          r += 4;
          const h = 2147483647 & c;
          if (1 === (2147483648 & c) >>> 31)
            return (
              C.warn("SIDX has hierarchical references (not supported)"),
              null
            );
          const d = xt(t, r);
          ((r += 4),
            e.push({
              referenceSize: h,
              subsegmentDuration: d,
              info: { duration: d / o, start: l, end: l + h - 1 },
            }),
            (l += h),
            (r += 4),
            (n = r));
        }
        return {
          earliestPresentationTime: 0,
          timescale: o,
          version: r,
          referencesCount: c,
          references: e,
        };
      }
      function Ot(t) {
        const e = [],
          r = Ct(t, ["moov", "trak"]);
        for (let i = 0; i < r.length; i++) {
          const t = r[i],
            n = Ct(t, ["tkhd"])[0];
          if (n) {
            let r = n[0],
              o = 0 === r ? 12 : 20;
            const l = xt(n, o),
              c = Ct(t, ["mdia", "mdhd"])[0];
            if (c) {
              ((r = c[0]), (o = 0 === r ? 12 : 20));
              const n = xt(c, o),
                h = Ct(t, ["mdia", "hdlr"])[0];
              if (h) {
                const r = wt(h.subarray(8, 12)),
                  o = { soun: N.AUDIO, vide: N.VIDEO }[r];
                if (o) {
                  const r = Ct(t, ["mdia", "minf", "stbl", "stsd"])[0];
                  let c;
                  (r && (c = wt(r.subarray(12, 16))),
                    (e[l] = { timescale: n, type: o }),
                    (e[o] = { timescale: n, id: l, codec: c }));
                }
              }
            }
          }
        }
        return (
          Ct(t, ["moov", "mvex", "trex"]).forEach((t) => {
            const r = xt(t, 4),
              track = e[r];
            track &&
              (track.default = { duration: xt(t, 12), flags: xt(t, 20) });
          }),
          e
        );
      }
      function It(t) {
        const e = Ct(t, ["schm"])[0];
        if (e) {
          const r = wt(e.subarray(4, 8));
          if ("cbcs" === r || "cenc" === r) return Ct(t, ["schi", "tenc"])[0];
        }
        return (C.error("[eme] missing 'schm' box"), null);
      }
      function Pt(t) {
        const e = xt(t, 0);
        let r = 8;
        (1 & e && (r += 4), 4 & e && (r += 4));
        let n = 0;
        const o = xt(t, 4);
        for (let i = 0; i < o; i++) {
          if (256 & e) {
            ((n += xt(t, r)), (r += 4));
          }
          (512 & e && (r += 4), 1024 & e && (r += 4), 2048 & e && (r += 4));
        }
        return n;
      }
      function Ft(t, e) {
        const r = new Uint8Array(t.length + e.length);
        return (r.set(t), r.set(e, t.length), r);
      }
      function Mt(t, track) {
        const e = [],
          r = track.samples,
          n = track.timescale,
          o = track.id;
        let l = !1;
        return (
          Ct(r, ["moof"]).map((c) => {
            const h = c.byteOffset - 8;
            Ct(c, ["traf"]).map((c) => {
              const d = Ct(c, ["tfdt"]).map((t) => {
                const e = t[0];
                let r = xt(t, 4);
                return (
                  1 === e && ((r *= Math.pow(2, 32)), (r += xt(t, 8))),
                  r / n
                );
              })[0];
              return (
                void 0 !== d && (t = d),
                Ct(c, ["tfhd"]).map((d) => {
                  const f = xt(d, 4),
                    m = 16777215 & xt(d, 0);
                  let y = 0;
                  const v = 0 != (16 & m);
                  let E = 0;
                  const D = 0 != (32 & m);
                  let T = 8;
                  f === o &&
                    (0 != (1 & m) && (T += 8),
                    0 != (2 & m) && (T += 4),
                    0 != (8 & m) && ((y = xt(d, T)), (T += 4)),
                    v && ((E = xt(d, T)), (T += 4)),
                    D && (T += 4),
                    "video" === track.type &&
                      (l = (function (t) {
                        if (!t) return !1;
                        const e = t.indexOf("."),
                          r = e < 0 ? t : t.substring(0, e);
                        return (
                          "hvc1" === r ||
                          "hev1" === r ||
                          "dvh1" === r ||
                          "dvhe" === r
                        );
                      })(track.codec)),
                    Ct(c, ["trun"]).map((o) => {
                      const c = o[0],
                        d = 16777215 & xt(o, 0),
                        f = 0 != (1 & d);
                      let m = 0;
                      const v = 0 != (4 & d),
                        D = 0 != (256 & d);
                      let T = 0;
                      const S = 0 != (512 & d);
                      let _ = 0;
                      const w = 0 != (1024 & d),
                        A = 0 != (2048 & d);
                      let x = 0;
                      const L = xt(o, 4);
                      let k = 8;
                      (f && ((m = xt(o, k)), (k += 4)), v && (k += 4));
                      let C = m + h;
                      for (let h = 0; h < L; h++) {
                        if (
                          (D ? ((T = xt(o, k)), (k += 4)) : (T = y),
                          S ? ((_ = xt(o, k)), (k += 4)) : (_ = E),
                          w && (k += 4),
                          A && ((x = 0 === c ? xt(o, k) : Lt(o, k)), (k += 4)),
                          track.type === N.VIDEO)
                        ) {
                          let o = 0;
                          for (; o < _; ) {
                            const c = xt(r, C);
                            if (((C += 4), Nt(l, r[C]))) {
                              Bt(r.subarray(C, C + c), l ? 2 : 1, t + x / n, e);
                            }
                            ((C += c), (o += c + 4));
                          }
                        }
                        t += T / n;
                      }
                    }));
                })
              );
            });
          }),
          e
        );
      }
      function Nt(t, e) {
        if (t) {
          const t = (e >> 1) & 63;
          return 39 === t || 40 === t;
        }
        return 6 === (31 & e);
      }
      function Bt(t, e, r, n) {
        const data = Ut(t);
        let o = 0;
        o += e;
        let l = 0,
          c = 0,
          h = !1,
          b = 0;
        for (; o < data.length; ) {
          l = 0;
          do {
            if (o >= data.length) break;
            ((b = data[o++]), (l += b));
          } while (255 === b);
          c = 0;
          do {
            if (o >= data.length) break;
            ((b = data[o++]), (c += b));
          } while (255 === b);
          const t = data.length - o;
          if (!h && 4 === l && o < data.length) {
            h = !0;
            if (181 === data[o++]) {
              const t = At(data, o);
              if (((o += 2), 49 === t)) {
                const t = xt(data, o);
                if (((o += 4), 1195456820 === t)) {
                  const t = data[o++];
                  if (3 === t) {
                    const e = data[o++],
                      c = 64 & e,
                      h = c ? 2 + 3 * (31 & e) : 0,
                      d = new Uint8Array(h);
                    if (c) {
                      d[0] = e;
                      for (let i = 1; i < h; i++) d[i] = data[o++];
                    }
                    n.push({ type: t, payloadType: l, pts: r, bytes: d });
                  }
                }
              }
            }
          } else if (5 === l && c < t) {
            if (((h = !0), c > 16)) {
              const t = [];
              for (let i = 0; i < 16; i++) {
                const e = data[o++].toString(16);
                (t.push(1 == e.length ? "0" + e : e),
                  (3 !== i && 5 !== i && 7 !== i && 9 !== i) || t.push("-"));
              }
              const e = c - 16,
                h = new Uint8Array(e);
              for (let i = 0; i < e; i++) h[i] = data[o++];
              n.push({
                payloadType: l,
                pts: r,
                uuid: t.join(""),
                userData: vt(h),
                userDataBytes: h,
              });
            }
          } else if (c < t) o += c;
          else if (c > t) break;
        }
      }
      function Ut(data) {
        const t = data.byteLength,
          e = [];
        let i = 1;
        for (; i < t - 2; )
          0 === data[i] && 0 === data[i + 1] && 3 === data[i + 2]
            ? (e.push(i + 2), (i += 2))
            : i++;
        if (0 === e.length) return data;
        const r = t - e.length,
          n = new Uint8Array(r);
        let o = 0;
        for (i = 0; i < r; o++, i++)
          (o === e[0] && (o++, e.shift()), (n[i] = data[o]));
        return n;
      }
      function jt(t, e, data) {
        if (16 !== t.byteLength) throw new RangeError("Invalid system id");
        let r, n, o;
        if (e) {
          ((r = 1), (n = new Uint8Array(16 * e.length)));
          for (let t = 0; t < e.length; t++) {
            const r = e[t];
            if (16 !== r.byteLength) throw new RangeError("Invalid key");
            n.set(r, 16 * t);
          }
        } else ((r = 0), (n = new Uint8Array()));
        r > 0
          ? ((o = new Uint8Array(4)),
            e.length > 0 && new DataView(o.buffer).setUint32(0, e.length, !1))
          : (o = new Uint8Array());
        const l = new Uint8Array(4);
        return (
          data &&
            data.byteLength > 0 &&
            new DataView(l.buffer).setUint32(0, data.byteLength, !1),
          (function (t, ...e) {
            const r = e.length;
            let n = 8,
              i = r;
            for (; i--; ) n += e[i].byteLength;
            const o = new Uint8Array(n);
            for (
              o[0] = (n >> 24) & 255,
                o[1] = (n >> 16) & 255,
                o[2] = (n >> 8) & 255,
                o[3] = 255 & n,
                o.set(t, 4),
                i = 0,
                n = 8;
              i < r;
              i++
            )
              (o.set(e[i], n), (n += e[i].byteLength));
            return o;
          })(
            [112, 115, 115, 104],
            new Uint8Array([r, 0, 0, 0]),
            t,
            o,
            n,
            l,
            data || new Uint8Array(),
          )
        );
      }
      let $t = {};
      class Gt {
        static clearKeyUriToKeyIdMap() {
          $t = {};
        }
        constructor(t, e, r, n = [1], o = null) {
          ((this.uri = void 0),
            (this.method = void 0),
            (this.keyFormat = void 0),
            (this.keyFormatVersions = void 0),
            (this.encrypted = void 0),
            (this.isCommonEncryption = void 0),
            (this.iv = null),
            (this.key = null),
            (this.keyId = null),
            (this.pssh = null),
            (this.method = t),
            (this.uri = e),
            (this.keyFormat = r),
            (this.keyFormatVersions = n),
            (this.iv = o),
            (this.encrypted = !!t && "NONE" !== t),
            (this.isCommonEncryption = this.encrypted && "AES-128" !== t));
        }
        isSupported() {
          if (this.method) {
            if ("AES-128" === this.method || "NONE" === this.method) return !0;
            if ("identity" === this.keyFormat)
              return "SAMPLE-AES" === this.method;
            switch (this.keyFormat) {
              case z:
              case X:
              case W:
              case Y:
                return (
                  -1 !==
                  [
                    "ISO-23001-7",
                    "SAMPLE-AES",
                    "SAMPLE-AES-CENC",
                    "SAMPLE-AES-CTR",
                  ].indexOf(this.method)
                );
            }
          }
          return !1;
        }
        getDecryptData(t) {
          if (!this.encrypted || !this.uri) return null;
          if ("AES-128" === this.method && this.uri && !this.iv) {
            "number" != typeof t &&
              ("AES-128" !== this.method ||
                this.iv ||
                C.warn(
                  `missing IV for initialization segment with method="${this.method}" - compliance issue`,
                ),
              (t = 0));
            const e = (function (t) {
              const e = new Uint8Array(16);
              for (let i = 12; i < 16; i++) e[i] = (t >> (8 * (15 - i))) & 255;
              return e;
            })(t);
            return new Gt(
              this.method,
              this.uri,
              "identity",
              this.keyFormatVersions,
              e,
            );
          }
          const e = K(this.uri);
          if (e)
            switch (this.keyFormat) {
              case X:
                ((this.pssh = e),
                  e.length >= 22 &&
                    (this.keyId = e.subarray(e.length - 22, e.length - 6)));
                break;
              case W: {
                const t = new Uint8Array([
                  154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224,
                  136, 95, 149,
                ]);
                this.pssh = jt(t, null, e);
                const r = new Uint16Array(
                    e.buffer,
                    e.byteOffset,
                    e.byteLength / 2,
                  ),
                  n = String.fromCharCode.apply(null, Array.from(r)),
                  o = n.substring(n.indexOf("<"), n.length),
                  l = new DOMParser()
                    .parseFromString(o, "text/xml")
                    .getElementsByTagName("KID")[0];
                if (l) {
                  const t = l.childNodes[0]
                    ? l.childNodes[0].nodeValue
                    : l.getAttribute("VALUE");
                  if (t) {
                    const e = G(t).subarray(0, 16);
                    (!(function (t) {
                      const e = function (t, e, r) {
                        const n = t[e];
                        ((t[e] = t[r]), (t[r] = n));
                      };
                      (e(t, 0, 3), e(t, 1, 2), e(t, 4, 5), e(t, 6, 7));
                    })(e),
                      (this.keyId = e));
                  }
                }
                break;
              }
              default: {
                let t = e.subarray(0, 16);
                if (16 !== t.length) {
                  const e = new Uint8Array(16);
                  (e.set(t, 16 - t.length), (t = e));
                }
                this.keyId = t;
                break;
              }
            }
          if (!this.keyId || 16 !== this.keyId.byteLength) {
            let t = $t[this.uri];
            if (!t) {
              const e = Object.keys($t).length % Number.MAX_SAFE_INTEGER;
              t = new Uint8Array(16);
              (new DataView(t.buffer, 12, 4).setUint32(0, e),
                ($t[this.uri] = t));
            }
            this.keyId = t;
          }
          return this;
        }
      }
      const Kt = /\{\$([a-zA-Z0-9-_]+)\}/g;
      function Ht(t) {
        return Kt.test(t);
      }
      function Vt(t, e, r) {
        if (null !== t.variableList || t.hasVariableRefs)
          for (let i = r.length; i--; ) {
            const n = r[i],
              o = e[n];
            o && (e[n] = Yt(t, o));
          }
      }
      function Yt(t, e) {
        if (null !== t.variableList || t.hasVariableRefs) {
          const r = t.variableList;
          return e.replace(Kt, (e) => {
            const n = e.substring(2, e.length - 1),
              o = null == r ? void 0 : r[n];
            return void 0 === o
              ? (t.playlistParsingError ||
                  (t.playlistParsingError = new Error(
                    `Missing preceding EXT-X-DEFINE tag for Variable Reference: "${n}"`,
                  )),
                e)
              : o;
          });
        }
        return e;
      }
      function zt(t, e, r) {
        let n,
          o,
          l = t.variableList;
        if ((l || (t.variableList = l = {}), "QUERYPARAM" in e)) {
          n = e.QUERYPARAM;
          try {
            const t = new self.URL(r).searchParams;
            if (!t.has(n))
              throw new Error(
                `"${n}" does not match any query parameter in URI: "${r}"`,
              );
            o = t.get(n);
          } catch (e) {
            t.playlistParsingError ||
              (t.playlistParsingError = new Error(
                `EXT-X-DEFINE QUERYPARAM: ${e.message}`,
              ));
          }
        } else ((n = e.NAME), (o = e.VALUE));
        n in l
          ? t.playlistParsingError ||
            (t.playlistParsingError = new Error(
              `EXT-X-DEFINE duplicate Variable Name declarations: "${n}"`,
            ))
          : (l[n] = o || "");
      }
      function Wt(t, e, r) {
        const n = e.IMPORT;
        if (r && n in r) {
          let e = t.variableList;
          (e || (t.variableList = e = {}), (e[n] = r[n]));
        } else
          t.playlistParsingError ||
            (t.playlistParsingError = new Error(
              `EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`,
            ));
      }
      function qt() {
        if ("undefined" != typeof self)
          return self.MediaSource || self.WebKitMediaSource;
      }
      const Xt = {
          audio: {
            a3ds: !0,
            "ac-3": !0,
            "ac-4": !0,
            alac: !0,
            alaw: !0,
            dra1: !0,
            "dts+": !0,
            "dts-": !0,
            dtsc: !0,
            dtse: !0,
            dtsh: !0,
            "ec-3": !0,
            enca: !0,
            g719: !0,
            g726: !0,
            m4ae: !0,
            mha1: !0,
            mha2: !0,
            mhm1: !0,
            mhm2: !0,
            mlpa: !0,
            mp4a: !0,
            "raw ": !0,
            Opus: !0,
            opus: !0,
            samr: !0,
            sawb: !0,
            sawp: !0,
            sevc: !0,
            sqcp: !0,
            ssmv: !0,
            twos: !0,
            ulaw: !0,
          },
          video: {
            avc1: !0,
            avc2: !0,
            avc3: !0,
            avc4: !0,
            avcp: !0,
            av01: !0,
            drac: !0,
            dva1: !0,
            dvav: !0,
            dvh1: !0,
            dvhe: !0,
            encv: !0,
            hev1: !0,
            hvc1: !0,
            mjp2: !0,
            mp4v: !0,
            mvc1: !0,
            mvc2: !0,
            mvc3: !0,
            mvc4: !0,
            resv: !0,
            rv60: !0,
            s263: !0,
            svc1: !0,
            svc2: !0,
            "vc-1": !0,
            vp08: !0,
            vp09: !0,
          },
          text: { stpp: !0, wvtt: !0 },
        },
        Qt = qt();
      function Jt(t, e) {
        var r;
        return (
          null !=
            (r =
              null == Qt
                ? void 0
                : Qt.isTypeSupported(`${e || "video"}/mp4;codecs="${t}"`)) && r
        );
      }
      const Zt =
          /#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,
        te = /#EXT-X-MEDIA:(.*)/g,
        ee = /^#EXT(?:INF|-X-TARGETDURATION):/m,
        re = new RegExp(
          [
            /#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,
            /(?!#) *(\S[\S ]*)/.source,
            /#EXT-X-BYTERANGE:*(.+)/.source,
            /#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,
            /#.*/.source,
          ].join("|"),
          "g",
        ),
        ne = new RegExp(
          [
            /#(EXTM3U)/.source,
            /#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/
              .source,
            /#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/
              .source,
            /#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,
            /(#)([^:]*):(.*)/.source,
            /(#)(.*)(?:.*)\r?\n?/.source,
          ].join("|"),
        );
      class ie {
        static findGroup(t, e) {
          for (let i = 0; i < t.length; i++) {
            const r = t[i];
            if (r.id === e) return r;
          }
        }
        static convertAVC1ToAVCOTI(t) {
          const e = t.split(".");
          if (e.length > 2) {
            let t = e.shift() + ".";
            return (
              (t += parseInt(e.shift()).toString(16)),
              (t += ("000" + parseInt(e.shift()).toString(16)).slice(-4)),
              t
            );
          }
          return t;
        }
        static resolve(t, e) {
          return m.buildAbsoluteURL(e, t, { alwaysNormalize: !0 });
        }
        static isMediaPlaylist(t) {
          return ee.test(t);
        }
        static parseMasterPlaylist(t, e) {
          const r = {
              contentSteering: null,
              levels: [],
              playlistParsingError: null,
              sessionData: null,
              sessionKeys: null,
              startTimeOffset: null,
              variableList: null,
              hasVariableRefs: Ht(t),
            },
            n = [];
          let o;
          for (Zt.lastIndex = 0; null != (o = Zt.exec(t)); )
            if (o[1]) {
              var l;
              const t = new I(o[1]);
              Vt(r, t, [
                "CODECS",
                "SUPPLEMENTAL-CODECS",
                "ALLOWED-CPC",
                "PATHWAY-ID",
                "STABLE-VARIANT-ID",
                "AUDIO",
                "VIDEO",
                "SUBTITLES",
                "CLOSED-CAPTIONS",
                "NAME",
              ]);
              const c = Yt(r, o[2]),
                h = {
                  attrs: t,
                  bitrate:
                    t.decimalInteger("AVERAGE-BANDWIDTH") ||
                    t.decimalInteger("BANDWIDTH"),
                  name: t.NAME,
                  url: ie.resolve(c, e),
                },
                d = t.decimalResolution("RESOLUTION");
              (d && ((h.width = d.width), (h.height = d.height)),
                oe(
                  (t.CODECS || "").split(/[ ,]+/).filter((t) => t),
                  h,
                ),
                h.videoCodec &&
                  -1 !== h.videoCodec.indexOf("avc1") &&
                  (h.videoCodec = ie.convertAVC1ToAVCOTI(h.videoCodec)),
                (null != (l = h.unknownCodecs) && l.length) || n.push(h),
                r.levels.push(h));
            } else if (o[3]) {
              const t = o[3],
                n = o[4];
              switch (t) {
                case "SESSION-DATA": {
                  const t = new I(n);
                  Vt(r, t, ["DATA-ID", "LANGUAGE", "VALUE", "URI"]);
                  const e = t["DATA-ID"];
                  e &&
                    (null === r.sessionData && (r.sessionData = {}),
                    (r.sessionData[e] = t));
                  break;
                }
                case "SESSION-KEY": {
                  const t = se(n, e, r);
                  t.encrypted && t.isSupported()
                    ? (null === r.sessionKeys && (r.sessionKeys = []),
                      r.sessionKeys.push(t))
                    : C.warn(
                        `[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${n}"`,
                      );
                  break;
                }
                case "DEFINE":
                  {
                    const t = new I(n);
                    (Vt(r, t, ["NAME", "VALUE", "QUERYPARAM"]), zt(r, t, e));
                  }
                  break;
                case "CONTENT-STEERING": {
                  const t = new I(n);
                  (Vt(r, t, ["SERVER-URI", "PATHWAY-ID"]),
                    (r.contentSteering = {
                      uri: ie.resolve(t["SERVER-URI"], e),
                      pathwayId: t["PATHWAY-ID"] || ".",
                    }));
                  break;
                }
                case "START":
                  r.startTimeOffset = ae(n);
              }
            }
          const c = n.length > 0 && n.length < r.levels.length;
          return (
            (r.levels = c ? n : r.levels),
            0 === r.levels.length &&
              (r.playlistParsingError = new Error(
                "no levels found in manifest",
              )),
            r
          );
        }
        static parseMasterPlaylistMedia(t, e, r) {
          let n;
          const o = {},
            l = r.levels,
            c = {
              AUDIO: l.map((t) => ({
                id: t.attrs.AUDIO,
                audioCodec: t.audioCodec,
              })),
              SUBTITLES: l.map((t) => ({
                id: t.attrs.SUBTITLES,
                textCodec: t.textCodec,
              })),
              "CLOSED-CAPTIONS": [],
            };
          let h = 0;
          for (te.lastIndex = 0; null !== (n = te.exec(t)); ) {
            const t = new I(n[1]),
              l = t.TYPE;
            if (l) {
              const n = c[l],
                d = o[l] || [];
              ((o[l] = d),
                Vt(r, t, [
                  "URI",
                  "GROUP-ID",
                  "LANGUAGE",
                  "ASSOC-LANGUAGE",
                  "STABLE-RENDITION-ID",
                  "NAME",
                  "INSTREAM-ID",
                  "CHARACTERISTICS",
                  "CHANNELS",
                ]));
              const f = {
                attrs: t,
                bitrate: 0,
                id: h++,
                groupId: t["GROUP-ID"] || "",
                instreamId: t["INSTREAM-ID"],
                name: t.NAME || t.LANGUAGE || "",
                type: l,
                default: t.bool("DEFAULT"),
                autoselect: t.bool("AUTOSELECT"),
                forced: t.bool("FORCED"),
                lang: t.LANGUAGE,
                url: t.URI ? ie.resolve(t.URI, e) : "",
              };
              if (null != n && n.length) {
                const t = ie.findGroup(n, f.groupId) || n[0];
                (le(f, t, "audioCodec"), le(f, t, "textCodec"));
              }
              d.push(f);
            }
          }
          return o;
        }
        static parseLevelPlaylist(t, e, r, n, o, l) {
          const c = new $(e),
            h = c.fragments;
          let d,
            i,
            f,
            m = null,
            y = 0,
            v = 0,
            E = 0,
            S = 0,
            _ = null,
            w = new U(n, e),
            A = -1,
            x = !1;
          for (
            re.lastIndex = 0, c.m3u8 = t, c.hasVariableRefs = Ht(t);
            null !== (d = re.exec(t));
          ) {
            x &&
              ((x = !1),
              (w = new U(n, e)),
              (w.start = E),
              (w.sn = y),
              (w.cc = S),
              (w.level = r),
              m &&
                ((w.initSegment = m),
                (w.rawProgramDateTime = m.rawProgramDateTime),
                (m.rawProgramDateTime = null)));
            const t = d[1];
            if (t) {
              w.duration = parseFloat(t);
              const title = (" " + d[2]).slice(1);
              ((w.title = title || null),
                w.tagList.push(title ? ["INF", t, title] : ["INF", t]));
            } else if (d[3]) {
              if (T(w.duration)) {
                ((w.start = E),
                  f && he(w, f, c),
                  (w.sn = y),
                  (w.level = r),
                  (w.cc = S),
                  (w.urlId = o),
                  h.push(w));
                const t = (" " + d[3]).slice(1);
                ((w.relurl = Yt(c, t)),
                  ue(w, _),
                  (_ = w),
                  (E += w.duration),
                  y++,
                  (v = 0),
                  (x = !0));
              }
            } else if (d[4]) {
              const data = (" " + d[4]).slice(1);
              _ ? w.setByteRange(data, _) : w.setByteRange(data);
            } else if (d[5])
              ((w.rawProgramDateTime = (" " + d[5]).slice(1)),
                w.tagList.push(["PROGRAM-DATE-TIME", w.rawProgramDateTime]),
                -1 === A && (A = h.length));
            else {
              if (((d = d[0].match(ne)), !d)) {
                C.warn("No matches on slow regex match for level playlist!");
                continue;
              }
              for (i = 1; i < d.length && void 0 === d[i]; i++);
              const t = (" " + d[i]).slice(1),
                o = (" " + d[i + 1]).slice(1),
                E = d[i + 2] ? (" " + d[i + 2]).slice(1) : "";
              switch (t) {
                case "PLAYLIST-TYPE":
                  c.type = o.toUpperCase();
                  break;
                case "MEDIA-SEQUENCE":
                  y = c.startSN = parseInt(o);
                  break;
                case "SKIP": {
                  const t = new I(o);
                  Vt(c, t, ["RECENTLY-REMOVED-DATERANGES"]);
                  const e = t.decimalInteger("SKIPPED-SEGMENTS");
                  if (T(e)) {
                    c.skippedSegments = e;
                    for (let t = e; t--; ) h.unshift(null);
                    y += e;
                  }
                  const r = t.enumeratedString("RECENTLY-REMOVED-DATERANGES");
                  r && (c.recentlyRemovedDateranges = r.split("\t"));
                  break;
                }
                case "TARGETDURATION":
                  c.targetduration = Math.max(parseInt(o), 1);
                  break;
                case "VERSION":
                  c.version = parseInt(o);
                  break;
                case "EXTM3U":
                  break;
                case "ENDLIST":
                  c.live = !1;
                  break;
                case "#":
                  (o || E) && w.tagList.push(E ? [o, E] : [o]);
                  break;
                case "DISCONTINUITY":
                  (S++, w.tagList.push(["DIS"]));
                  break;
                case "GAP":
                  ((w.gap = !0), w.tagList.push([t]));
                  break;
                case "BITRATE":
                  w.tagList.push([t, o]);
                  break;
                case "DATERANGE": {
                  const t = new I(o);
                  (Vt(c, t, [
                    "ID",
                    "CLASS",
                    "START-DATE",
                    "END-DATE",
                    "SCTE35-CMD",
                    "SCTE35-OUT",
                    "SCTE35-IN",
                  ]),
                    Vt(c, t, t.clientAttrs));
                  const e = new F(t, c.dateRanges[t.ID]);
                  (e.isValid || c.skippedSegments
                    ? (c.dateRanges[e.id] = e)
                    : C.warn(`Ignoring invalid DATERANGE tag: "${o}"`),
                    w.tagList.push(["EXT-X-DATERANGE", o]));
                  break;
                }
                case "DEFINE":
                  {
                    const t = new I(o);
                    (Vt(c, t, ["NAME", "VALUE", "IMPORT", "QUERYPARAM"]),
                      "IMPORT" in t ? Wt(c, t, l) : zt(c, t, e));
                  }
                  break;
                case "DISCONTINUITY-SEQUENCE":
                  S = parseInt(o);
                  break;
                case "KEY": {
                  const t = se(o, e, c);
                  if (t.isSupported()) {
                    if ("NONE" === t.method) {
                      f = void 0;
                      break;
                    }
                    (f || (f = {}),
                      f[t.keyFormat] && (f = D({}, f)),
                      (f[t.keyFormat] = t));
                  } else
                    C.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${o}"`);
                  break;
                }
                case "START":
                  c.startTimeOffset = ae(o);
                  break;
                case "MAP": {
                  const t = new I(o);
                  if ((Vt(c, t, ["BYTERANGE", "URI"]), w.duration)) {
                    const o = new U(n, e);
                    (ce(o, t, r, f),
                      (m = o),
                      (w.initSegment = m),
                      m.rawProgramDateTime &&
                        !w.rawProgramDateTime &&
                        (w.rawProgramDateTime = m.rawProgramDateTime));
                  } else (ce(w, t, r, f), (m = w), (x = !0));
                  break;
                }
                case "SERVER-CONTROL": {
                  const t = new I(o);
                  ((c.canBlockReload = t.bool("CAN-BLOCK-RELOAD")),
                    (c.canSkipUntil = t.optionalFloat("CAN-SKIP-UNTIL", 0)),
                    (c.canSkipDateRanges =
                      c.canSkipUntil > 0 && t.bool("CAN-SKIP-DATERANGES")),
                    (c.partHoldBack = t.optionalFloat("PART-HOLD-BACK", 0)),
                    (c.holdBack = t.optionalFloat("HOLD-BACK", 0)));
                  break;
                }
                case "PART-INF": {
                  const t = new I(o);
                  c.partTarget = t.decimalFloatingPoint("PART-TARGET");
                  break;
                }
                case "PART": {
                  let t = c.partList;
                  t || (t = c.partList = []);
                  const r = v > 0 ? t[t.length - 1] : void 0,
                    n = v++,
                    l = new I(o);
                  Vt(c, l, ["BYTERANGE", "URI"]);
                  const h = new j(l, w, e, n, r);
                  (t.push(h), (w.duration += h.duration));
                  break;
                }
                case "PRELOAD-HINT": {
                  const t = new I(o);
                  (Vt(c, t, ["URI"]), (c.preloadHint = t));
                  break;
                }
                case "RENDITION-REPORT": {
                  const t = new I(o);
                  (Vt(c, t, ["URI"]),
                    (c.renditionReports = c.renditionReports || []),
                    c.renditionReports.push(t));
                  break;
                }
                default:
                  C.warn(`line parsed but not handled: ${d}`);
              }
            }
          }
          _ && !_.relurl
            ? (h.pop(), (E -= _.duration), c.partList && (c.fragmentHint = _))
            : c.partList &&
              (ue(w, _), (w.cc = S), (c.fragmentHint = w), f && he(w, f, c));
          const L = h.length,
            k = h[0],
            R = h[L - 1];
          if (((E += c.skippedSegments * c.targetduration), E > 0 && L && R)) {
            c.averagetargetduration = E / L;
            const t = R.sn;
            ((c.endSN = "initSegment" !== t ? t : 0),
              c.live || (R.endList = !0),
              k && (c.startCC = k.cc));
          } else ((c.endSN = 0), (c.startCC = 0));
          return (
            c.fragmentHint && (E += c.fragmentHint.duration),
            (c.totalduration = E),
            (c.endCC = S),
            A > 0 &&
              (function (t, e) {
                let r = t[e];
                for (let i = e; i--; ) {
                  const e = t[i];
                  if (!e) return;
                  ((e.programDateTime = r.programDateTime - 1e3 * e.duration),
                    (r = e));
                }
              })(h, A),
            c
          );
        }
      }
      function se(t, e, r) {
        var n, o;
        const l = new I(t);
        Vt(r, l, ["KEYFORMAT", "KEYFORMATVERSIONS", "URI", "IV", "URI"]);
        const c = null != (n = l.METHOD) ? n : "",
          h = l.URI,
          d = l.hexadecimalInteger("IV"),
          f = l.KEYFORMATVERSIONS,
          m = null != (o = l.KEYFORMAT) ? o : "identity";
        h && l.IV && !d && C.error(`Invalid IV: ${l.IV}`);
        const y = h ? ie.resolve(h, e) : "",
          v = (f || "1").split("/").map(Number).filter(Number.isFinite);
        return new Gt(c, y, m, v, d);
      }
      function ae(t) {
        const e = new I(t).decimalFloatingPoint("TIME-OFFSET");
        return T(e) ? e : null;
      }
      function oe(t, e) {
        (["video", "audio", "text"].forEach((r) => {
          const n = t.filter((t) =>
            (function (t, e) {
              const r = Xt[e];
              return !!r && !0 === r[t.slice(0, 4)];
            })(t, r),
          );
          if (n.length) {
            const o = n.filter(
              (t) =>
                0 === t.lastIndexOf("avc1", 0) ||
                0 === t.lastIndexOf("mp4a", 0),
            );
            ((e[`${r}Codec`] = o.length > 0 ? o[0] : n[0]),
              (t = t.filter((t) => -1 === n.indexOf(t))));
          }
        }),
          (e.unknownCodecs = t));
      }
      function le(t, e, r) {
        const n = e[r];
        n && (t[r] = n);
      }
      function ue(t, e) {
        (t.rawProgramDateTime
          ? (t.programDateTime = Date.parse(t.rawProgramDateTime))
          : null != e &&
            e.programDateTime &&
            (t.programDateTime = e.endProgramDateTime),
          T(t.programDateTime) ||
            ((t.programDateTime = null), (t.rawProgramDateTime = null)));
      }
      function ce(t, e, r, n) {
        ((t.relurl = e.URI),
          e.BYTERANGE && t.setByteRange(e.BYTERANGE),
          (t.level = r),
          (t.sn = "initSegment"),
          n && (t.levelkeys = n),
          (t.initSegment = null));
      }
      function he(t, e, r) {
        t.levelkeys = e;
        const { encryptedFragments: n } = r;
        (n.length && n[n.length - 1].levelkeys === e) ||
          !Object.keys(e).some((t) => e[t].isCommonEncryption) ||
          n.push(t);
      }
      var de = {
          MANIFEST: "manifest",
          LEVEL: "level",
          AUDIO_TRACK: "audioTrack",
          SUBTITLE_TRACK: "subtitleTrack",
        },
        fe = { MAIN: "main", AUDIO: "audio", SUBTITLE: "subtitle" };
      function pe(t) {
        const { type: e } = t;
        switch (e) {
          case de.AUDIO_TRACK:
            return fe.AUDIO;
          case de.SUBTITLE_TRACK:
            return fe.SUBTITLE;
          default:
            return fe.MAIN;
        }
      }
      function ge(t, e) {
        let r = t.url;
        return ((void 0 !== r && 0 !== r.indexOf("data:")) || (r = e.url), r);
      }
      class me {
        constructor(t) {
          ((this.hls = void 0),
            (this.loaders = Object.create(null)),
            (this.variableList = null),
            (this.hls = t),
            this.registerListeners());
        }
        startLoad(t) {}
        stopLoad() {
          this.destroyInternalLoaders();
        }
        registerListeners() {
          const { hls: t } = this;
          (t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
            t.on(S.LEVEL_LOADING, this.onLevelLoading, this),
            t.on(S.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this),
            t.on(S.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this));
        }
        unregisterListeners() {
          const { hls: t } = this;
          (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
            t.off(S.LEVEL_LOADING, this.onLevelLoading, this),
            t.off(S.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this),
            t.off(S.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this));
        }
        createInternalLoader(t) {
          const e = this.hls.config,
            r = e.pLoader,
            n = e.loader,
            o = new (r || n)(e);
          return ((this.loaders[t.type] = o), o);
        }
        getInternalLoader(t) {
          return this.loaders[t.type];
        }
        resetInternalLoader(t) {
          this.loaders[t] && delete this.loaders[t];
        }
        destroyInternalLoaders() {
          for (const t in this.loaders) {
            const e = this.loaders[t];
            (e && e.destroy(), this.resetInternalLoader(t));
          }
        }
        destroy() {
          ((this.variableList = null),
            this.unregisterListeners(),
            this.destroyInternalLoaders());
        }
        onManifestLoading(t, data) {
          const { url: e } = data;
          ((this.variableList = null),
            this.load({
              id: null,
              level: 0,
              responseType: "text",
              type: de.MANIFEST,
              url: e,
              deliveryDirectives: null,
            }));
        }
        onLevelLoading(t, data) {
          const { id: e, level: r, url: n, deliveryDirectives: o } = data;
          this.load({
            id: e,
            level: r,
            responseType: "text",
            type: de.LEVEL,
            url: n,
            deliveryDirectives: o,
          });
        }
        onAudioTrackLoading(t, data) {
          const { id: e, groupId: r, url: n, deliveryDirectives: o } = data;
          this.load({
            id: e,
            groupId: r,
            level: null,
            responseType: "text",
            type: de.AUDIO_TRACK,
            url: n,
            deliveryDirectives: o,
          });
        }
        onSubtitleTrackLoading(t, data) {
          const { id: e, groupId: r, url: n, deliveryDirectives: o } = data;
          this.load({
            id: e,
            groupId: r,
            level: null,
            responseType: "text",
            type: de.SUBTITLE_TRACK,
            url: n,
            deliveryDirectives: o,
          });
        }
        load(t) {
          var e;
          const r = this.hls.config;
          let n,
            o = this.getInternalLoader(t);
          if (o) {
            const e = o.context;
            if (e && e.url === t.url)
              return void C.trace(
                "[playlist-loader]: playlist request ongoing",
              );
            (C.log(
              `[playlist-loader]: aborting previous loader for type: ${t.type}`,
            ),
              o.abort());
          }
          if (
            ((n =
              t.type === de.MANIFEST
                ? r.manifestLoadPolicy.default
                : D({}, r.playlistLoadPolicy.default, {
                    timeoutRetry: null,
                    errorRetry: null,
                  })),
            (o = this.createInternalLoader(t)),
            null != (e = t.deliveryDirectives) && e.part)
          ) {
            let e;
            if (
              (t.type === de.LEVEL && null !== t.level
                ? (e = this.hls.levels[t.level].details)
                : t.type === de.AUDIO_TRACK && null !== t.id
                  ? (e = this.hls.audioTracks[t.id].details)
                  : t.type === de.SUBTITLE_TRACK &&
                    null !== t.id &&
                    (e = this.hls.subtitleTracks[t.id].details),
              e)
            ) {
              const t = e.partTarget,
                r = e.targetduration;
              if (t && r) {
                const e = 1e3 * Math.max(3 * t, 0.8 * r);
                n = D({}, n, {
                  maxTimeToFirstByteMs: Math.min(e, n.maxTimeToFirstByteMs),
                  maxLoadTimeMs: Math.min(e, n.maxTimeToFirstByteMs),
                });
              }
            }
          }
          const l = n.errorRetry || n.timeoutRetry || {},
            c = {
              loadPolicy: n,
              timeout: n.maxLoadTimeMs,
              maxRetry: l.maxNumRetry || 0,
              retryDelay: l.retryDelayMs || 0,
              maxRetryDelay: l.maxRetryDelayMs || 0,
            },
            h = {
              onSuccess: (t, e, r, n) => {
                const o = this.getInternalLoader(r);
                this.resetInternalLoader(r.type);
                const l = t.data;
                0 === l.indexOf("#EXTM3U")
                  ? ((e.parsing.start = performance.now()),
                    ie.isMediaPlaylist(l)
                      ? this.handleTrackOrLevelPlaylist(t, e, r, n || null, o)
                      : this.handleMasterPlaylist(t, e, r, n))
                  : this.handleManifestParsingError(
                      t,
                      r,
                      new Error("no EXTM3U delimiter"),
                      n || null,
                      e,
                    );
              },
              onError: (t, e, r, n) => {
                this.handleNetworkError(e, r, !1, t, n);
              },
              onTimeout: (t, e, r) => {
                this.handleNetworkError(e, r, !0, void 0, t);
              },
            };
          o.load(t, c, h);
        }
        handleMasterPlaylist(t, e, r, n) {
          const o = this.hls,
            l = t.data,
            c = ge(t, r),
            h = ie.parseMasterPlaylist(l, c);
          if (h.playlistParsingError)
            return void this.handleManifestParsingError(
              t,
              r,
              h.playlistParsingError,
              n,
              e,
            );
          const {
            contentSteering: d,
            levels: f,
            sessionData: m,
            sessionKeys: y,
            startTimeOffset: v,
            variableList: E,
          } = h;
          this.variableList = E;
          const {
            AUDIO: D = [],
            SUBTITLES: T,
            "CLOSED-CAPTIONS": _,
          } = ie.parseMasterPlaylistMedia(l, c, h);
          if (D.length) {
            D.some((t) => !t.url) ||
              !f[0].audioCodec ||
              f[0].attrs.AUDIO ||
              (C.log(
                "[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one",
              ),
              D.unshift({
                type: "main",
                name: "main",
                groupId: "main",
                default: !1,
                autoselect: !1,
                forced: !1,
                id: -1,
                attrs: new I({}),
                bitrate: 0,
                url: "",
              }));
          }
          o.trigger(S.MANIFEST_LOADED, {
            levels: f,
            audioTracks: D,
            subtitles: T,
            captions: _,
            contentSteering: d,
            url: c,
            stats: e,
            networkDetails: n,
            sessionData: m,
            sessionKeys: y,
            startTimeOffset: v,
            variableList: E,
          });
        }
        handleTrackOrLevelPlaylist(t, e, r, n, o) {
          const l = this.hls,
            { id: c, level: h, type: d } = r,
            f = ge(t, r),
            m = T(c) ? c : 0,
            y = T(h) ? h : m,
            v = pe(r),
            E = ie.parseLevelPlaylist(t.data, f, y, v, m, this.variableList);
          if (d === de.MANIFEST) {
            const t = {
              attrs: new I({}),
              bitrate: 0,
              details: E,
              name: "",
              url: f,
            };
            l.trigger(S.MANIFEST_LOADED, {
              levels: [t],
              audioTracks: [],
              url: f,
              stats: e,
              networkDetails: n,
              sessionData: null,
              sessionKeys: null,
              contentSteering: null,
              startTimeOffset: null,
              variableList: null,
            });
          }
          ((e.parsing.end = performance.now()),
            (r.levelDetails = E),
            this.handlePlaylistLoaded(E, t, e, r, n, o));
        }
        handleManifestParsingError(t, e, r, n, o) {
          this.hls.trigger(S.ERROR, {
            type: _.NETWORK_ERROR,
            details: w.MANIFEST_PARSING_ERROR,
            fatal: e.type === de.MANIFEST,
            url: t.url,
            err: r,
            error: r,
            reason: r.message,
            response: t,
            context: e,
            networkDetails: n,
            stats: o,
          });
        }
        handleNetworkError(t, e, r = !1, n, o) {
          let l = `A network ${r ? "timeout" : "error" + (n ? " (status " + n.code + ")" : "")} occurred while loading ${t.type}`;
          t.type === de.LEVEL
            ? (l += `: ${t.level} id: ${t.id}`)
            : (t.type !== de.AUDIO_TRACK && t.type !== de.SUBTITLE_TRACK) ||
              (l += ` id: ${t.id} group-id: "${t.groupId}"`);
          const c = new Error(l);
          C.warn(`[playlist-loader]: ${l}`);
          let details = w.UNKNOWN,
            h = !1;
          const d = this.getInternalLoader(t);
          switch (t.type) {
            case de.MANIFEST:
              ((details = r ? w.MANIFEST_LOAD_TIMEOUT : w.MANIFEST_LOAD_ERROR),
                (h = !0));
              break;
            case de.LEVEL:
              ((details = r ? w.LEVEL_LOAD_TIMEOUT : w.LEVEL_LOAD_ERROR),
                (h = !1));
              break;
            case de.AUDIO_TRACK:
              ((details = r
                ? w.AUDIO_TRACK_LOAD_TIMEOUT
                : w.AUDIO_TRACK_LOAD_ERROR),
                (h = !1));
              break;
            case de.SUBTITLE_TRACK:
              ((details = r
                ? w.SUBTITLE_TRACK_LOAD_TIMEOUT
                : w.SUBTITLE_LOAD_ERROR),
                (h = !1));
          }
          d && this.resetInternalLoader(t.type);
          const f = {
            type: _.NETWORK_ERROR,
            details: details,
            fatal: h,
            url: t.url,
            loader: d,
            context: t,
            error: c,
            networkDetails: e,
            stats: o,
          };
          if (n) {
            const r = (null == e ? void 0 : e.url) || t.url;
            f.response = v({ url: r, data: void 0 }, n);
          }
          this.hls.trigger(S.ERROR, f);
        }
        handlePlaylistLoaded(t, e, r, n, o, l) {
          const c = this.hls,
            { type: h, level: d, id: f, groupId: m, deliveryDirectives: y } = n,
            v = ge(e, n),
            E = pe(n),
            D = "number" == typeof n.level && E === fe.MAIN ? d : void 0;
          if (!t.fragments.length) {
            const t = new Error("No Segments found in Playlist");
            return void c.trigger(S.ERROR, {
              type: _.NETWORK_ERROR,
              details: w.LEVEL_EMPTY_ERROR,
              fatal: !1,
              url: v,
              error: t,
              reason: t.message,
              response: e,
              context: n,
              level: D,
              parent: E,
              networkDetails: o,
              stats: r,
            });
          }
          t.targetduration ||
            (t.playlistParsingError = new Error("Missing Target Duration"));
          const T = t.playlistParsingError;
          if (T)
            c.trigger(S.ERROR, {
              type: _.NETWORK_ERROR,
              details: w.LEVEL_PARSING_ERROR,
              fatal: !1,
              url: v,
              error: T,
              reason: T.message,
              response: e,
              context: n,
              level: D,
              parent: E,
              networkDetails: o,
              stats: r,
            });
          else
            switch (
              (t.live &&
                l &&
                (l.getCacheAge && (t.ageHeader = l.getCacheAge() || 0),
                (l.getCacheAge && !isNaN(t.ageHeader)) || (t.ageHeader = 0)),
              h)
            ) {
              case de.MANIFEST:
              case de.LEVEL:
                c.trigger(S.LEVEL_LOADED, {
                  details: t,
                  level: D || 0,
                  id: f || 0,
                  stats: r,
                  networkDetails: o,
                  deliveryDirectives: y,
                });
                break;
              case de.AUDIO_TRACK:
                c.trigger(S.AUDIO_TRACK_LOADED, {
                  details: t,
                  id: f || 0,
                  groupId: m || "",
                  stats: r,
                  networkDetails: o,
                  deliveryDirectives: y,
                });
                break;
              case de.SUBTITLE_TRACK:
                c.trigger(S.SUBTITLE_TRACK_LOADED, {
                  details: t,
                  id: f || 0,
                  groupId: m || "",
                  stats: r,
                  networkDetails: o,
                  deliveryDirectives: y,
                });
            }
        }
      }
      function ye(track, t) {
        let e;
        try {
          e = new Event("addtrack");
        } catch (t) {
          ((e = document.createEvent("Event")),
            e.initEvent("addtrack", !1, !1));
        }
        ((e.track = track), t.dispatchEvent(e));
      }
      function ve(track, t) {
        const e = track.mode;
        if (
          ("disabled" === e && (track.mode = "hidden"),
          track.cues && !track.cues.getCueById(t.id))
        )
          try {
            if ((track.addCue(t), !track.cues.getCueById(t.id)))
              throw new Error(`addCue is failed for: ${t}`);
          } catch (e) {
            C.debug(`[texttrack-utils]: ${e}`);
            try {
              const e = new self.TextTrackCue(t.startTime, t.endTime, t.text);
              ((e.id = t.id), track.addCue(e));
            } catch (t) {
              C.debug(
                `[texttrack-utils]: Legacy TextTrackCue fallback failed: ${t}`,
              );
            }
          }
        "disabled" === e && (track.mode = e);
      }
      function be(track) {
        const t = track.mode;
        if (("disabled" === t && (track.mode = "hidden"), track.cues))
          for (let i = track.cues.length; i--; ) track.removeCue(track.cues[i]);
        "disabled" === t && (track.mode = t);
      }
      function Ee(track, t, e, r) {
        const n = track.mode;
        if (
          ("disabled" === n && (track.mode = "hidden"),
          track.cues && track.cues.length > 0)
        ) {
          const n = (function (t, e, r) {
            const n = [],
              o = (function (t, time) {
                if (time < t[0].startTime) return 0;
                const e = t.length - 1;
                if (time > t[e].endTime) return -1;
                let r = 0,
                  n = e;
                for (; r <= n; ) {
                  const o = Math.floor((n + r) / 2);
                  if (time < t[o].startTime) n = o - 1;
                  else {
                    if (!(time > t[o].startTime && r < e)) return o;
                    r = o + 1;
                  }
                }
                return t[r].startTime - time < time - t[n].startTime ? r : n;
              })(t, e);
            if (o > -1)
              for (let i = o, l = t.length; i < l; i++) {
                const o = t[i];
                if (o.startTime >= e && o.endTime <= r) n.push(o);
                else if (o.startTime > r) return n;
              }
            return n;
          })(track.cues, t, e);
          for (let i = 0; i < n.length; i++)
            (r && !r(n[i])) || track.removeCue(n[i]);
        }
        "disabled" === n && (track.mode = n);
      }
      var De = "org.id3",
        Te = "com.apple.quicktime.HLS",
        Se = "https://aomedia.org/emsg/ID3";
      function _e() {
        if ("undefined" != typeof self)
          return self.WebKitDataCue || self.VTTCue || self.TextTrackCue;
      }
      const we = (() => {
        const t = _e();
        try {
          new t(0, Number.POSITIVE_INFINITY, "");
        } catch (t) {
          return Number.MAX_VALUE;
        }
        return Number.POSITIVE_INFINITY;
      })();
      function Ae(t, e) {
        return t.getTime() / 1e3 - e;
      }
      class xe {
        constructor(t) {
          ((this.hls = void 0),
            (this.id3Track = null),
            (this.media = null),
            (this.dateRangeCuesAppended = {}),
            (this.hls = t),
            this._registerListeners());
        }
        destroy() {
          (this._unregisterListeners(),
            (this.id3Track = null),
            (this.media = null),
            (this.dateRangeCuesAppended = {}),
            (this.hls = null));
        }
        _registerListeners() {
          const { hls: t } = this;
          (t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this),
            t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
            t.on(S.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this),
            t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this),
            t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this));
        }
        _unregisterListeners() {
          const { hls: t } = this;
          (t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this),
            t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
            t.off(S.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this),
            t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this),
            t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this));
        }
        onMediaAttached(t, data) {
          this.media = data.media;
        }
        onMediaDetaching() {
          this.id3Track &&
            (be(this.id3Track),
            (this.id3Track = null),
            (this.media = null),
            (this.dateRangeCuesAppended = {}));
        }
        onManifestLoading() {
          this.dateRangeCuesAppended = {};
        }
        createTrack(t) {
          const track = this.getID3Track(t.textTracks);
          return ((track.mode = "hidden"), track);
        }
        getID3Track(t) {
          if (this.media) {
            for (let i = 0; i < t.length; i++) {
              const e = t[i];
              if ("metadata" === e.kind && "id3" === e.label)
                return (ye(e, this.media), e);
            }
            return this.media.addTextTrack("metadata", "id3");
          }
        }
        onFragParsingMetadata(t, data) {
          if (!this.media) return;
          const {
            hls: {
              config: { enableEmsgMetadataCues: e, enableID3MetadataCues: r },
            },
          } = this;
          if (!e && !r) return;
          const { samples: n } = data;
          this.id3Track || (this.id3Track = this.createTrack(this.media));
          const o = _e();
          for (let i = 0; i < n.length; i++) {
            const t = n[i].type;
            if ((t === Se && !e) || !r) continue;
            const l = ht(n[i].data);
            if (l) {
              const e = n[i].pts;
              let r = e + n[i].duration;
              r > we && (r = we);
              r - e <= 0 && (r = e + 0.25);
              for (let n = 0; n < l.length; n++) {
                const c = l[n];
                if (!ut(c)) {
                  this.updateId3CueEnds(e, t);
                  const n = new o(e, r, "");
                  ((n.value = c), t && (n.type = t), this.id3Track.addCue(n));
                }
              }
            }
          }
        }
        updateId3CueEnds(t, e) {
          var r;
          const n = null == (r = this.id3Track) ? void 0 : r.cues;
          if (n)
            for (let i = n.length; i--; ) {
              const r = n[i];
              r.type === e &&
                r.startTime < t &&
                r.endTime === we &&
                (r.endTime = t);
            }
        }
        onBufferFlushing(t, { startOffset: e, endOffset: r, type: n }) {
          const { id3Track: o, hls: l } = this;
          if (!l) return;
          const {
            config: { enableEmsgMetadataCues: c, enableID3MetadataCues: h },
          } = l;
          if (o && (c || h)) {
            let t;
            ((t =
              "audio" === n
                ? (t) => t.type === De && h
                : "video" === n
                  ? (t) => t.type === Se && c
                  : (t) => (t.type === De && h) || (t.type === Se && c)),
              Ee(o, e, r, t));
          }
        }
        onLevelUpdated(t, { details: details }) {
          if (
            !this.media ||
            !details.hasProgramDateTime ||
            !this.hls.config.enableDateRangeMetadataCues
          )
            return;
          const { dateRangeCuesAppended: e, id3Track: r } = this,
            { dateRanges: n } = details,
            o = Object.keys(n);
          if (r) {
            const t = Object.keys(e).filter((t) => !o.includes(t));
            for (let i = t.length; i--; ) {
              const n = t[i];
              (Object.keys(e[n].cues).forEach((t) => {
                r.removeCue(e[n].cues[t]);
              }),
                delete e[n]);
            }
          }
          const l = details.fragments[details.fragments.length - 1];
          if (0 === o.length || !T(null == l ? void 0 : l.programDateTime))
            return;
          this.id3Track || (this.id3Track = this.createTrack(this.media));
          const c = l.programDateTime / 1e3 - l.start,
            h = _e();
          for (let i = 0; i < o.length; i++) {
            const t = o[i],
              r = n[t],
              l = e[t],
              m = (null == l ? void 0 : l.cues) || {};
            let y = (null == l ? void 0 : l.durationKnown) || !1;
            const v = Ae(r.startDate, c);
            let E = we;
            const D = r.endDate;
            if (D) ((E = Ae(D, c)), (y = !0));
            else if (r.endOnNext && !y) {
              const t = o
                .reduce((t, e) => {
                  const o = n[e];
                  return (
                    o.class === r.class &&
                      o.id !== e &&
                      o.startDate > r.startDate &&
                      t.push(o),
                    t
                  );
                }, [])
                .sort(
                  (a, b) => a.startDate.getTime() - b.startDate.getTime(),
                )[0];
              t && ((E = Ae(t.startDate, c)), (y = !0));
            }
            const T = Object.keys(r.attr);
            for (let e = 0; e < T.length; e++) {
              const n = T[e];
              if (
                "ID" === (f = n) ||
                "CLASS" === f ||
                "START-DATE" === f ||
                "DURATION" === f ||
                "END-DATE" === f ||
                "END-ON-NEXT" === f
              )
                continue;
              let o = m[n];
              if (o) y && !l.durationKnown && (o.endTime = E);
              else {
                let data = r.attr[n];
                ((o = new h(v, E, "")),
                  P(n) &&
                    ((d = data),
                    (data = Uint8Array.from(
                      d
                        .replace(/^0x/, "")
                        .replace(/([\da-fA-F]{2}) ?/g, "0x$1 ")
                        .replace(/ +$/, "")
                        .split(" "),
                    ).buffer)),
                  (o.value = { key: n, data: data }),
                  (o.type = Te),
                  (o.id = t),
                  this.id3Track.addCue(o),
                  (m[n] = o));
              }
            }
            e[t] = { cues: m, dateRange: r, durationKnown: y };
          }
          var d, f;
        }
      }
      class Le {
        constructor(t) {
          ((this.hls = void 0),
            (this.config = void 0),
            (this.media = null),
            (this.levelDetails = null),
            (this.currentTime = 0),
            (this.stallCount = 0),
            (this._latency = null),
            (this.timeupdateHandler = () => this.timeupdate()),
            (this.hls = t),
            (this.config = t.config),
            this.registerListeners());
        }
        get latency() {
          return this._latency || 0;
        }
        get maxLatency() {
          const { config: t, levelDetails: e } = this;
          return void 0 !== t.liveMaxLatencyDuration
            ? t.liveMaxLatencyDuration
            : e
              ? t.liveMaxLatencyDurationCount * e.targetduration
              : 0;
        }
        get targetLatency() {
          const { levelDetails: t } = this;
          if (null === t) return null;
          const { holdBack: e, partHoldBack: r, targetduration: n } = t,
            {
              liveSyncDuration: o,
              liveSyncDurationCount: l,
              lowLatencyMode: c,
            } = this.config,
            h = this.hls.userConfig;
          let d = (c && r) || e;
          (h.liveSyncDuration || h.liveSyncDurationCount || 0 === d) &&
            (d = void 0 !== o ? o : l * n);
          const f = n;
          return d + Math.min(1 * this.stallCount, f);
        }
        get liveSyncPosition() {
          const t = this.estimateLiveEdge(),
            e = this.targetLatency,
            r = this.levelDetails;
          if (null === t || null === e || null === r) return null;
          const n = r.edge,
            o = t - e - this.edgeStalled,
            l = n - r.totalduration,
            c =
              n -
              ((this.config.lowLatencyMode && r.partTarget) ||
                r.targetduration);
          return Math.min(Math.max(l, o), c);
        }
        get drift() {
          const { levelDetails: t } = this;
          return null === t ? 1 : t.drift;
        }
        get edgeStalled() {
          const { levelDetails: t } = this;
          if (null === t) return 0;
          const e =
            3 *
            ((this.config.lowLatencyMode && t.partTarget) || t.targetduration);
          return Math.max(t.age - e, 0);
        }
        get forwardBufferLength() {
          const { media: t, levelDetails: e } = this;
          if (!t || !e) return 0;
          const r = t.buffered.length;
          return (r ? t.buffered.end(r - 1) : e.edge) - this.currentTime;
        }
        destroy() {
          (this.unregisterListeners(),
            this.onMediaDetaching(),
            (this.levelDetails = null),
            (this.hls = this.timeupdateHandler = null));
        }
        registerListeners() {
          (this.hls.on(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            this.hls.on(S.MEDIA_DETACHING, this.onMediaDetaching, this),
            this.hls.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
            this.hls.on(S.LEVEL_UPDATED, this.onLevelUpdated, this),
            this.hls.on(S.ERROR, this.onError, this));
        }
        unregisterListeners() {
          (this.hls.off(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            this.hls.off(S.MEDIA_DETACHING, this.onMediaDetaching, this),
            this.hls.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
            this.hls.off(S.LEVEL_UPDATED, this.onLevelUpdated, this),
            this.hls.off(S.ERROR, this.onError, this));
        }
        onMediaAttached(t, data) {
          ((this.media = data.media),
            this.media.addEventListener("timeupdate", this.timeupdateHandler));
        }
        onMediaDetaching() {
          this.media &&
            (this.media.removeEventListener(
              "timeupdate",
              this.timeupdateHandler,
            ),
            (this.media = null));
        }
        onManifestLoading() {
          ((this.levelDetails = null),
            (this._latency = null),
            (this.stallCount = 0));
        }
        onLevelUpdated(t, { details: details }) {
          ((this.levelDetails = details),
            details.advanced && this.timeupdate(),
            !details.live &&
              this.media &&
              this.media.removeEventListener(
                "timeupdate",
                this.timeupdateHandler,
              ));
        }
        onError(t, data) {
          var e;
          data.details === w.BUFFER_STALLED_ERROR &&
            (this.stallCount++,
            null != (e = this.levelDetails) &&
              e.live &&
              C.warn(
                "[playback-rate-controller]: Stall detected, adjusting target latency",
              ));
        }
        timeupdate() {
          const { media: t, levelDetails: e } = this;
          if (!t || !e) return;
          this.currentTime = t.currentTime;
          const r = this.computeLatency();
          if (null === r) return;
          this._latency = r;
          const { lowLatencyMode: n, maxLiveSyncPlaybackRate: o } = this.config;
          if (!n || 1 === o) return;
          const l = this.targetLatency;
          if (null === l) return;
          const c = r - l,
            h = c < Math.min(this.maxLatency, l + e.targetduration);
          if (e.live && h && c > 0.05 && this.forwardBufferLength > 1) {
            const e = Math.min(2, Math.max(1, o)),
              r =
                Math.round(
                  (2 / (1 + Math.exp(-0.75 * c - this.edgeStalled))) * 20,
                ) / 20;
            t.playbackRate = Math.min(e, Math.max(1, r));
          } else
            1 !== t.playbackRate &&
              0 !== t.playbackRate &&
              (t.playbackRate = 1);
        }
        estimateLiveEdge() {
          const { levelDetails: t } = this;
          return null === t ? null : t.edge + t.age;
        }
        computeLatency() {
          const t = this.estimateLiveEdge();
          return null === t ? null : t - this.currentTime;
        }
      }
      const ke = ["NONE", "TYPE-0", "TYPE-1", null];
      var Ce = { No: "", Yes: "YES", v2: "v2" };
      class Re {
        constructor(t, e, r) {
          ((this.msn = void 0),
            (this.part = void 0),
            (this.skip = void 0),
            (this.msn = t),
            (this.part = e),
            (this.skip = r));
        }
        addDirectives(t) {
          const e = new self.URL(t);
          return (
            void 0 !== this.msn &&
              e.searchParams.set("_HLS_msn", this.msn.toString()),
            void 0 !== this.part &&
              e.searchParams.set("_HLS_part", this.part.toString()),
            this.skip && e.searchParams.set("_HLS_skip", this.skip),
            e.href
          );
        }
      }
      class Oe {
        constructor(data) {
          ((this._attrs = void 0),
            (this.audioCodec = void 0),
            (this.bitrate = void 0),
            (this.codecSet = void 0),
            (this.height = void 0),
            (this.id = void 0),
            (this.name = void 0),
            (this.videoCodec = void 0),
            (this.width = void 0),
            (this.unknownCodecs = void 0),
            (this.audioGroupIds = void 0),
            (this.details = void 0),
            (this.fragmentError = 0),
            (this.loadError = 0),
            (this.loaded = void 0),
            (this.realBitrate = 0),
            (this.textGroupIds = void 0),
            (this.url = void 0),
            (this._urlId = 0),
            (this.url = [data.url]),
            (this._attrs = [data.attrs]),
            (this.bitrate = data.bitrate),
            data.details && (this.details = data.details),
            (this.id = data.id || 0),
            (this.name = data.name),
            (this.width = data.width || 0),
            (this.height = data.height || 0),
            (this.audioCodec = data.audioCodec),
            (this.videoCodec = data.videoCodec),
            (this.unknownCodecs = data.unknownCodecs),
            (this.codecSet = [data.videoCodec, data.audioCodec]
              .filter((t) => t)
              .join(",")
              .replace(/\.[^.,]+/g, "")));
        }
        get maxBitrate() {
          return Math.max(this.realBitrate, this.bitrate);
        }
        get attrs() {
          return this._attrs[this._urlId];
        }
        get pathwayId() {
          return this.attrs["PATHWAY-ID"] || ".";
        }
        get uri() {
          return this.url[this._urlId] || "";
        }
        get urlId() {
          return this._urlId;
        }
        set urlId(t) {
          const e = t % this.url.length;
          this._urlId !== e &&
            ((this.fragmentError = 0),
            (this.loadError = 0),
            (this.details = void 0),
            (this._urlId = e));
        }
        get audioGroupId() {
          var t;
          return null == (t = this.audioGroupIds) ? void 0 : t[this.urlId];
        }
        get textGroupId() {
          var t;
          return null == (t = this.textGroupIds) ? void 0 : t[this.urlId];
        }
        addFallback(data) {
          (this.url.push(data.url), this._attrs.push(data.attrs));
        }
      }
      function Ie(t, e) {
        const r = e.startPTS;
        if (T(r)) {
          let n,
            o = 0;
          (e.sn > t.sn
            ? ((o = r - t.start), (n = t))
            : ((o = t.start - r), (n = e)),
            n.duration !== o && (n.duration = o));
        } else if (e.sn > t.sn) {
          t.cc === e.cc && t.minEndPTS
            ? (e.start = t.start + (t.minEndPTS - t.start))
            : (e.start = t.start + t.duration);
        } else e.start = Math.max(t.start - e.duration, 0);
      }
      function Pe(details, t, e, r, n, o) {
        r - e <= 0 &&
          (C.warn("Fragment should have a positive duration", t),
          (r = e + t.duration),
          (o = n + t.duration));
        let l = e,
          c = r;
        const h = t.startPTS,
          d = t.endPTS;
        if (T(h)) {
          const f = Math.abs(h - e);
          (T(t.deltaPTS)
            ? (t.deltaPTS = Math.max(f, t.deltaPTS))
            : (t.deltaPTS = f),
            (l = Math.max(e, h)),
            (e = Math.min(e, h)),
            (n = Math.min(n, t.startDTS)),
            (c = Math.min(r, d)),
            (r = Math.max(r, d)),
            (o = Math.max(o, t.endDTS)));
        }
        const f = e - t.start;
        (0 !== t.start && (t.start = e),
          (t.duration = r - t.start),
          (t.startPTS = e),
          (t.maxStartPTS = l),
          (t.startDTS = n),
          (t.endPTS = r),
          (t.minEndPTS = c),
          (t.endDTS = o));
        const m = t.sn;
        if (!details || m < details.startSN || m > details.endSN) return 0;
        let i;
        const y = m - details.startSN,
          v = details.fragments;
        for (v[y] = t, i = y; i > 0; i--) Ie(v[i], v[i - 1]);
        for (i = y; i < v.length - 1; i++) Ie(v[i], v[i + 1]);
        return (
          details.fragmentHint && Ie(v[v.length - 1], details.fragmentHint),
          (details.PTSKnown = details.alignedSliding = !0),
          f
        );
      }
      function Fe(t, e) {
        let r = null;
        const n = t.fragments;
        for (let i = n.length - 1; i >= 0; i--) {
          const t = n[i].initSegment;
          if (t) {
            r = t;
            break;
          }
        }
        t.fragmentHint && delete t.fragmentHint.endPTS;
        let o,
          l = 0;
        if (
          ((function (t, e, r) {
            const n = e.skippedSegments,
              o = Math.max(t.startSN, e.startSN) - e.startSN,
              l =
                (t.fragmentHint ? 1 : 0) +
                (n ? e.endSN : Math.min(t.endSN, e.endSN)) -
                e.startSN,
              c = e.startSN - t.startSN,
              h = e.fragmentHint
                ? e.fragments.concat(e.fragmentHint)
                : e.fragments,
              d = t.fragmentHint
                ? t.fragments.concat(t.fragmentHint)
                : t.fragments;
            for (let i = o; i <= l; i++) {
              const t = d[c + i];
              let o = h[i];
              (n && !o && i < n && (o = e.fragments[i] = t), t && o && r(t, o));
            }
          })(t, e, (t, n) => {
            (t.relurl && (l = t.cc - n.cc),
              T(t.startPTS) &&
                T(t.endPTS) &&
                ((n.start = n.startPTS = t.startPTS),
                (n.startDTS = t.startDTS),
                (n.maxStartPTS = t.maxStartPTS),
                (n.endPTS = t.endPTS),
                (n.endDTS = t.endDTS),
                (n.minEndPTS = t.minEndPTS),
                (n.duration = t.endPTS - t.startPTS),
                n.duration && (o = n),
                (e.PTSKnown = e.alignedSliding = !0)),
              (n.elementaryStreams = t.elementaryStreams),
              (n.loader = t.loader),
              (n.stats = t.stats),
              (n.urlId = t.urlId),
              t.initSegment &&
                ((n.initSegment = t.initSegment), (r = t.initSegment)));
          }),
          r)
        ) {
          (e.fragmentHint
            ? e.fragments.concat(e.fragmentHint)
            : e.fragments
          ).forEach((t) => {
            var e;
            (t.initSegment &&
              t.initSegment.relurl !== (null == (e = r) ? void 0 : e.relurl)) ||
              (t.initSegment = r);
          });
        }
        if (e.skippedSegments)
          if (
            ((e.deltaUpdateFailed = e.fragments.some((t) => !t)),
            e.deltaUpdateFailed)
          ) {
            C.warn(
              "[level-helper] Previous playlist missing segments skipped in delta playlist",
            );
            for (let i = e.skippedSegments; i--; ) e.fragments.shift();
            ((e.startSN = e.fragments[0].sn), (e.startCC = e.fragments[0].cc));
          } else
            e.canSkipDateRanges &&
              (e.dateRanges = (function (t, e, r) {
                const n = D({}, t);
                r &&
                  r.forEach((t) => {
                    delete n[t];
                  });
                return (
                  Object.keys(e).forEach((t) => {
                    const r = new F(e[t].attr, n[t]);
                    r.isValid
                      ? (n[t] = r)
                      : C.warn(
                          `Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[t].attr)}"`,
                        );
                  }),
                  n
                );
              })(t.dateRanges, e.dateRanges, e.recentlyRemovedDateranges));
        const c = e.fragments;
        if (l) {
          C.warn(
            "discontinuity sliding from playlist, take drift into account",
          );
          for (let i = 0; i < c.length; i++) c[i].cc += l;
        }
        (e.skippedSegments && (e.startCC = e.fragments[0].cc),
          (function (t, e, r) {
            if (t && e) {
              let n = 0;
              for (let i = 0, o = t.length; i <= o; i++) {
                const o = t[i],
                  l = e[i + n];
                o && l && o.index === l.index && o.fragment.sn === l.fragment.sn
                  ? r(o, l)
                  : n--;
              }
            }
          })(t.partList, e.partList, (t, e) => {
            ((e.elementaryStreams = t.elementaryStreams), (e.stats = t.stats));
          }),
          o ? Pe(e, o, o.startPTS, o.endPTS, o.startDTS, o.endDTS) : Me(t, e),
          c.length && (e.totalduration = e.edge - c[0].start),
          (e.driftStartTime = t.driftStartTime),
          (e.driftStart = t.driftStart));
        const h = e.advancedDateTime;
        if (e.advanced && h) {
          const t = e.edge;
          (e.driftStart || ((e.driftStartTime = h), (e.driftStart = t)),
            (e.driftEndTime = h),
            (e.driftEnd = t));
        } else
          ((e.driftEndTime = t.driftEndTime),
            (e.driftEnd = t.driftEnd),
            (e.advancedDateTime = t.advancedDateTime));
      }
      function Me(t, e) {
        const r = e.startSN + e.skippedSegments - t.startSN,
          n = t.fragments;
        r < 0 || r >= n.length || Ne(e, n[r].start);
      }
      function Ne(details, t) {
        if (t) {
          const e = details.fragments;
          for (let i = details.skippedSegments; i < e.length; i++)
            e[i].start += t;
          details.fragmentHint && (details.fragmentHint.start += t);
        }
      }
      function Be(t, e, r) {
        var n;
        return null != t && t.details
          ? Ue(null == (n = t.details) ? void 0 : n.partList, e, r)
          : null;
      }
      function Ue(t, e, r) {
        if (t)
          for (let i = t.length; i--; ) {
            const n = t[i];
            if (n.index === r && n.fragment.sn === e) return n;
          }
        return null;
      }
      function je(t) {
        switch (t.details) {
          case w.FRAG_LOAD_TIMEOUT:
          case w.KEY_LOAD_TIMEOUT:
          case w.LEVEL_LOAD_TIMEOUT:
          case w.MANIFEST_LOAD_TIMEOUT:
            return !0;
        }
        return !1;
      }
      function $e(t, e) {
        const r = je(e);
        return t.default[(r ? "timeout" : "error") + "Retry"];
      }
      function Ge(t, e) {
        const r = "linear" === t.backoff ? 1 : Math.pow(2, e);
        return Math.min(r * t.retryDelayMs, t.maxRetryDelayMs);
      }
      function Ke(t) {
        return v(v({}, t), { errorRetry: null, timeoutRetry: null });
      }
      function He(t, e, r, n) {
        return (
          !!t &&
          e < t.maxNumRetry &&
          ((function (t) {
            return (
              (0 === t && !1 === navigator.onLine) ||
              (!!t && (t < 400 || t > 499))
            );
          })(n) ||
            !!r)
        );
      }
      const Ve = {
        search: function (t, e) {
          let r = 0,
            n = t.length - 1,
            o = null,
            l = null;
          for (; r <= n; ) {
            ((o = ((r + n) / 2) | 0), (l = t[o]));
            const c = e(l);
            if (c > 0) r = o + 1;
            else {
              if (!(c < 0)) return l;
              n = o - 1;
            }
          }
          return null;
        },
      };
      function Ye(t, e, r = 0, n = 0) {
        let o = null;
        if (
          (t
            ? (o = e[t.sn - e[0].sn + 1] || null)
            : 0 === r && 0 === e[0].start && (o = e[0]),
          o && 0 === ze(r, n, o))
        )
          return o;
        const l = Ve.search(e, ze.bind(null, r, n));
        return !l || (l === t && o) ? o : l;
      }
      function ze(t = 0, e = 0, r) {
        if (r.start <= t && r.start + r.duration > t) return 0;
        const n = Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0));
        return r.start + r.duration - n <= t
          ? 1
          : r.start - n > t && r.start
            ? -1
            : 0;
      }
      function We(t, e, r) {
        const n = 1e3 * Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0));
        return (r.endProgramDateTime || 0) - n > t;
      }
      var qe = 0,
        Xe = 2,
        Qe = 5,
        Je = 0,
        Ze = 1,
        er = 2;
      function rr(t, data, e) {
        if (performance.now() - t.lastErrorPerfMs > 3e5) return !0;
        const r = t.details;
        if (data.details === w.FRAG_GAP && r && data.frag) {
          const t = data.frag.start,
            e = Ye(null, r.fragments, t);
          if (e && !e.gap) return !0;
        }
        if (e && t.errors.length < e.errors.length) {
          const e = t.errors[t.errors.length - 1];
          if (
            r &&
            e.frag &&
            data.frag &&
            Math.abs(e.frag.start - data.frag.start) > 3 * r.targetduration
          )
            return !0;
        }
        return !1;
      }
      class nr {
        constructor(t, e) {
          ((this.hls = void 0),
            (this.timer = -1),
            (this.requestScheduled = -1),
            (this.canLoad = !1),
            (this.log = void 0),
            (this.warn = void 0),
            (this.log = C.log.bind(C, `${e}:`)),
            (this.warn = C.warn.bind(C, `${e}:`)),
            (this.hls = t));
        }
        destroy() {
          (this.clearTimer(), (this.hls = this.log = this.warn = null));
        }
        clearTimer() {
          (clearTimeout(this.timer), (this.timer = -1));
        }
        startLoad() {
          ((this.canLoad = !0),
            (this.requestScheduled = -1),
            this.loadPlaylist());
        }
        stopLoad() {
          ((this.canLoad = !1), this.clearTimer());
        }
        switchParams(t, e) {
          const r = null == e ? void 0 : e.renditionReports;
          if (r) {
            let n = -1;
            for (let i = 0; i < r.length; i++) {
              const o = r[i];
              let l;
              try {
                l = new self.URL(o.URI, e.url).href;
              } catch (t) {
                (C.warn(
                  `Could not construct new URL for Rendition Report: ${t}`,
                ),
                  (l = o.URI || ""));
              }
              if (l === t) {
                n = i;
                break;
              }
              l === t.substring(0, l.length) && (n = i);
            }
            if (-1 !== n) {
              const t = r[n],
                o =
                  parseInt(t["LAST-MSN"]) ||
                  (null == e ? void 0 : e.lastPartSn);
              let l =
                parseInt(t["LAST-PART"]) ||
                (null == e ? void 0 : e.lastPartIndex);
              if (this.hls.config.lowLatencyMode) {
                const t = Math.min(e.age - e.partTarget, e.targetduration);
                l >= 0 && t > e.partTarget && (l += 1);
              }
              return new Re(o, l >= 0 ? l : void 0, Ce.No);
            }
          }
        }
        loadPlaylist(t) {
          -1 === this.requestScheduled &&
            (this.requestScheduled = self.performance.now());
        }
        shouldLoadPlaylist(t) {
          return (
            this.canLoad && !!t && !!t.url && (!t.details || t.details.live)
          );
        }
        shouldReloadPlaylist(t) {
          return (
            -1 === this.timer &&
            -1 === this.requestScheduled &&
            this.shouldLoadPlaylist(t)
          );
        }
        playlistLoaded(t, data, e) {
          const { details: details, stats: r } = data,
            n = self.performance.now(),
            o = r.loading.first ? Math.max(0, n - r.loading.first) : 0;
          if (
            ((details.advancedDateTime = Date.now() - o),
            details.live || (null != e && e.live))
          ) {
            if (
              (details.reloaded(e),
              e &&
                this.log(
                  `live playlist ${t} ${details.advanced ? "REFRESHED " + details.lastPartSn + "-" + details.lastPartIndex : details.updated ? "UPDATED" : "MISSED"}`,
                ),
              e && details.fragments.length > 0 && Fe(e, details),
              !this.canLoad || !details.live)
            )
              return;
            let o, l, c;
            if (details.canBlockReload && details.endSN && details.advanced) {
              const t = this.hls.config.lowLatencyMode,
                r = details.lastPartSn,
                n = details.endSN,
                h = details.lastPartIndex,
                d = r === n;
              -1 !== h
                ? ((l = d ? n + 1 : r), (c = d ? (t ? 0 : h) : h + 1))
                : (l = n + 1);
              const f = details.age,
                m = f + details.ageHeader;
              let y = Math.min(
                m - details.partTarget,
                1.5 * details.targetduration,
              );
              if (y > 0) {
                if (e && y > e.tuneInGoal)
                  (this.warn(
                    `CDN Tune-in goal increased from: ${e.tuneInGoal} to: ${y} with playlist age: ${details.age}`,
                  ),
                    (y = 0));
                else {
                  const t = Math.floor(y / details.targetduration);
                  if (((l += t), void 0 !== c)) {
                    c += Math.round(
                      (y % details.targetduration) / details.partTarget,
                    );
                  }
                  this.log(
                    `CDN Tune-in age: ${details.ageHeader}s last advanced ${f.toFixed(2)}s goal: ${y} skip sn ${t} to part ${c}`,
                  );
                }
                details.tuneInGoal = y;
              }
              if (
                ((o = this.getDeliveryDirectives(
                  details,
                  data.deliveryDirectives,
                  l,
                  c,
                )),
                t || !d)
              )
                return void this.loadPlaylist(o);
            } else
              (details.canBlockReload || details.canSkipUntil) &&
                (o = this.getDeliveryDirectives(
                  details,
                  data.deliveryDirectives,
                  l,
                  c,
                ));
            const h = this.hls.mainForwardBufferInfo,
              d = h ? h.end - h.len : 0,
              f = (function (t, e = 1 / 0) {
                let r = 1e3 * t.targetduration;
                if (t.updated) {
                  const n = t.fragments,
                    o = 4;
                  if (n.length && r * o > e) {
                    const t = 1e3 * n[n.length - 1].duration;
                    t < r && (r = t);
                  }
                } else r /= 2;
                return Math.round(r);
              })(details, 1e3 * (details.edge - d));
            (details.updated &&
              n > this.requestScheduled + f &&
              (this.requestScheduled = r.loading.start),
              void 0 !== l && details.canBlockReload
                ? (this.requestScheduled =
                    r.loading.first + f - (1e3 * details.partTarget || 1e3))
                : -1 === this.requestScheduled || this.requestScheduled + f < n
                  ? (this.requestScheduled = n)
                  : this.requestScheduled - n <= 0 &&
                    (this.requestScheduled += f));
            let m = this.requestScheduled - n;
            ((m = Math.max(0, m)),
              this.log(`reload live playlist ${t} in ${Math.round(m)} ms`),
              (this.timer = self.setTimeout(() => this.loadPlaylist(o), m)));
          } else this.clearTimer();
        }
        getDeliveryDirectives(details, t, e, r) {
          let n = (function (details, t) {
            const { canSkipUntil: e, canSkipDateRanges: r, endSN: n } = details;
            return e && (void 0 !== t ? t - n : 0) < e
              ? r
                ? Ce.v2
                : Ce.Yes
              : Ce.No;
          })(details, e);
          return (
            null != t &&
              t.skip &&
              details.deltaUpdateFailed &&
              ((e = t.msn), (r = t.part), (n = Ce.No)),
            new Re(e, r, n)
          );
        }
        checkRetry(t) {
          const e = t.details,
            r = je(t),
            n = t.errorAction,
            { action: o, retryCount: l = 0, retryConfig: c } = n || {},
            h = !!n && !!c && (o === Qe || (!n.resolved && o === Xe));
          if (h) {
            var d;
            if (((this.requestScheduled = -1), l >= c.maxNumRetry)) return !1;
            if (r && null != (d = t.context) && d.deliveryDirectives)
              (this.warn(
                `Retrying playlist loading ${l + 1}/${c.maxNumRetry} after "${e}" without delivery-directives`,
              ),
                this.loadPlaylist());
            else {
              const t = Ge(c, l);
              ((this.timer = self.setTimeout(() => this.loadPlaylist(), t)),
                this.warn(
                  `Retrying playlist loading ${l + 1}/${c.maxNumRetry} after "${e}" in ${t}ms`,
                ));
            }
            ((t.levelRetry = !0), (n.resolved = !0));
          }
          return h;
        }
      }
      let ir;
      class sr extends nr {
        constructor(t, e) {
          (super(t, "[level-controller]"),
            (this._levels = []),
            (this._firstLevel = -1),
            (this._startLevel = void 0),
            (this.currentLevel = null),
            (this.currentLevelIndex = -1),
            (this.manualLevelIndex = -1),
            (this.steering = void 0),
            (this.onParsedComplete = void 0),
            (this.steering = e),
            this._registerListeners());
        }
        _registerListeners() {
          const { hls: t } = this;
          (t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
            t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this),
            t.on(S.LEVEL_LOADED, this.onLevelLoaded, this),
            t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this),
            t.on(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
            t.on(S.FRAG_LOADED, this.onFragLoaded, this),
            t.on(S.ERROR, this.onError, this));
        }
        _unregisterListeners() {
          const { hls: t } = this;
          (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
            t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this),
            t.off(S.LEVEL_LOADED, this.onLevelLoaded, this),
            t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this),
            t.off(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
            t.off(S.FRAG_LOADED, this.onFragLoaded, this),
            t.off(S.ERROR, this.onError, this));
        }
        destroy() {
          (this._unregisterListeners(),
            (this.steering = null),
            this.resetLevels(),
            super.destroy());
        }
        startLoad() {
          (this._levels.forEach((t) => {
            ((t.loadError = 0), (t.fragmentError = 0));
          }),
            super.startLoad());
        }
        resetLevels() {
          ((this._startLevel = void 0),
            (this.manualLevelIndex = -1),
            (this.currentLevelIndex = -1),
            (this.currentLevel = null),
            (this._levels = []));
        }
        onManifestLoading(t, data) {
          this.resetLevels();
        }
        onManifestLoaded(t, data) {
          const e = [],
            r = {};
          let n;
          (data.levels.forEach((t) => {
            var o;
            const l = t.attrs;
            -1 !==
              (null == (o = t.audioCodec) ? void 0 : o.indexOf("mp4a.40.34")) &&
              (ir || (ir = /chrome|firefox/i.test(navigator.userAgent)),
              ir && (t.audioCodec = void 0));
            const {
                AUDIO: c,
                CODECS: h,
                "FRAME-RATE": d,
                "PATHWAY-ID": f,
                RESOLUTION: m,
                SUBTITLES: y,
              } = l,
              v = `${`${f || "."}-`}${t.bitrate}-${m}-${d}-${h}`;
            ((n = r[v]),
              n ? n.addFallback(t) : ((n = new Oe(t)), (r[v] = n), e.push(n)),
              ar(n, "audio", c),
              ar(n, "text", y));
          }),
            this.filterAndSortMediaOptions(e, data));
        }
        filterAndSortMediaOptions(t, data) {
          let e = [],
            r = [],
            n = !1,
            o = !1,
            l = !1,
            c = t.filter(
              ({
                audioCodec: t,
                videoCodec: e,
                width: r,
                height: c,
                unknownCodecs: h,
              }) => (
                n || (n = !(!r || !c)),
                o || (o = !!e),
                l || (l = !!t),
                !(null != h && h.length) &&
                  (!t || Jt(t, "audio")) &&
                  (!e || Jt(e, "video"))
              ),
            );
          if (
            ((n || o) &&
              l &&
              (c = c.filter(
                ({ videoCodec: t, width: e, height: r }) => !!t || !(!e || !r),
              )),
            0 === c.length)
          )
            return void Promise.resolve().then(() => {
              if (this.hls) {
                const t = new Error(
                  "no level with compatible codecs found in manifest",
                );
                this.hls.trigger(S.ERROR, {
                  type: _.MEDIA_ERROR,
                  details: w.MANIFEST_INCOMPATIBLE_CODECS_ERROR,
                  fatal: !0,
                  url: data.url,
                  error: t,
                  reason: t.message,
                });
              }
            });
          (data.audioTracks &&
            ((e = data.audioTracks.filter(
              (track) => !track.audioCodec || Jt(track.audioCodec, "audio"),
            )),
            or(e)),
            data.subtitles && ((r = data.subtitles), or(r)));
          const h = c.slice(0);
          c.sort((a, b) =>
            a.attrs["HDCP-LEVEL"] !== b.attrs["HDCP-LEVEL"]
              ? (a.attrs["HDCP-LEVEL"] || "") > (b.attrs["HDCP-LEVEL"] || "")
                ? 1
                : -1
              : a.bitrate !== b.bitrate
                ? a.bitrate - b.bitrate
                : a.attrs["FRAME-RATE"] !== b.attrs["FRAME-RATE"]
                  ? a.attrs.decimalFloatingPoint("FRAME-RATE") -
                    b.attrs.decimalFloatingPoint("FRAME-RATE")
                  : a.attrs.SCORE !== b.attrs.SCORE
                    ? a.attrs.decimalFloatingPoint("SCORE") -
                      b.attrs.decimalFloatingPoint("SCORE")
                    : n && a.height !== b.height
                      ? a.height - b.height
                      : 0,
          );
          let d = h[0];
          if (
            this.steering &&
            ((c = this.steering.filterParsedLevels(c)), c.length !== h.length)
          )
            for (let i = 0; i < h.length; i++)
              if (h[i].pathwayId === c[0].pathwayId) {
                d = h[i];
                break;
              }
          this._levels = c;
          for (let i = 0; i < c.length; i++)
            if (c[i] === d) {
              ((this._firstLevel = i),
                this.log(
                  `manifest loaded, ${c.length} level(s) found, first bitrate: ${d.bitrate}`,
                ));
              break;
            }
          const f = l && !o,
            m = {
              levels: c,
              audioTracks: e,
              subtitleTracks: r,
              sessionData: data.sessionData,
              sessionKeys: data.sessionKeys,
              firstLevel: this._firstLevel,
              stats: data.stats,
              audio: l,
              video: o,
              altAudio: !f && e.some((t) => !!t.url),
            };
          (this.hls.trigger(S.MANIFEST_PARSED, m),
            (this.hls.config.autoStartLoad || this.hls.forceStartLoad) &&
              this.hls.startLoad(this.hls.config.startPosition));
        }
        get levels() {
          return 0 === this._levels.length ? null : this._levels;
        }
        get level() {
          return this.currentLevelIndex;
        }
        set level(t) {
          const e = this._levels;
          if (0 === e.length) return;
          if (t < 0 || t >= e.length) {
            const r = new Error("invalid level idx"),
              n = t < 0;
            if (
              (this.hls.trigger(S.ERROR, {
                type: _.OTHER_ERROR,
                details: w.LEVEL_SWITCH_ERROR,
                level: t,
                fatal: n,
                error: r,
                reason: r.message,
              }),
              n)
            )
              return;
            t = Math.min(t, e.length - 1);
          }
          const r = this.currentLevelIndex,
            n = this.currentLevel,
            o = n ? n.attrs["PATHWAY-ID"] : void 0,
            l = e[t],
            c = l.attrs["PATHWAY-ID"];
          if (
            ((this.currentLevelIndex = t),
            (this.currentLevel = l),
            r === t && l.details && n && o === c)
          )
            return;
          this.log(
            `Switching to level ${t}${c ? " with Pathway " + c : ""} from level ${r}${o ? " with Pathway " + o : ""}`,
          );
          const h = D({}, l, {
            level: t,
            maxBitrate: l.maxBitrate,
            attrs: l.attrs,
            uri: l.uri,
            urlId: l.urlId,
          });
          (delete h._attrs,
            delete h._urlId,
            this.hls.trigger(S.LEVEL_SWITCHING, h));
          const d = l.details;
          if (!d || d.live) {
            const t = this.switchParams(l.uri, null == n ? void 0 : n.details);
            this.loadPlaylist(t);
          }
        }
        get manualLevel() {
          return this.manualLevelIndex;
        }
        set manualLevel(t) {
          ((this.manualLevelIndex = t),
            void 0 === this._startLevel && (this._startLevel = t),
            -1 !== t && (this.level = t));
        }
        get firstLevel() {
          return this._firstLevel;
        }
        set firstLevel(t) {
          this._firstLevel = t;
        }
        get startLevel() {
          if (void 0 === this._startLevel) {
            const t = this.hls.config.startLevel;
            return void 0 !== t ? t : this._firstLevel;
          }
          return this._startLevel;
        }
        set startLevel(t) {
          this._startLevel = t;
        }
        onError(t, data) {
          !data.fatal &&
            data.context &&
            data.context.type === de.LEVEL &&
            data.context.level === this.level &&
            this.checkRetry(data);
        }
        onFragLoaded(t, { frag: e }) {
          if (void 0 !== e && e.type === fe.MAIN) {
            const t = this._levels[e.level];
            void 0 !== t && (t.loadError = 0);
          }
        }
        onLevelLoaded(t, data) {
          var e;
          const { level: r, details: details } = data,
            n = this._levels[r];
          var o;
          if (!n)
            return (
              this.warn(`Invalid level index ${r}`),
              void (
                null != (o = data.deliveryDirectives) &&
                o.skip &&
                (details.deltaUpdateFailed = !0)
              )
            );
          r === this.currentLevelIndex
            ? (0 === n.fragmentError && (n.loadError = 0),
              this.playlistLoaded(r, data, n.details))
            : null != (e = data.deliveryDirectives) &&
              e.skip &&
              (details.deltaUpdateFailed = !0);
        }
        onAudioTrackSwitched(t, data) {
          const e = this.currentLevel;
          if (!e) return;
          const r = this.hls.audioTracks[data.id].groupId;
          if (e.audioGroupIds && e.audioGroupId !== r) {
            let t = -1;
            for (let i = 0; i < e.audioGroupIds.length; i++)
              if (e.audioGroupIds[i] === r) {
                t = i;
                break;
              }
            -1 !== t &&
              t !== e.urlId &&
              ((e.urlId = t), this.canLoad && this.startLoad());
          }
        }
        loadPlaylist(t) {
          super.loadPlaylist();
          const e = this.currentLevelIndex,
            r = this.currentLevel;
          if (r && this.shouldLoadPlaylist(r)) {
            const n = r.urlId;
            let o = r.uri;
            if (t)
              try {
                o = t.addDirectives(o);
              } catch (t) {
                this.warn(
                  `Could not construct new URL with HLS Delivery Directives: ${t}`,
                );
              }
            const l = r.attrs["PATHWAY-ID"];
            (this.log(
              `Loading level index ${e}${void 0 !== (null == t ? void 0 : t.msn) ? " at sn " + t.msn + " part " + t.part : ""} with${l ? " Pathway " + l : ""} URI ${n + 1}/${r.url.length} ${o}`,
            ),
              this.clearTimer(),
              this.hls.trigger(S.LEVEL_LOADING, {
                url: o,
                level: e,
                id: n,
                deliveryDirectives: t || null,
              }));
          }
        }
        get nextLoadLevel() {
          return -1 !== this.manualLevelIndex
            ? this.manualLevelIndex
            : this.hls.nextAutoLevel;
        }
        set nextLoadLevel(t) {
          ((this.level = t),
            -1 === this.manualLevelIndex && (this.hls.nextAutoLevel = t));
        }
        removeLevel(t, e) {
          const r = (t, r) => r !== e,
            n = this._levels.filter(
              (n, o) =>
                o !== t ||
                (n.url.length > 1 && void 0 !== e
                  ? ((n.url = n.url.filter(r)),
                    n.audioGroupIds &&
                      (n.audioGroupIds = n.audioGroupIds.filter(r)),
                    n.textGroupIds &&
                      (n.textGroupIds = n.textGroupIds.filter(r)),
                    (n.urlId = 0),
                    !0)
                  : (this.steering && this.steering.removeLevel(n), !1)),
            );
          this.hls.trigger(S.LEVELS_UPDATED, { levels: n });
        }
        onLevelsUpdated(t, { levels: e }) {
          (e.forEach((t, e) => {
            const { details: details } = t;
            null != details &&
              details.fragments &&
              details.fragments.forEach((t) => {
                t.level = e;
              });
          }),
            (this._levels = e));
        }
      }
      function ar(t, e, r) {
        r &&
          ("audio" === e
            ? (t.audioGroupIds || (t.audioGroupIds = []),
              (t.audioGroupIds[t.url.length - 1] = r))
            : "text" === e &&
              (t.textGroupIds || (t.textGroupIds = []),
              (t.textGroupIds[t.url.length - 1] = r)));
      }
      function or(t) {
        const e = {};
        t.forEach((track) => {
          const t = track.groupId || "";
          ((track.id = e[t] = e[t] || 0), e[t]++);
        });
      }
      var lr = "NOT_LOADED",
        ur = "APPENDING",
        cr = "PARTIAL",
        dr = "OK";
      class fr {
        constructor(t) {
          ((this.activePartLists = Object.create(null)),
            (this.endListFragments = Object.create(null)),
            (this.fragments = Object.create(null)),
            (this.timeRanges = Object.create(null)),
            (this.bufferPadding = 0.2),
            (this.hls = void 0),
            (this.hasGaps = !1),
            (this.hls = t),
            this._registerListeners());
        }
        _registerListeners() {
          const { hls: t } = this;
          (t.on(S.BUFFER_APPENDED, this.onBufferAppended, this),
            t.on(S.FRAG_BUFFERED, this.onFragBuffered, this),
            t.on(S.FRAG_LOADED, this.onFragLoaded, this));
        }
        _unregisterListeners() {
          const { hls: t } = this;
          (t.off(S.BUFFER_APPENDED, this.onBufferAppended, this),
            t.off(S.FRAG_BUFFERED, this.onFragBuffered, this),
            t.off(S.FRAG_LOADED, this.onFragLoaded, this));
        }
        destroy() {
          (this._unregisterListeners(),
            (this.fragments =
              this.activePartLists =
              this.endListFragments =
              this.timeRanges =
                null));
        }
        getAppendedFrag(t, e) {
          const r = this.activePartLists[e];
          if (r)
            for (let i = r.length; i--; ) {
              const e = r[i];
              if (!e) break;
              const n = e.end;
              if (e.start <= t && null !== n && t <= n) return e;
            }
          return this.getBufferedFrag(t, e);
        }
        getBufferedFrag(t, e) {
          const { fragments: r } = this,
            n = Object.keys(r);
          for (let i = n.length; i--; ) {
            const o = r[n[i]];
            if ((null == o ? void 0 : o.body.type) === e && o.buffered) {
              const e = o.body;
              if (e.start <= t && t <= e.end) return e;
            }
          }
          return null;
        }
        detectEvictedFragments(t, e, r, n) {
          this.timeRanges && (this.timeRanges[t] = e);
          const o = (null == n ? void 0 : n.fragment.sn) || -1;
          Object.keys(this.fragments).forEach((n) => {
            const l = this.fragments[n];
            if (!l) return;
            if (o >= l.body.sn) return;
            if (!l.buffered && !l.loaded)
              return void (l.body.type === r && this.removeFragment(l.body));
            const c = l.range[t];
            c &&
              c.time.some((time) => {
                const t = !this.isTimeBuffered(time.startPTS, time.endPTS, e);
                return (t && this.removeFragment(l.body), t);
              });
          });
        }
        detectPartialFragments(data) {
          const t = this.timeRanges,
            { frag: e, part: r } = data;
          if (!t || "initSegment" === e.sn) return;
          const n = gr(e),
            o = this.fragments[n];
          if (!o || (o.buffered && e.gap)) return;
          const l = !e.relurl;
          if (
            (Object.keys(t).forEach((n) => {
              const c = e.elementaryStreams[n];
              if (!c) return;
              const h = t[n],
                d = l || !0 === c.partial;
              o.range[n] = this.getBufferedTimes(e, r, d, h);
            }),
            (o.loaded = null),
            Object.keys(o.range).length)
          ) {
            o.buffered = !0;
            ((o.body.endList = e.endList || o.body.endList) &&
              (this.endListFragments[o.body.type] = o),
              pr(o) || this.removeParts(e.sn - 1, e.type));
          } else this.removeFragment(o.body);
        }
        removeParts(t, e) {
          const r = this.activePartLists[e];
          r && (this.activePartLists[e] = r.filter((e) => e.fragment.sn >= t));
        }
        fragBuffered(t, e) {
          const r = gr(t);
          let n = this.fragments[r];
          (!n &&
            e &&
            ((n = this.fragments[r] =
              {
                body: t,
                appendedPTS: null,
                loaded: null,
                buffered: !1,
                range: Object.create(null),
              }),
            t.gap && (this.hasGaps = !0)),
            n && ((n.loaded = null), (n.buffered = !0)));
        }
        getBufferedTimes(t, e, r, n) {
          const o = { time: [], partial: r },
            l = t.start,
            c = t.end,
            h = t.minEndPTS || c,
            d = t.maxStartPTS || l;
          for (let i = 0; i < n.length; i++) {
            const t = n.start(i) - this.bufferPadding,
              e = n.end(i) + this.bufferPadding;
            if (d >= t && h <= e) {
              o.time.push({
                startPTS: Math.max(l, n.start(i)),
                endPTS: Math.min(c, n.end(i)),
              });
              break;
            }
            if (l < e && c > t)
              ((o.partial = !0),
                o.time.push({
                  startPTS: Math.max(l, n.start(i)),
                  endPTS: Math.min(c, n.end(i)),
                }));
            else if (c <= t) break;
          }
          return o;
        }
        getPartialFragment(time) {
          let t,
            e,
            r,
            n = null,
            o = 0;
          const { bufferPadding: l, fragments: c } = this;
          return (
            Object.keys(c).forEach((h) => {
              const d = c[h];
              d &&
                pr(d) &&
                ((e = d.body.start - l),
                (r = d.body.end + l),
                time >= e &&
                  time <= r &&
                  ((t = Math.min(time - e, r - time)),
                  o <= t && ((n = d.body), (o = t))));
            }),
            n
          );
        }
        isEndListAppended(t) {
          const e = this.endListFragments[t];
          return void 0 !== e && (e.buffered || pr(e));
        }
        getState(t) {
          const e = gr(t),
            r = this.fragments[e];
          return r ? (r.buffered ? (pr(r) ? cr : dr) : ur) : lr;
        }
        isTimeBuffered(t, e, r) {
          let n, o;
          for (let i = 0; i < r.length; i++) {
            if (
              ((n = r.start(i) - this.bufferPadding),
              (o = r.end(i) + this.bufferPadding),
              t >= n && e <= o)
            )
              return !0;
            if (e <= n) return !1;
          }
          return !1;
        }
        onFragLoaded(t, data) {
          const { frag: e, part: r } = data;
          if ("initSegment" === e.sn || e.bitrateTest) return;
          const n = r ? null : data,
            o = gr(e);
          this.fragments[o] = {
            body: e,
            appendedPTS: null,
            loaded: n,
            buffered: !1,
            range: Object.create(null),
          };
        }
        onBufferAppended(t, data) {
          const { frag: e, part: r, timeRanges: n } = data;
          if ("initSegment" === e.sn) return;
          const o = e.type;
          if (r) {
            let t = this.activePartLists[o];
            (t || (this.activePartLists[o] = t = []), t.push(r));
          }
          ((this.timeRanges = n),
            Object.keys(n).forEach((t) => {
              const e = n[t];
              this.detectEvictedFragments(t, e, o, r);
            }));
        }
        onFragBuffered(t, data) {
          this.detectPartialFragments(data);
        }
        hasFragment(t) {
          const e = gr(t);
          return !!this.fragments[e];
        }
        hasParts(t) {
          var e;
          return !(null == (e = this.activePartLists[t]) || !e.length);
        }
        removeFragmentsInRange(t, e, r, n, o) {
          (n && !this.hasGaps) ||
            Object.keys(this.fragments).forEach((l) => {
              const c = this.fragments[l];
              if (!c) return;
              const h = c.body;
              h.type !== r ||
                (n && !h.gap) ||
                (h.start < e &&
                  h.end > t &&
                  (c.buffered || o) &&
                  this.removeFragment(h));
            });
        }
        removeFragment(t) {
          const e = gr(t);
          ((t.stats.loaded = 0), t.clearElementaryStreamInfo());
          const r = this.activePartLists[t.type];
          if (r) {
            const e = t.sn;
            this.activePartLists[t.type] = r.filter((t) => t.fragment.sn !== e);
          }
          (delete this.fragments[e],
            t.endList && delete this.endListFragments[t.type]);
        }
        removeAllFragments() {
          ((this.fragments = Object.create(null)),
            (this.endListFragments = Object.create(null)),
            (this.activePartLists = Object.create(null)),
            (this.hasGaps = !1));
        }
      }
      function pr(t) {
        var e, r, n;
        return (
          t.buffered &&
          (t.body.gap ||
            (null == (e = t.range.video) ? void 0 : e.partial) ||
            (null == (r = t.range.audio) ? void 0 : r.partial) ||
            (null == (n = t.range.audiovideo) ? void 0 : n.partial))
        );
      }
      function gr(t) {
        return `${t.type}_${t.level}_${t.urlId}_${t.sn}`;
      }
      const mr = Math.pow(2, 17);
      class yr {
        constructor(t) {
          ((this.config = void 0),
            (this.loader = null),
            (this.partLoadTimeout = -1),
            (this.config = t));
        }
        destroy() {
          this.loader && (this.loader.destroy(), (this.loader = null));
        }
        abort() {
          this.loader && this.loader.abort();
        }
        load(t, e) {
          const r = t.url;
          if (!r)
            return Promise.reject(
              new Dr({
                type: _.NETWORK_ERROR,
                details: w.FRAG_LOAD_ERROR,
                fatal: !1,
                frag: t,
                error: new Error(
                  "Fragment does not have a " + (r ? "part list" : "url"),
                ),
                networkDetails: null,
              }),
            );
          this.abort();
          const n = this.config,
            o = n.fLoader,
            l = n.loader;
          return new Promise((c, h) => {
            if ((this.loader && this.loader.destroy(), t.gap)) {
              if (t.tagList.some((t) => "GAP" === t[0])) return void h(Er(t));
              t.gap = !1;
            }
            const d = (this.loader = t.loader = o ? new o(n) : new l(n)),
              f = vr(t),
              m = Ke(n.fragLoadPolicy.default),
              y = {
                loadPolicy: m,
                timeout: m.maxLoadTimeMs,
                maxRetry: 0,
                retryDelay: 0,
                maxRetryDelay: 0,
                highWaterMark: "initSegment" === t.sn ? 1 / 0 : mr,
              };
            ((t.stats = d.stats),
              d.load(f, y, {
                onSuccess: (e, r, n, o) => {
                  this.resetLoader(t, d);
                  let l = e.data;
                  (n.resetIV &&
                    t.decryptdata &&
                    ((t.decryptdata.iv = new Uint8Array(l.slice(0, 16))),
                    (l = l.slice(16))),
                    c({ frag: t, part: null, payload: l, networkDetails: o }));
                },
                onError: (e, n, o, l) => {
                  (this.resetLoader(t, d),
                    h(
                      new Dr({
                        type: _.NETWORK_ERROR,
                        details: w.FRAG_LOAD_ERROR,
                        fatal: !1,
                        frag: t,
                        response: v({ url: r, data: void 0 }, e),
                        error: new Error(`HTTP Error ${e.code} ${e.text}`),
                        networkDetails: o,
                        stats: l,
                      }),
                    ));
                },
                onAbort: (e, r, n) => {
                  (this.resetLoader(t, d),
                    h(
                      new Dr({
                        type: _.NETWORK_ERROR,
                        details: w.INTERNAL_ABORTED,
                        fatal: !1,
                        frag: t,
                        error: new Error("Aborted"),
                        networkDetails: n,
                        stats: e,
                      }),
                    ));
                },
                onTimeout: (e, r, n) => {
                  (this.resetLoader(t, d),
                    h(
                      new Dr({
                        type: _.NETWORK_ERROR,
                        details: w.FRAG_LOAD_TIMEOUT,
                        fatal: !1,
                        frag: t,
                        error: new Error(`Timeout after ${y.timeout}ms`),
                        networkDetails: n,
                        stats: e,
                      }),
                    ));
                },
                onProgress: (r, n, data, o) => {
                  e &&
                    e({
                      frag: t,
                      part: null,
                      payload: data,
                      networkDetails: o,
                    });
                },
              }));
          });
        }
        loadPart(t, e, r) {
          this.abort();
          const n = this.config,
            o = n.fLoader,
            l = n.loader;
          return new Promise((c, h) => {
            if ((this.loader && this.loader.destroy(), t.gap || e.gap))
              return void h(Er(t, e));
            const d = (this.loader = t.loader = o ? new o(n) : new l(n)),
              f = vr(t, e),
              m = Ke(n.fragLoadPolicy.default),
              y = {
                loadPolicy: m,
                timeout: m.maxLoadTimeMs,
                maxRetry: 0,
                retryDelay: 0,
                maxRetryDelay: 0,
                highWaterMark: mr,
              };
            ((e.stats = d.stats),
              d.load(f, y, {
                onSuccess: (n, o, l, h) => {
                  (this.resetLoader(t, d), this.updateStatsFromPart(t, e));
                  const f = {
                    frag: t,
                    part: e,
                    payload: n.data,
                    networkDetails: h,
                  };
                  (r(f), c(f));
                },
                onError: (r, n, o, l) => {
                  (this.resetLoader(t, d),
                    h(
                      new Dr({
                        type: _.NETWORK_ERROR,
                        details: w.FRAG_LOAD_ERROR,
                        fatal: !1,
                        frag: t,
                        part: e,
                        response: v({ url: f.url, data: void 0 }, r),
                        error: new Error(`HTTP Error ${r.code} ${r.text}`),
                        networkDetails: o,
                        stats: l,
                      }),
                    ));
                },
                onAbort: (r, n, o) => {
                  ((t.stats.aborted = e.stats.aborted),
                    this.resetLoader(t, d),
                    h(
                      new Dr({
                        type: _.NETWORK_ERROR,
                        details: w.INTERNAL_ABORTED,
                        fatal: !1,
                        frag: t,
                        part: e,
                        error: new Error("Aborted"),
                        networkDetails: o,
                        stats: r,
                      }),
                    ));
                },
                onTimeout: (r, n, o) => {
                  (this.resetLoader(t, d),
                    h(
                      new Dr({
                        type: _.NETWORK_ERROR,
                        details: w.FRAG_LOAD_TIMEOUT,
                        fatal: !1,
                        frag: t,
                        part: e,
                        error: new Error(`Timeout after ${y.timeout}ms`),
                        networkDetails: o,
                        stats: r,
                      }),
                    ));
                },
              }));
          });
        }
        updateStatsFromPart(t, e) {
          const r = t.stats,
            n = e.stats,
            o = n.total;
          if (((r.loaded += n.loaded), o)) {
            const n = Math.round(t.duration / e.duration),
              l = Math.min(Math.round(r.loaded / o), n),
              c = (n - l) * Math.round(r.loaded / l);
            r.total = r.loaded + c;
          } else r.total = Math.max(r.loaded, r.total);
          const l = r.loading,
            c = n.loading;
          (l.start
            ? (l.first += c.first - c.start)
            : ((l.start = c.start), (l.first = c.first)),
            (l.end = c.end));
        }
        resetLoader(t, e) {
          ((t.loader = null),
            this.loader === e &&
              (self.clearTimeout(this.partLoadTimeout), (this.loader = null)),
            e.destroy());
        }
      }
      function vr(t, e = null) {
        const r = e || t,
          n = {
            frag: t,
            part: e,
            responseType: "arraybuffer",
            url: r.url,
            headers: {},
            rangeStart: 0,
            rangeEnd: 0,
          },
          o = r.byteRangeStartOffset,
          l = r.byteRangeEndOffset;
        if (T(o) && T(l)) {
          var c;
          let e = o,
            r = l;
          if (
            "initSegment" === t.sn &&
            "AES-128" === (null == (c = t.decryptdata) ? void 0 : c.method)
          ) {
            const t = l - o;
            (t % 16 && (r = l + (16 - (t % 16))),
              0 !== o && ((n.resetIV = !0), (e = o - 16)));
          }
          ((n.rangeStart = e), (n.rangeEnd = r));
        }
        return n;
      }
      function Er(t, e) {
        const r = new Error(`GAP ${t.gap ? "tag" : "attribute"} found`),
          n = {
            type: _.MEDIA_ERROR,
            details: w.FRAG_GAP,
            fatal: !1,
            frag: t,
            error: r,
            networkDetails: null,
          };
        return (e && (n.part = e), ((e || t).stats.aborted = !0), new Dr(n));
      }
      class Dr extends Error {
        constructor(data) {
          (super(data.error.message), (this.data = void 0), (this.data = data));
        }
      }
      class Tr {
        constructor(t) {
          ((this.config = void 0),
            (this.keyUriToKeyInfo = {}),
            (this.emeController = null),
            (this.config = t));
        }
        abort(t) {
          for (const e in this.keyUriToKeyInfo) {
            const r = this.keyUriToKeyInfo[e].loader;
            if (r) {
              if (t && t !== r.context.frag.type) return;
              r.abort();
            }
          }
        }
        detach() {
          for (const t in this.keyUriToKeyInfo) {
            const e = this.keyUriToKeyInfo[t];
            (e.mediaKeySessionContext || e.decryptdata.isCommonEncryption) &&
              delete this.keyUriToKeyInfo[t];
          }
        }
        destroy() {
          this.detach();
          for (const t in this.keyUriToKeyInfo) {
            const e = this.keyUriToKeyInfo[t].loader;
            e && e.destroy();
          }
          this.keyUriToKeyInfo = {};
        }
        createKeyLoadError(t, details = w.KEY_LOAD_ERROR, e, r, n) {
          return new Dr({
            type: _.NETWORK_ERROR,
            details: details,
            fatal: !1,
            frag: t,
            response: n,
            error: e,
            networkDetails: r,
          });
        }
        loadClear(t, e) {
          if (this.emeController && this.config.emeEnabled) {
            const { sn: r, cc: n } = t;
            for (let i = 0; i < e.length; i++) {
              const t = e[i];
              if (
                n <= t.cc &&
                ("initSegment" === r || "initSegment" === t.sn || r < t.sn)
              ) {
                this.emeController.selectKeySystemFormat(t).then((e) => {
                  t.setKeyFormat(e);
                });
                break;
              }
            }
          }
        }
        load(t) {
          return !t.decryptdata && t.encrypted && this.emeController
            ? this.emeController
                .selectKeySystemFormat(t)
                .then((e) => this.loadInternal(t, e))
            : this.loadInternal(t);
        }
        loadInternal(t, e) {
          var r, n;
          e && t.setKeyFormat(e);
          const o = t.decryptdata;
          if (!o) {
            const r = new Error(
              e
                ? `Expected frag.decryptdata to be defined after setting format ${e}`
                : "Missing decryption data on fragment in onKeyLoading",
            );
            return Promise.reject(
              this.createKeyLoadError(t, w.KEY_LOAD_ERROR, r),
            );
          }
          const l = o.uri;
          if (!l)
            return Promise.reject(
              this.createKeyLoadError(
                t,
                w.KEY_LOAD_ERROR,
                new Error(`Invalid key URI: "${l}"`),
              ),
            );
          let c = this.keyUriToKeyInfo[l];
          if (null != (r = c) && r.decryptdata.key)
            return (
              (o.key = c.decryptdata.key),
              Promise.resolve({ frag: t, keyInfo: c })
            );
          var h;
          if (null != (n = c) && n.keyLoadPromise)
            switch (
              null == (h = c.mediaKeySessionContext) ? void 0 : h.keyStatus
            ) {
              case void 0:
              case "status-pending":
              case "usable":
              case "usable-in-future":
                return c.keyLoadPromise.then(
                  (e) => (
                    (o.key = e.keyInfo.decryptdata.key),
                    { frag: t, keyInfo: c }
                  ),
                );
            }
          switch (
            ((c = this.keyUriToKeyInfo[l] =
              {
                decryptdata: o,
                keyLoadPromise: null,
                loader: null,
                mediaKeySessionContext: null,
              }),
            o.method)
          ) {
            case "ISO-23001-7":
            case "SAMPLE-AES":
            case "SAMPLE-AES-CENC":
            case "SAMPLE-AES-CTR":
              return "identity" === o.keyFormat
                ? this.loadKeyHTTP(c, t)
                : this.loadKeyEME(c, t);
            case "AES-128":
              return this.loadKeyHTTP(c, t);
            default:
              return Promise.reject(
                this.createKeyLoadError(
                  t,
                  w.KEY_LOAD_ERROR,
                  new Error(
                    `Key supplied with unsupported METHOD: "${o.method}"`,
                  ),
                ),
              );
          }
        }
        loadKeyEME(t, e) {
          const r = { frag: e, keyInfo: t };
          if (this.emeController && this.config.emeEnabled) {
            const e = this.emeController.loadKey(r);
            if (e)
              return (t.keyLoadPromise = e.then(
                (e) => ((t.mediaKeySessionContext = e), r),
              )).catch((e) => {
                throw ((t.keyLoadPromise = null), e);
              });
          }
          return Promise.resolve(r);
        }
        loadKeyHTTP(t, e) {
          const r = this.config,
            n = new (0, r.loader)(r);
          return (
            (e.keyLoader = t.loader = n),
            (t.keyLoadPromise = new Promise((o, l) => {
              const c = {
                  keyInfo: t,
                  frag: e,
                  responseType: "arraybuffer",
                  url: t.decryptdata.uri,
                },
                h = r.keyLoadPolicy.default,
                d = {
                  loadPolicy: h,
                  timeout: h.maxLoadTimeMs,
                  maxRetry: 0,
                  retryDelay: 0,
                  maxRetryDelay: 0,
                },
                f = {
                  onSuccess: (t, e, r, n) => {
                    const { frag: c, keyInfo: h, url: d } = r;
                    if (!c.decryptdata || h !== this.keyUriToKeyInfo[d])
                      return l(
                        this.createKeyLoadError(
                          c,
                          w.KEY_LOAD_ERROR,
                          new Error(
                            "after key load, decryptdata unset or changed",
                          ),
                          n,
                        ),
                      );
                    ((h.decryptdata.key = c.decryptdata.key =
                      new Uint8Array(t.data)),
                      (c.keyLoader = null),
                      (h.loader = null),
                      o({ frag: c, keyInfo: h }));
                  },
                  onError: (t, r, n, o) => {
                    (this.resetLoader(r),
                      l(
                        this.createKeyLoadError(
                          e,
                          w.KEY_LOAD_ERROR,
                          new Error(
                            `HTTP Error ${t.code} loading key ${t.text}`,
                          ),
                          n,
                          v({ url: c.url, data: void 0 }, t),
                        ),
                      ));
                  },
                  onTimeout: (t, r, n) => {
                    (this.resetLoader(r),
                      l(
                        this.createKeyLoadError(
                          e,
                          w.KEY_LOAD_TIMEOUT,
                          new Error("key loading timed out"),
                          n,
                        ),
                      ));
                  },
                  onAbort: (t, r, n) => {
                    (this.resetLoader(r),
                      l(
                        this.createKeyLoadError(
                          e,
                          w.INTERNAL_ABORTED,
                          new Error("key loading aborted"),
                          n,
                        ),
                      ));
                  },
                };
              n.load(c, d, f);
            }))
          );
        }
        resetLoader(t) {
          const { frag: e, keyInfo: r, url: n } = t,
            o = r.loader;
          (e.keyLoader === o && ((e.keyLoader = null), (r.loader = null)),
            delete this.keyUriToKeyInfo[n],
            o && o.destroy());
        }
      }
      class Sr {
        constructor() {
          ((this._boundTick = void 0),
            (this._tickTimer = null),
            (this._tickInterval = null),
            (this._tickCallCount = 0),
            (this._boundTick = this.tick.bind(this)));
        }
        destroy() {
          (this.onHandlerDestroying(), this.onHandlerDestroyed());
        }
        onHandlerDestroying() {
          (this.clearNextTick(), this.clearInterval());
        }
        onHandlerDestroyed() {}
        hasInterval() {
          return !!this._tickInterval;
        }
        hasNextTick() {
          return !!this._tickTimer;
        }
        setInterval(t) {
          return (
            !this._tickInterval &&
            ((this._tickCallCount = 0),
            (this._tickInterval = self.setInterval(this._boundTick, t)),
            !0)
          );
        }
        clearInterval() {
          return (
            !!this._tickInterval &&
            (self.clearInterval(this._tickInterval),
            (this._tickInterval = null),
            !0)
          );
        }
        clearNextTick() {
          return (
            !!this._tickTimer &&
            (self.clearTimeout(this._tickTimer), (this._tickTimer = null), !0)
          );
        }
        tick() {
          (this._tickCallCount++,
            1 === this._tickCallCount &&
              (this.doTick(),
              this._tickCallCount > 1 && this.tickImmediate(),
              (this._tickCallCount = 0)));
        }
        tickImmediate() {
          (this.clearNextTick(),
            (this._tickTimer = self.setTimeout(this._boundTick, 0)));
        }
        doTick() {}
      }
      const _r = { length: 0, start: () => 0, end: () => 0 };
      class wr {
        static isBuffered(t, e) {
          try {
            if (t) {
              const r = wr.getBuffered(t);
              for (let i = 0; i < r.length; i++)
                if (e >= r.start(i) && e <= r.end(i)) return !0;
            }
          } catch (t) {}
          return !1;
        }
        static bufferInfo(t, e, r) {
          try {
            if (t) {
              const n = wr.getBuffered(t),
                o = [];
              let i;
              for (i = 0; i < n.length; i++)
                o.push({ start: n.start(i), end: n.end(i) });
              return this.bufferedInfo(o, e, r);
            }
          } catch (t) {}
          return { len: 0, start: e, end: e, nextStart: void 0 };
        }
        static bufferedInfo(t, e, r) {
          ((e = Math.max(0, e)),
            t.sort(function (a, b) {
              const t = a.start - b.start;
              return t || b.end - a.end;
            }));
          let n = [];
          if (r)
            for (let i = 0; i < t.length; i++) {
              const e = n.length;
              if (e) {
                const o = n[e - 1].end;
                t[i].start - o < r
                  ? t[i].end > o && (n[e - 1].end = t[i].end)
                  : n.push(t[i]);
              } else n.push(t[i]);
            }
          else n = t;
          let o,
            l = 0,
            c = e,
            h = e;
          for (let i = 0; i < n.length; i++) {
            const t = n[i].start,
              d = n[i].end;
            if (e + r >= t && e < d) ((c = t), (h = d), (l = h - e));
            else if (e + r < t) {
              o = t;
              break;
            }
          }
          return { len: l, start: c || 0, end: h || 0, nextStart: o };
        }
        static getBuffered(t) {
          try {
            return t.buffered;
          } catch (t) {
            return (C.log("failed to get media.buffered", t), _r);
          }
        }
      }
      class Ar {
        constructor(t, e, r, n = 0, o = -1, l = !1) {
          ((this.level = void 0),
            (this.sn = void 0),
            (this.part = void 0),
            (this.id = void 0),
            (this.size = void 0),
            (this.partial = void 0),
            (this.transmuxing = {
              start: 0,
              executeStart: 0,
              executeEnd: 0,
              end: 0,
            }),
            (this.buffering = {
              audio: { start: 0, executeStart: 0, executeEnd: 0, end: 0 },
              video: { start: 0, executeStart: 0, executeEnd: 0, end: 0 },
              audiovideo: { start: 0, executeStart: 0, executeEnd: 0, end: 0 },
            }),
            (this.level = t),
            (this.sn = e),
            (this.id = r),
            (this.size = n),
            (this.part = o),
            (this.partial = l));
        }
      }
      function xr(t, e) {
        let r = null;
        for (let i = 0, n = t.length; i < n; i++) {
          const n = t[i];
          if (n && n.cc === e) {
            r = n;
            break;
          }
        }
        return r;
      }
      function Lr(t, e) {
        if (t) {
          const r = t.start + e;
          ((t.start = t.startPTS = r), (t.endPTS = r + t.duration));
        }
      }
      function kr(t, details) {
        const e = details.fragments;
        for (let i = 0, r = e.length; i < r; i++) Lr(e[i], t);
        (details.fragmentHint && Lr(details.fragmentHint, t),
          (details.alignedSliding = !0));
      }
      function Cr(t, e, details) {
        e &&
          (!(function (t, details, e) {
            if (
              (function (t, e, details) {
                return !(
                  !e.details ||
                  !(
                    details.endCC > details.startCC ||
                    (t && t.cc < details.startCC)
                  )
                );
              })(t, e, details)
            ) {
              const t = (function (t, e, r = 0) {
                const n = t.fragments,
                  o = e.fragments;
                if (!o.length || !n.length)
                  return void C.log("No fragments to align");
                const l = xr(n, o[0].cc);
                if (l && (!l || l.startPTS)) return l;
                C.log("No frag in previous level to align on");
              })(e.details, details);
              t &&
                T(t.start) &&
                (C.log(
                  `Adjusting PTS using last level due to CC increase within current level ${details.url}`,
                ),
                kr(t.start, details));
            }
          })(t, details, e),
          !details.alignedSliding &&
            e.details &&
            (function (details, t) {
              if (
                !t.fragments.length ||
                !details.hasProgramDateTime ||
                !t.hasProgramDateTime
              )
                return;
              const e = t.fragments[0].programDateTime,
                r = details.fragments[0].programDateTime,
                n = (r - e) / 1e3 + t.fragments[0].start;
              n &&
                T(n) &&
                (C.log(
                  `Adjusting PTS using programDateTime delta ${r - e}ms, sliding:${n.toFixed(3)} ${details.url} `,
                ),
                kr(n, details));
            })(details, e.details),
          details.alignedSliding ||
            !e.details ||
            details.skippedSegments ||
            Me(e.details, details));
      }
      function Rr(details, t) {
        if (!details.hasProgramDateTime || !t.hasProgramDateTime) return;
        const e = details.fragments,
          r = t.fragments;
        if (!e.length || !r.length) return;
        const n = r[Math.round(r.length / 2) - 1],
          o = xr(e, n.cc) || e[Math.round(e.length / 2) - 1],
          l = n.programDateTime,
          c = o.programDateTime;
        if (null === l || null === c) return;
        kr((c - l) / 1e3 - (o.start - n.start), details);
      }
      class Or {
        constructor(t, e) {
          ((this.subtle = void 0),
            (this.aesIV = void 0),
            (this.subtle = t),
            (this.aesIV = e));
        }
        decrypt(data, t) {
          return this.subtle.decrypt(
            { name: "AES-CBC", iv: this.aesIV },
            t,
            data,
          );
        }
      }
      class Ir {
        constructor(t, e) {
          ((this.subtle = void 0),
            (this.key = void 0),
            (this.subtle = t),
            (this.key = e));
        }
        expandKey() {
          return this.subtle.importKey(
            "raw",
            this.key,
            { name: "AES-CBC" },
            !1,
            ["encrypt", "decrypt"],
          );
        }
      }
      class Pr {
        constructor() {
          ((this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54]),
            (this.subMix = [
              new Uint32Array(256),
              new Uint32Array(256),
              new Uint32Array(256),
              new Uint32Array(256),
            ]),
            (this.invSubMix = [
              new Uint32Array(256),
              new Uint32Array(256),
              new Uint32Array(256),
              new Uint32Array(256),
            ]),
            (this.sBox = new Uint32Array(256)),
            (this.invSBox = new Uint32Array(256)),
            (this.key = new Uint32Array(0)),
            (this.ksRows = 0),
            (this.keySize = 0),
            (this.keySchedule = void 0),
            (this.invKeySchedule = void 0),
            this.initTable());
        }
        uint8ArrayToUint32Array_(t) {
          const view = new DataView(t),
            e = new Uint32Array(4);
          for (let i = 0; i < 4; i++) e[i] = view.getUint32(4 * i);
          return e;
        }
        initTable() {
          const t = this.sBox,
            e = this.invSBox,
            r = this.subMix,
            n = r[0],
            o = r[1],
            l = r[2],
            c = r[3],
            h = this.invSubMix,
            d = h[0],
            f = h[1],
            m = h[2],
            y = h[3],
            v = new Uint32Array(256);
          let E = 0,
            D = 0,
            i = 0;
          for (i = 0; i < 256; i++) v[i] = i < 128 ? i << 1 : (i << 1) ^ 283;
          for (i = 0; i < 256; i++) {
            let r = D ^ (D << 1) ^ (D << 2) ^ (D << 3) ^ (D << 4);
            ((r = (r >>> 8) ^ (255 & r) ^ 99), (t[E] = r), (e[r] = E));
            const h = v[E],
              T = v[h],
              S = v[T];
            let _ = (257 * v[r]) ^ (16843008 * r);
            ((n[E] = (_ << 24) | (_ >>> 8)),
              (o[E] = (_ << 16) | (_ >>> 16)),
              (l[E] = (_ << 8) | (_ >>> 24)),
              (c[E] = _),
              (_ = (16843009 * S) ^ (65537 * T) ^ (257 * h) ^ (16843008 * E)),
              (d[r] = (_ << 24) | (_ >>> 8)),
              (f[r] = (_ << 16) | (_ >>> 16)),
              (m[r] = (_ << 8) | (_ >>> 24)),
              (y[r] = _),
              E ? ((E = h ^ v[v[v[S ^ h]]]), (D ^= v[v[D]])) : (E = D = 1));
          }
        }
        expandKey(t) {
          const e = this.uint8ArrayToUint32Array_(t);
          let r = !0,
            n = 0;
          for (; n < e.length && r; ) ((r = e[n] === this.key[n]), n++);
          if (r) return;
          this.key = e;
          const o = (this.keySize = e.length);
          if (4 !== o && 6 !== o && 8 !== o)
            throw new Error("Invalid aes key size=" + o);
          const l = (this.ksRows = 4 * (o + 6 + 1));
          let c, h;
          const d = (this.keySchedule = new Uint32Array(l)),
            f = (this.invKeySchedule = new Uint32Array(l)),
            m = this.sBox,
            y = this.rcon,
            v = this.invSubMix,
            E = v[0],
            D = v[1],
            T = v[2],
            S = v[3];
          let _, w;
          for (c = 0; c < l; c++)
            c < o
              ? (_ = d[c] = e[c])
              : ((w = _),
                c % o == 0
                  ? ((w = (w << 8) | (w >>> 24)),
                    (w =
                      (m[w >>> 24] << 24) |
                      (m[(w >>> 16) & 255] << 16) |
                      (m[(w >>> 8) & 255] << 8) |
                      m[255 & w]),
                    (w ^= y[(c / o) | 0] << 24))
                  : o > 6 &&
                    c % o == 4 &&
                    (w =
                      (m[w >>> 24] << 24) |
                      (m[(w >>> 16) & 255] << 16) |
                      (m[(w >>> 8) & 255] << 8) |
                      m[255 & w]),
                (d[c] = _ = (d[c - o] ^ w) >>> 0));
          for (h = 0; h < l; h++)
            ((c = l - h),
              (w = 3 & h ? d[c] : d[c - 4]),
              (f[h] =
                h < 4 || c <= 4
                  ? w
                  : E[m[w >>> 24]] ^
                    D[m[(w >>> 16) & 255]] ^
                    T[m[(w >>> 8) & 255]] ^
                    S[m[255 & w]]),
              (f[h] = f[h] >>> 0));
        }
        networkToHostOrderSwap(t) {
          return (
            (t << 24) | ((65280 & t) << 8) | ((16711680 & t) >> 8) | (t >>> 24)
          );
        }
        decrypt(t, e, r) {
          const n = this.keySize + 6,
            o = this.invKeySchedule,
            l = this.invSBox,
            c = this.invSubMix,
            h = c[0],
            d = c[1],
            f = c[2],
            m = c[3],
            y = this.uint8ArrayToUint32Array_(r);
          let v = y[0],
            E = y[1],
            D = y[2],
            T = y[3];
          const S = new Int32Array(t),
            _ = new Int32Array(S.length);
          let w, A, x, L, k, C, R, O, I, P, F, M, N, i;
          const B = this.networkToHostOrderSwap;
          for (; e < S.length; ) {
            for (
              I = B(S[e]),
                P = B(S[e + 1]),
                F = B(S[e + 2]),
                M = B(S[e + 3]),
                k = I ^ o[0],
                C = M ^ o[1],
                R = F ^ o[2],
                O = P ^ o[3],
                N = 4,
                i = 1;
              i < n;
              i++
            )
              ((w =
                h[k >>> 24] ^
                d[(C >> 16) & 255] ^
                f[(R >> 8) & 255] ^
                m[255 & O] ^
                o[N]),
                (A =
                  h[C >>> 24] ^
                  d[(R >> 16) & 255] ^
                  f[(O >> 8) & 255] ^
                  m[255 & k] ^
                  o[N + 1]),
                (x =
                  h[R >>> 24] ^
                  d[(O >> 16) & 255] ^
                  f[(k >> 8) & 255] ^
                  m[255 & C] ^
                  o[N + 2]),
                (L =
                  h[O >>> 24] ^
                  d[(k >> 16) & 255] ^
                  f[(C >> 8) & 255] ^
                  m[255 & R] ^
                  o[N + 3]),
                (k = w),
                (C = A),
                (R = x),
                (O = L),
                (N += 4));
            ((w =
              (l[k >>> 24] << 24) ^
              (l[(C >> 16) & 255] << 16) ^
              (l[(R >> 8) & 255] << 8) ^
              l[255 & O] ^
              o[N]),
              (A =
                (l[C >>> 24] << 24) ^
                (l[(R >> 16) & 255] << 16) ^
                (l[(O >> 8) & 255] << 8) ^
                l[255 & k] ^
                o[N + 1]),
              (x =
                (l[R >>> 24] << 24) ^
                (l[(O >> 16) & 255] << 16) ^
                (l[(k >> 8) & 255] << 8) ^
                l[255 & C] ^
                o[N + 2]),
              (L =
                (l[O >>> 24] << 24) ^
                (l[(k >> 16) & 255] << 16) ^
                (l[(C >> 8) & 255] << 8) ^
                l[255 & R] ^
                o[N + 3]),
              (_[e] = B(w ^ v)),
              (_[e + 1] = B(L ^ E)),
              (_[e + 2] = B(x ^ D)),
              (_[e + 3] = B(A ^ T)),
              (v = I),
              (E = P),
              (D = F),
              (T = M),
              (e += 4));
          }
          return _.buffer;
        }
      }
      class Fr {
        constructor(t, { removePKCS7Padding: e = !0 } = {}) {
          if (
            ((this.logEnabled = !0),
            (this.removePKCS7Padding = void 0),
            (this.subtle = null),
            (this.softwareDecrypter = null),
            (this.key = null),
            (this.fastAesKey = null),
            (this.remainderData = null),
            (this.currentIV = null),
            (this.currentResult = null),
            (this.useSoftware = void 0),
            (this.useSoftware = t.enableSoftwareAES),
            (this.removePKCS7Padding = e),
            e)
          )
            try {
              const t = self.crypto;
              t && (this.subtle = t.subtle || t.webkitSubtle);
            } catch (t) {}
          null === this.subtle && (this.useSoftware = !0);
        }
        destroy() {
          ((this.subtle = null),
            (this.softwareDecrypter = null),
            (this.key = null),
            (this.fastAesKey = null),
            (this.remainderData = null),
            (this.currentIV = null),
            (this.currentResult = null));
        }
        isSync() {
          return this.useSoftware;
        }
        flush() {
          const { currentResult: t, remainderData: e } = this;
          if (!t || e) return (this.reset(), null);
          const data = new Uint8Array(t);
          return (
            this.reset(),
            this.removePKCS7Padding
              ? (function (t) {
                  const e = t.byteLength,
                    r = e && new DataView(t.buffer).getUint8(e - 1);
                  return r ? nt(t, 0, e - r) : t;
                })(data)
              : data
          );
        }
        reset() {
          ((this.currentResult = null),
            (this.currentIV = null),
            (this.remainderData = null),
            this.softwareDecrypter && (this.softwareDecrypter = null));
        }
        decrypt(data, t, e) {
          return this.useSoftware
            ? new Promise((r, n) => {
                this.softwareDecrypt(new Uint8Array(data), t, e);
                const o = this.flush();
                o
                  ? r(o.buffer)
                  : n(new Error("[softwareDecrypt] Failed to decrypt data"));
              })
            : this.webCryptoDecrypt(new Uint8Array(data), t, e);
        }
        softwareDecrypt(data, t, e) {
          const { currentIV: r, currentResult: n, remainderData: o } = this;
          (this.logOnce("JS AES decrypt"),
            o && ((data = Ft(o, data)), (this.remainderData = null)));
          const l = this.getValidChunk(data);
          if (!l.length) return null;
          r && (e = r);
          let c = this.softwareDecrypter;
          (c || (c = this.softwareDecrypter = new Pr()), c.expandKey(t));
          const h = n;
          return (
            (this.currentResult = c.decrypt(l.buffer, 0, e)),
            (this.currentIV = nt(l, -16).buffer),
            h || null
          );
        }
        webCryptoDecrypt(data, t, e) {
          const r = this.subtle;
          return (
            (this.key === t && this.fastAesKey) ||
              ((this.key = t), (this.fastAesKey = new Ir(r, t))),
            this.fastAesKey
              .expandKey()
              .then((t) => {
                if (!r)
                  return Promise.reject(
                    new Error("web crypto not initialized"),
                  );
                this.logOnce("WebCrypto AES decrypt");
                return new Or(r, new Uint8Array(e)).decrypt(data.buffer, t);
              })
              .catch(
                (r) => (
                  C.warn(
                    `[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`,
                  ),
                  this.onWebCryptoError(data, t, e)
                ),
              )
          );
        }
        onWebCryptoError(data, t, e) {
          ((this.useSoftware = !0),
            (this.logEnabled = !0),
            this.softwareDecrypt(data, t, e));
          const r = this.flush();
          if (r) return r.buffer;
          throw new Error(
            "WebCrypto and softwareDecrypt: failed to decrypt data",
          );
        }
        getValidChunk(data) {
          let t = data;
          const e = data.length - (data.length % 16);
          return (
            e !== data.length &&
              ((t = nt(data, 0, e)), (this.remainderData = nt(data, e))),
            t
          );
        }
        logOnce(t) {
          this.logEnabled &&
            (C.log(`[decrypter]: ${t}`), (this.logEnabled = !1));
        }
      }
      const Mr = function (t) {
          let e = "";
          const r = t.length;
          for (let i = 0; i < r; i++)
            e += `[${t.start(i).toFixed(3)}-${t.end(i).toFixed(3)}]`;
          return e;
        },
        Nr = "STOPPED",
        Br = "IDLE",
        Ur = "KEY_LOADING",
        jr = "FRAG_LOADING",
        $r = "FRAG_LOADING_WAITING_RETRY",
        Gr = "WAITING_TRACK",
        Kr = "PARSING",
        Hr = "PARSED",
        Vr = "ENDED",
        Yr = "ERROR",
        zr = "WAITING_INIT_PTS",
        Wr = "WAITING_LEVEL";
      class qr extends Sr {
        constructor(t, e, r, n, o) {
          (super(),
            (this.hls = void 0),
            (this.fragPrevious = null),
            (this.fragCurrent = null),
            (this.fragmentTracker = void 0),
            (this.transmuxer = null),
            (this._state = Nr),
            (this.playlistType = void 0),
            (this.media = null),
            (this.mediaBuffer = null),
            (this.config = void 0),
            (this.bitrateTest = !1),
            (this.lastCurrentTime = 0),
            (this.nextLoadPosition = 0),
            (this.startPosition = 0),
            (this.startTimeOffset = null),
            (this.loadedmetadata = !1),
            (this.retryDate = 0),
            (this.levels = null),
            (this.fragmentLoader = void 0),
            (this.keyLoader = void 0),
            (this.levelLastLoaded = null),
            (this.startFragRequested = !1),
            (this.decrypter = void 0),
            (this.initPTS = []),
            (this.onvseeking = null),
            (this.onvended = null),
            (this.logPrefix = ""),
            (this.log = void 0),
            (this.warn = void 0),
            (this.playlistType = o),
            (this.logPrefix = n),
            (this.log = C.log.bind(C, `${n}:`)),
            (this.warn = C.warn.bind(C, `${n}:`)),
            (this.hls = t),
            (this.fragmentLoader = new yr(t.config)),
            (this.keyLoader = r),
            (this.fragmentTracker = e),
            (this.config = t.config),
            (this.decrypter = new Fr(t.config)),
            t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this));
        }
        doTick() {
          this.onTickEnd();
        }
        onTickEnd() {}
        startLoad(t) {}
        stopLoad() {
          (this.fragmentLoader.abort(),
            this.keyLoader.abort(this.playlistType));
          const t = this.fragCurrent;
          (null != t &&
            t.loader &&
            (t.abortRequests(), this.fragmentTracker.removeFragment(t)),
            this.resetTransmuxer(),
            (this.fragCurrent = null),
            (this.fragPrevious = null),
            this.clearInterval(),
            this.clearNextTick(),
            (this.state = Nr));
        }
        _streamEnded(t, e) {
          if (e.live || t.nextStart || !t.end || !this.media) return !1;
          const r = e.partList;
          if (null != r && r.length) {
            const t = r[r.length - 1];
            return wr.isBuffered(this.media, t.start + t.duration / 2);
          }
          const n = e.fragments[e.fragments.length - 1].type;
          return this.fragmentTracker.isEndListAppended(n);
        }
        getLevelDetails() {
          var t;
          if (this.levels && null !== this.levelLastLoaded)
            return null == (t = this.levels[this.levelLastLoaded])
              ? void 0
              : t.details;
        }
        onMediaAttached(t, data) {
          const e = (this.media = this.mediaBuffer = data.media);
          ((this.onvseeking = this.onMediaSeeking.bind(this)),
            (this.onvended = this.onMediaEnded.bind(this)),
            e.addEventListener("seeking", this.onvseeking),
            e.addEventListener("ended", this.onvended));
          const r = this.config;
          this.levels &&
            r.autoStartLoad &&
            this.state === Nr &&
            this.startLoad(r.startPosition);
        }
        onMediaDetaching() {
          const t = this.media;
          (null != t &&
            t.ended &&
            (this.log("MSE detaching and video ended, reset startPosition"),
            (this.startPosition = this.lastCurrentTime = 0)),
            t &&
              this.onvseeking &&
              this.onvended &&
              (t.removeEventListener("seeking", this.onvseeking),
              t.removeEventListener("ended", this.onvended),
              (this.onvseeking = this.onvended = null)),
            this.keyLoader && this.keyLoader.detach(),
            (this.media = this.mediaBuffer = null),
            (this.loadedmetadata = !1),
            this.fragmentTracker.removeAllFragments(),
            this.stopLoad());
        }
        onMediaSeeking() {
          const {
              config: t,
              fragCurrent: e,
              media: r,
              mediaBuffer: n,
              state: o,
            } = this,
            l = r ? r.currentTime : 0,
            c = wr.bufferInfo(n || r, l, t.maxBufferHole);
          if (
            (this.log(
              `media seeking to ${T(l) ? l.toFixed(3) : l}, state: ${o}`,
            ),
            this.state === Vr)
          )
            this.resetLoadingState();
          else if (e) {
            const r = t.maxFragLookUpTolerance,
              n = e.start - r,
              o = e.start + e.duration + r;
            if (!c.len || o < c.start || n > c.end) {
              const t = l > o;
              (l < n || t) &&
                (t &&
                  e.loader &&
                  (this.log(
                    "seeking outside of buffer while fragment load in progress, cancel fragment load",
                  ),
                  e.abortRequests(),
                  this.resetLoadingState()),
                (this.fragPrevious = null));
            }
          }
          (r &&
            (this.fragmentTracker.removeFragmentsInRange(
              l,
              1 / 0,
              this.playlistType,
              !0,
            ),
            (this.lastCurrentTime = l)),
            this.loadedmetadata ||
              c.len ||
              (this.nextLoadPosition = this.startPosition = l),
            this.tickImmediate());
        }
        onMediaEnded() {
          this.startPosition = this.lastCurrentTime = 0;
        }
        onManifestLoaded(t, data) {
          ((this.startTimeOffset = data.startTimeOffset), (this.initPTS = []));
        }
        onHandlerDestroying() {
          (this.stopLoad(), super.onHandlerDestroying());
        }
        onHandlerDestroyed() {
          ((this.state = Nr),
            this.fragmentLoader && this.fragmentLoader.destroy(),
            this.keyLoader && this.keyLoader.destroy(),
            this.decrypter && this.decrypter.destroy(),
            (this.hls =
              this.log =
              this.warn =
              this.decrypter =
              this.keyLoader =
              this.fragmentLoader =
              this.fragmentTracker =
                null),
            super.onHandlerDestroyed());
        }
        loadFragment(t, e, r) {
          this._loadFragForPlayback(t, e, r);
        }
        _loadFragForPlayback(t, e, r) {
          this._doFragLoad(t, e, r, (data) => {
            if (this.fragContextChanged(t))
              return (
                this.warn(
                  `Fragment ${t.sn}${data.part ? " p: " + data.part.index : ""} of level ${t.level} was dropped during download.`,
                ),
                void this.fragmentTracker.removeFragment(t)
              );
            (t.stats.chunkCount++, this._handleFragmentLoadProgress(data));
          })
            .then((data) => {
              if (!data) return;
              const e = this.state;
              this.fragContextChanged(t)
                ? (e === jr || (!this.fragCurrent && e === Kr)) &&
                  (this.fragmentTracker.removeFragment(t), (this.state = Br))
                : ("payload" in data &&
                    (this.log(`Loaded fragment ${t.sn} of level ${t.level}`),
                    this.hls.trigger(S.FRAG_LOADED, data)),
                  this._handleFragmentLoadComplete(data));
            })
            .catch((e) => {
              this.state !== Nr &&
                this.state !== Yr &&
                (this.warn(e), this.resetFragmentLoading(t));
            });
        }
        clearTrackerIfNeeded(t) {
          var e;
          const { fragmentTracker: r } = this;
          if (r.getState(t) === ur) {
            const e = t.type,
              n = this.getFwdBufferInfo(this.mediaBuffer, e),
              o = Math.max(t.duration, n ? n.len : this.config.maxBufferLength);
            this.reduceMaxBufferLength(o) && r.removeFragment(t);
          } else
            0 === (null == (e = this.mediaBuffer) ? void 0 : e.buffered.length)
              ? r.removeAllFragments()
              : r.hasParts(t.type) &&
                (r.detectPartialFragments({
                  frag: t,
                  part: null,
                  stats: t.stats,
                  id: t.type,
                }),
                r.getState(t) === cr && r.removeFragment(t));
        }
        checkLiveUpdate(details) {
          if (details.updated && !details.live) {
            const t = details.fragments[details.fragments.length - 1];
            this.fragmentTracker.detectPartialFragments({
              frag: t,
              part: null,
              stats: t.stats,
              id: t.type,
            });
          }
          details.fragments[0] || (details.deltaUpdateFailed = !0);
        }
        flushMainBuffer(t, e, r = null) {
          if (!(t - e)) return;
          const n = { startOffset: t, endOffset: e, type: r };
          this.hls.trigger(S.BUFFER_FLUSHING, n);
        }
        _loadInitSegment(t, e) {
          this._doFragLoad(t, e)
            .then((data) => {
              if (!data || this.fragContextChanged(t) || !this.levels)
                throw new Error("init load aborted");
              return data;
            })
            .then((data) => {
              const { hls: e } = this,
                { payload: r } = data,
                n = t.decryptdata;
              if (
                r &&
                r.byteLength > 0 &&
                n &&
                n.key &&
                n.iv &&
                "AES-128" === n.method
              ) {
                const o = self.performance.now();
                return this.decrypter
                  .decrypt(new Uint8Array(r), n.key.buffer, n.iv.buffer)
                  .catch((r) => {
                    throw (
                      e.trigger(S.ERROR, {
                        type: _.MEDIA_ERROR,
                        details: w.FRAG_DECRYPT_ERROR,
                        fatal: !1,
                        error: r,
                        reason: r.message,
                        frag: t,
                      }),
                      r
                    );
                  })
                  .then((r) => {
                    const n = self.performance.now();
                    return (
                      e.trigger(S.FRAG_DECRYPTED, {
                        frag: t,
                        payload: r,
                        stats: { tstart: o, tdecrypt: n },
                      }),
                      (data.payload = r),
                      data
                    );
                  });
              }
              return data;
            })
            .then((data) => {
              const { fragCurrent: r, hls: n, levels: o } = this;
              if (!o) throw new Error("init load aborted, missing levels");
              const l = t.stats;
              ((this.state = Br),
                (e.fragmentError = 0),
                (t.data = new Uint8Array(data.payload)),
                (l.parsing.start = l.buffering.start = self.performance.now()),
                (l.parsing.end = l.buffering.end = self.performance.now()),
                data.frag === r &&
                  n.trigger(S.FRAG_BUFFERED, {
                    stats: l,
                    frag: r,
                    part: null,
                    id: t.type,
                  }),
                this.tick());
            })
            .catch((e) => {
              this.state !== Nr &&
                this.state !== Yr &&
                (this.warn(e), this.resetFragmentLoading(t));
            });
        }
        fragContextChanged(t) {
          const { fragCurrent: e } = this;
          return (
            !t ||
            !e ||
            t.level !== e.level ||
            t.sn !== e.sn ||
            t.urlId !== e.urlId
          );
        }
        fragBufferedComplete(t, e) {
          var r, n, o, l;
          const c = this.mediaBuffer ? this.mediaBuffer : this.media;
          (this.log(
            `Buffered ${t.type} sn: ${t.sn}${e ? " part: " + e.index : ""} of ${this.playlistType === fe.MAIN ? "level" : "track"} ${t.level} (frag:[${(null != (r = t.startPTS) ? r : NaN).toFixed(3)}-${(null != (n = t.endPTS) ? n : NaN).toFixed(3)}] > buffer:${c ? Mr(wr.getBuffered(c)) : "(detached)"})`,
          ),
            (this.state = Br),
            c &&
              (!this.loadedmetadata &&
                t.type == fe.MAIN &&
                c.buffered.length &&
                (null == (o = this.fragCurrent) ? void 0 : o.sn) ===
                  (null == (l = this.fragPrevious) ? void 0 : l.sn) &&
                ((this.loadedmetadata = !0), this.seekToStartPos()),
              this.tick()));
        }
        seekToStartPos() {}
        _handleFragmentLoadComplete(t) {
          const { transmuxer: e } = this;
          if (!e) return;
          const { frag: r, part: n, partsLoaded: o } = t,
            l = !o || 0 === o.length || o.some((t) => !t),
            c = new Ar(
              r.level,
              r.sn,
              r.stats.chunkCount + 1,
              0,
              n ? n.index : -1,
              !l,
            );
          e.flush(c);
        }
        _handleFragmentLoadProgress(t) {}
        _doFragLoad(t, e, r = null, n) {
          var o;
          const details = null == e ? void 0 : e.details;
          if (!this.levels || !details)
            throw new Error(
              `frag load aborted, missing level${details ? "" : " detail"}s`,
            );
          let l = null;
          if (
            (!t.encrypted || (null != (o = t.decryptdata) && o.key)
              ? !t.encrypted &&
                details.encryptedFragments.length &&
                this.keyLoader.loadClear(t, details.encryptedFragments)
              : (this.log(
                  `Loading key for ${t.sn} of [${details.startSN}-${details.endSN}], ${"[stream-controller]" === this.logPrefix ? "level" : "track"} ${t.level}`,
                ),
                (this.state = Ur),
                (this.fragCurrent = t),
                (l = this.keyLoader.load(t).then((t) => {
                  if (!this.fragContextChanged(t.frag))
                    return (
                      this.hls.trigger(S.KEY_LOADED, t),
                      this.state === Ur && (this.state = Br),
                      t
                    );
                })),
                this.hls.trigger(S.KEY_LOADING, { frag: t }),
                null === this.fragCurrent &&
                  (l = Promise.reject(
                    new Error(
                      "frag load aborted, context changed in KEY_LOADING",
                    ),
                  ))),
            (r = Math.max(t.start, r || 0)),
            this.config.lowLatencyMode && "initSegment" !== t.sn)
          ) {
            const o = details.partList;
            if (o && n) {
              r > t.end && details.fragmentHint && (t = details.fragmentHint);
              const c = this.getNextPart(o, t, r);
              if (c > -1) {
                const h = o[c];
                let d;
                return (
                  this.log(
                    `Loading part sn: ${t.sn} p: ${h.index} cc: ${t.cc} of playlist [${details.startSN}-${details.endSN}] parts [0-${c}-${o.length - 1}] ${"[stream-controller]" === this.logPrefix ? "level" : "track"}: ${t.level}, target: ${parseFloat(r.toFixed(3))}`,
                  ),
                  (this.nextLoadPosition = h.start + h.duration),
                  (this.state = jr),
                  (d = l
                    ? l
                        .then((r) =>
                          !r || this.fragContextChanged(r.frag)
                            ? null
                            : this.doFragPartsLoad(t, h, e, n),
                        )
                        .catch((t) => this.handleFragLoadError(t))
                    : this.doFragPartsLoad(t, h, e, n).catch((t) =>
                        this.handleFragLoadError(t),
                      )),
                  this.hls.trigger(S.FRAG_LOADING, {
                    frag: t,
                    part: h,
                    targetBufferTime: r,
                  }),
                  null === this.fragCurrent
                    ? Promise.reject(
                        new Error(
                          "frag load aborted, context changed in FRAG_LOADING parts",
                        ),
                      )
                    : d
                );
              }
              if (!t.url || this.loadedEndOfParts(o, r))
                return Promise.resolve(null);
            }
          }
          (this.log(
            `Loading fragment ${t.sn} cc: ${t.cc} ${details ? "of [" + details.startSN + "-" + details.endSN + "] " : ""}${"[stream-controller]" === this.logPrefix ? "level" : "track"}: ${t.level}, target: ${parseFloat(r.toFixed(3))}`,
          ),
            T(t.sn) &&
              !this.bitrateTest &&
              (this.nextLoadPosition = t.start + t.duration),
            (this.state = jr));
          const c = this.config.progressive;
          let h;
          return (
            (h =
              c && l
                ? l
                    .then((e) =>
                      !e || this.fragContextChanged(null == e ? void 0 : e.frag)
                        ? null
                        : this.fragmentLoader.load(t, n),
                    )
                    .catch((t) => this.handleFragLoadError(t))
                : Promise.all([this.fragmentLoader.load(t, c ? n : void 0), l])
                    .then(([t]) => (!c && t && n && n(t), t))
                    .catch((t) => this.handleFragLoadError(t))),
            this.hls.trigger(S.FRAG_LOADING, { frag: t, targetBufferTime: r }),
            null === this.fragCurrent
              ? Promise.reject(
                  new Error(
                    "frag load aborted, context changed in FRAG_LOADING",
                  ),
                )
              : h
          );
        }
        doFragPartsLoad(t, e, r, n) {
          return new Promise((o, l) => {
            var c;
            const h = [],
              d = null == (c = r.details) ? void 0 : c.partList,
              f = (e) => {
                this.fragmentLoader
                  .loadPart(t, e, n)
                  .then((n) => {
                    h[e.index] = n;
                    const l = n.part;
                    this.hls.trigger(S.FRAG_LOADED, n);
                    const c =
                      Be(r, t.sn, e.index + 1) || Ue(d, t.sn, e.index + 1);
                    if (!c) return o({ frag: t, part: l, partsLoaded: h });
                    f(c);
                  })
                  .catch(l);
              };
            f(e);
          });
        }
        handleFragLoadError(t) {
          if ("data" in t) {
            const data = t.data;
            t.data && data.details === w.INTERNAL_ABORTED
              ? this.handleFragLoadAborted(data.frag, data.part)
              : this.hls.trigger(S.ERROR, data);
          } else
            this.hls.trigger(S.ERROR, {
              type: _.OTHER_ERROR,
              details: w.INTERNAL_EXCEPTION,
              err: t,
              error: t,
              fatal: !0,
            });
          return null;
        }
        _handleTransmuxerFlush(t) {
          const e = this.getCurrentContext(t);
          if (!e || this.state !== Kr)
            return void (
              this.fragCurrent ||
              this.state === Nr ||
              this.state === Yr ||
              (this.state = Br)
            );
          const { frag: r, part: n, level: o } = e,
            l = self.performance.now();
          ((r.stats.parsing.end = l),
            n && (n.stats.parsing.end = l),
            this.updateLevelTiming(r, n, o, t.partial));
        }
        getCurrentContext(t) {
          const { levels: e, fragCurrent: r } = this,
            { level: n, sn: o, part: l } = t;
          if (null == e || !e[n])
            return (
              this.warn(
                `Levels object was unset while buffering fragment ${o} of level ${n}. The current chunk will not be buffered.`,
              ),
              null
            );
          const c = e[n],
            h = l > -1 ? Be(c, o, l) : null,
            d = h
              ? h.fragment
              : (function (t, e, r) {
                  if (null == t || !t.details) return null;
                  const n = t.details;
                  let o = n.fragments[e - n.startSN];
                  return (
                    o ||
                    ((o = n.fragmentHint),
                    o && o.sn === e
                      ? o
                      : e < n.startSN && r && r.sn === e
                        ? r
                        : null)
                  );
                })(c, o, r);
          return d
            ? (r && r !== d && (d.stats = r.stats),
              { frag: d, part: h, level: c })
            : null;
        }
        bufferFragmentData(data, t, e, r, n) {
          var o;
          if (!data || this.state !== Kr) return;
          const { data1: l, data2: c } = data;
          let h = l;
          if ((l && c && (h = Ft(l, c)), null == (o = h) || !o.length)) return;
          const d = {
            type: data.type,
            frag: t,
            part: e,
            chunkMeta: r,
            parent: t.type,
            data: h,
          };
          if (
            (this.hls.trigger(S.BUFFER_APPENDING, d),
            data.dropped && data.independent && !e)
          ) {
            if (n) return;
            this.flushBufferGap(t);
          }
        }
        flushBufferGap(t) {
          const e = this.media;
          if (!e) return;
          if (!wr.isBuffered(e, e.currentTime))
            return void this.flushMainBuffer(0, t.start);
          const r = e.currentTime,
            n = wr.bufferInfo(e, r, 0),
            o = t.duration,
            l = Math.min(2 * this.config.maxFragLookUpTolerance, 0.25 * o),
            c = Math.max(Math.min(t.start - l, n.end - l), r + l);
          t.start - c > l && this.flushMainBuffer(c, t.start);
        }
        getFwdBufferInfo(t, e) {
          const r = this.getLoadPosition();
          return T(r) ? this.getFwdBufferInfoAtPos(t, r, e) : null;
        }
        getFwdBufferInfoAtPos(t, e, r) {
          const {
              config: { maxBufferHole: n },
            } = this,
            o = wr.bufferInfo(t, e, n);
          if (0 === o.len && void 0 !== o.nextStart) {
            const l = this.fragmentTracker.getBufferedFrag(e, r);
            if (l && o.nextStart < l.end)
              return wr.bufferInfo(t, e, Math.max(o.nextStart, n));
          }
          return o;
        }
        getMaxBufferLength(t) {
          const { config: e } = this;
          let r;
          return (
            (r = t
              ? Math.max((8 * e.maxBufferSize) / t, e.maxBufferLength)
              : e.maxBufferLength),
            Math.min(r, e.maxMaxBufferLength)
          );
        }
        reduceMaxBufferLength(t) {
          const e = this.config,
            r = t || e.maxBufferLength;
          return (
            e.maxMaxBufferLength >= r &&
            ((e.maxMaxBufferLength /= 2),
            this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),
            !0)
          );
        }
        getAppendedFrag(t, e = fe.MAIN) {
          const r = this.fragmentTracker.getAppendedFrag(t, fe.MAIN);
          return r && "fragment" in r ? r.fragment : r;
        }
        getNextFragment(t, e) {
          const r = e.fragments,
            n = r.length;
          if (!n) return null;
          const { config: o } = this,
            l = r[0].start;
          let c;
          if (e.live) {
            const l = o.initialLiveManifestSize;
            if (n < l)
              return (
                this.warn(
                  `Not enough fragments to start playback (have: ${n}, need: ${l})`,
                ),
                null
              );
            e.PTSKnown ||
              this.startFragRequested ||
              -1 !== this.startPosition ||
              ((c = this.getInitialLiveFragment(e, r)),
              (this.startPosition = c
                ? this.hls.liveSyncPosition || c.start
                : t));
          } else t <= l && (c = r[0]);
          if (!c) {
            const r = o.lowLatencyMode ? e.partEnd : e.fragmentEnd;
            c = this.getFragmentAtPosition(t, r, e);
          }
          return this.mapToInitFragWhenRequired(c);
        }
        isLoopLoading(t, e) {
          const r = this.fragmentTracker.getState(t);
          return (
            (r === dr || (r === cr && !!t.gap)) && this.nextLoadPosition > e
          );
        }
        getNextFragmentLoopLoading(t, e, r, n, o) {
          const l = t.gap,
            c = this.getNextFragment(this.nextLoadPosition, e);
          if (null === c) return c;
          if (((t = c), l && t && !t.gap && r.nextStart)) {
            const e = this.getFwdBufferInfoAtPos(
              this.mediaBuffer ? this.mediaBuffer : this.media,
              r.nextStart,
              n,
            );
            if (null !== e && r.len + e.len >= o)
              return (
                this.log(
                  `buffer full after gaps in "${n}" playlist starting at sn: ${t.sn}`,
                ),
                null
              );
          }
          return t;
        }
        mapToInitFragWhenRequired(t) {
          return null == t ||
            !t.initSegment ||
            (null != t && t.initSegment.data) ||
            this.bitrateTest
            ? t
            : t.initSegment;
        }
        getNextPart(t, e, r) {
          let n = -1,
            o = !1,
            l = !0;
          for (let i = 0, c = t.length; i < c; i++) {
            const c = t[i];
            if (((l = l && !c.independent), n > -1 && r < c.start)) break;
            const h = c.loaded;
            (h
              ? (n = -1)
              : (o || c.independent || l) && c.fragment === e && (n = i),
              (o = h));
          }
          return n;
        }
        loadedEndOfParts(t, e) {
          const r = t[t.length - 1];
          return r && e > r.start && r.loaded;
        }
        getInitialLiveFragment(t, e) {
          const r = this.fragPrevious;
          let n = null;
          if (r) {
            if (
              (t.hasProgramDateTime &&
                (this.log(
                  `Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`,
                ),
                (n = (function (t, e, r) {
                  if (null === e || !Array.isArray(t) || !t.length || !T(e))
                    return null;
                  if (e < (t[0].programDateTime || 0)) return null;
                  if (e >= (t[t.length - 1].endProgramDateTime || 0))
                    return null;
                  r = r || 0;
                  for (let n = 0; n < t.length; ++n) {
                    const o = t[n];
                    if (We(e, r, o)) return o;
                  }
                  return null;
                })(
                  e,
                  r.endProgramDateTime,
                  this.config.maxFragLookUpTolerance,
                ))),
              !n)
            ) {
              const o = r.sn + 1;
              if (o >= t.startSN && o <= t.endSN) {
                const l = e[o - t.startSN];
                r.cc === l.cc &&
                  ((n = l),
                  this.log(
                    `Live playlist, switching playlist, load frag with next SN: ${n.sn}`,
                  ));
              }
              n ||
                ((n = (function (t, e) {
                  return Ve.search(t, (t) =>
                    t.cc < e ? 1 : t.cc > e ? -1 : 0,
                  );
                })(e, r.cc)),
                n &&
                  this.log(
                    `Live playlist, switching playlist, load frag with same CC: ${n.sn}`,
                  ));
            }
          } else {
            const e = this.hls.liveSyncPosition;
            null !== e &&
              (n = this.getFragmentAtPosition(
                e,
                this.bitrateTest ? t.fragmentEnd : t.edge,
                t,
              ));
          }
          return n;
        }
        getFragmentAtPosition(t, e, r) {
          const { config: n } = this;
          let { fragPrevious: o } = this,
            { fragments: l, endSN: c } = r;
          const { fragmentHint: h } = r,
            d = n.maxFragLookUpTolerance,
            f = r.partList,
            m = !!(n.lowLatencyMode && null != f && f.length && h);
          let y;
          if (
            (m && h && !this.bitrateTest && ((l = l.concat(h)), (c = h.sn)),
            t < e)
          ) {
            y = Ye(o, l, t, t > e - d ? 0 : d);
          } else y = l[l.length - 1];
          if (y) {
            const t = y.sn - r.startSN,
              e = this.fragmentTracker.getState(y);
            if (
              ((e === dr || (e === cr && y.gap)) && (o = y),
              o && y.sn === o.sn && (!m || f[0].fragment.sn > y.sn))
            ) {
              if (o && y.level === o.level) {
                const e = l[t + 1];
                y =
                  y.sn < c && this.fragmentTracker.getState(e) !== dr
                    ? e
                    : null;
              }
            }
          }
          return y;
        }
        synchronizeToLiveEdge(t) {
          const { config: e, media: r } = this;
          if (!r) return;
          const n = this.hls.liveSyncPosition,
            o = r.currentTime,
            l = t.fragments[0].start,
            c = t.edge,
            h = o >= l - e.maxFragLookUpTolerance && o <= c;
          if (null !== n && r.duration > n && (o < n || !h)) {
            const l =
              void 0 !== e.liveMaxLatencyDuration
                ? e.liveMaxLatencyDuration
                : e.liveMaxLatencyDurationCount * t.targetduration;
            ((!h && r.readyState < 4) || o < c - l) &&
              (this.loadedmetadata || (this.nextLoadPosition = n),
              r.readyState &&
                (this.warn(
                  `Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${c}, reset currentTime to : ${n.toFixed(3)}`,
                ),
                (r.currentTime = n)));
          }
        }
        alignPlaylists(details, t) {
          const { levels: e, levelLastLoaded: r, fragPrevious: n } = this,
            o = null !== r ? e[r] : null,
            l = details.fragments.length;
          if (!l) return (this.warn("No fragments in live playlist"), 0);
          const c = details.fragments[0].start,
            h = !t,
            d = details.alignedSliding && T(c);
          if (h || (!d && !c)) {
            Cr(n, o, details);
            const e = details.fragments[0].start;
            return (
              this.log(
                `Live playlist sliding: ${e.toFixed(2)} start-sn: ${t ? t.startSN : "na"}->${details.startSN} prev-sn: ${n ? n.sn : "na"} fragments: ${l}`,
              ),
              e
            );
          }
          return c;
        }
        waitForCdnTuneIn(details) {
          return (
            details.live &&
            details.canBlockReload &&
            details.partTarget &&
            details.tuneInGoal >
              Math.max(details.partHoldBack, 3 * details.partTarget)
          );
        }
        setStartPosition(details, t) {
          let e = this.startPosition;
          if ((e < t && (e = -1), -1 === e || -1 === this.lastCurrentTime)) {
            const r = null !== this.startTimeOffset,
              n = r ? this.startTimeOffset : details.startTimeOffset;
            (null !== n && T(n)
              ? ((e = t + n),
                n < 0 && (e += details.totalduration),
                (e = Math.min(Math.max(t, e), t + details.totalduration)),
                this.log(
                  `Start time offset ${n} found in ${r ? "multivariant" : "media"} playlist, adjust startPosition to ${e}`,
                ),
                (this.startPosition = e))
              : details.live
                ? (e = this.hls.liveSyncPosition || t)
                : (this.startPosition = e = 0),
              (this.lastCurrentTime = e));
          }
          this.nextLoadPosition = e;
        }
        getLoadPosition() {
          const { media: t } = this;
          let e = 0;
          return (
            this.loadedmetadata && t
              ? (e = t.currentTime)
              : this.nextLoadPosition && (e = this.nextLoadPosition),
            e
          );
        }
        handleFragLoadAborted(t, e) {
          this.transmuxer &&
            "initSegment" !== t.sn &&
            t.stats.aborted &&
            (this.warn(
              `Fragment ${t.sn}${e ? " part " + e.index : ""} of level ${t.level} was aborted`,
            ),
            this.resetFragmentLoading(t));
        }
        resetFragmentLoading(t) {
          (this.fragCurrent &&
            (this.fragContextChanged(t) || this.state === $r)) ||
            (this.state = Br);
        }
        onFragmentOrKeyLoadError(t, data) {
          if (data.chunkMeta && !data.frag) {
            const t = this.getCurrentContext(data.chunkMeta);
            t && (data.frag = t.frag);
          }
          const e = data.frag;
          if (!e || e.type !== t || !this.levels) return;
          var r;
          if (this.fragContextChanged(e))
            return void this.warn(
              `Frag load error must match current frag to retry ${e.url} > ${null == (r = this.fragCurrent) ? void 0 : r.url}`,
            );
          const n = data.details === w.FRAG_GAP;
          n && this.fragmentTracker.fragBuffered(e, !0);
          const o = data.errorAction,
            { action: l, retryCount: c = 0, retryConfig: h } = o || {};
          if (o && l === Qe && h) {
            var d;
            this.resetStartWhenNotLoaded(
              null != (d = this.levelLastLoaded) ? d : e.level,
            );
            const r = Ge(h, c);
            (this.warn(
              `Fragment ${e.sn} of ${t} ${e.level} errored with ${data.details}, retrying loading ${c + 1}/${h.maxNumRetry} in ${r}ms`,
            ),
              (o.resolved = !0),
              (this.retryDate = self.performance.now() + r),
              (this.state = $r));
          } else
            h && o
              ? (this.resetFragmentErrors(t),
                c < h.maxNumRetry
                  ? n || (o.resolved = !0)
                  : C.warn(
                      `${data.details} reached or exceeded max retry (${c})`,
                    ))
              : (null == o ? void 0 : o.action) === Xe
                ? (this.state = Wr)
                : (this.state = Yr);
          this.tickImmediate();
        }
        reduceLengthAndFlushBuffer(data) {
          if (this.state === Kr || this.state === Hr) {
            const t = data.parent,
              e = this.getFwdBufferInfo(this.mediaBuffer, t),
              r = e && e.len > 0.5;
            r && this.reduceMaxBufferLength(e.len);
            const n = !r;
            return (
              n &&
                this.warn(
                  `Buffer full error while media.currentTime is not buffered, flush ${t} buffer`,
                ),
              data.frag &&
                (this.fragmentTracker.removeFragment(data.frag),
                (this.nextLoadPosition = data.frag.start)),
              this.resetLoadingState(),
              n
            );
          }
          return !1;
        }
        resetFragmentErrors(t) {
          (t === fe.AUDIO && (this.fragCurrent = null),
            this.loadedmetadata || (this.startFragRequested = !1),
            this.state !== Nr && (this.state = Br));
        }
        afterBufferFlushed(t, e, r) {
          if (!t) return;
          const n = wr.getBuffered(t);
          (this.fragmentTracker.detectEvictedFragments(e, n, r),
            this.state === Vr && this.resetLoadingState());
        }
        resetLoadingState() {
          (this.log("Reset loading state"),
            (this.fragCurrent = null),
            (this.fragPrevious = null),
            (this.state = Br));
        }
        resetStartWhenNotLoaded(t) {
          if (!this.loadedmetadata) {
            this.startFragRequested = !1;
            const details = this.levels ? this.levels[t].details : null;
            null != details && details.live
              ? ((this.startPosition = -1),
                this.setStartPosition(details, 0),
                this.resetLoadingState())
              : (this.nextLoadPosition = this.startPosition);
          }
        }
        resetWhenMissingContext(t) {
          var e;
          (this.warn(
            `The loading context changed while buffering fragment ${t.sn} of level ${t.level}. This chunk will not be buffered.`,
          ),
            this.removeUnbufferedFrags(),
            this.resetStartWhenNotLoaded(
              null != (e = this.levelLastLoaded) ? e : t.level,
            ),
            this.resetLoadingState());
        }
        removeUnbufferedFrags(t = 0) {
          this.fragmentTracker.removeFragmentsInRange(
            t,
            1 / 0,
            this.playlistType,
            !1,
            !0,
          );
        }
        updateLevelTiming(t, e, r, n) {
          var o;
          const details = r.details;
          if (!details) return void this.warn("level.details undefined");
          if (
            Object.keys(t.elementaryStreams).reduce((e, o) => {
              const l = t.elementaryStreams[o];
              if (l) {
                const c = l.endPTS - l.startPTS;
                if (c <= 0)
                  return (
                    this.warn(
                      `Could not parse fragment ${t.sn} ${o} duration reliably (${c})`,
                    ),
                    e || !1
                  );
                const h = n
                  ? 0
                  : Pe(details, t, l.startPTS, l.endPTS, l.startDTS, l.endDTS);
                return (
                  this.hls.trigger(S.LEVEL_PTS_UPDATED, {
                    details: details,
                    level: r,
                    drift: h,
                    type: o,
                    frag: t,
                    start: l.startPTS,
                    end: l.endPTS,
                  }),
                  !0
                );
              }
              return e;
            }, !1)
          )
            r.fragmentError = 0;
          else if (
            null === (null == (o = this.transmuxer) ? void 0 : o.error)
          ) {
            const e = new Error(
              `Found no media in fragment ${t.sn} of level ${t.level} resetting transmuxer to fallback to playlist timing`,
            );
            if (
              (0 === r.fragmentError &&
                (r.fragmentError++,
                (t.gap = !0),
                this.fragmentTracker.removeFragment(t),
                this.fragmentTracker.fragBuffered(t, !0)),
              this.warn(e.message),
              this.hls.trigger(S.ERROR, {
                type: _.MEDIA_ERROR,
                details: w.FRAG_PARSING_ERROR,
                fatal: !1,
                error: e,
                frag: t,
                reason: `Found no media in msn ${t.sn} of level "${r.url}"`,
              }),
              !this.hls)
            )
              return;
            this.resetTransmuxer();
          }
          ((this.state = Hr),
            this.hls.trigger(S.FRAG_PARSED, { frag: t, part: e }));
        }
        resetTransmuxer() {
          this.transmuxer &&
            (this.transmuxer.destroy(), (this.transmuxer = null));
        }
        recoverWorkerError(data) {
          var t, e, r;
          "demuxerWorker" === data.event &&
            (this.fragmentTracker.removeAllFragments(),
            this.resetTransmuxer(),
            this.resetStartWhenNotLoaded(
              null !=
                (t =
                  null != (e = this.levelLastLoaded)
                    ? e
                    : null == (r = this.fragCurrent)
                      ? void 0
                      : r.level)
                ? t
                : 0,
            ),
            this.resetLoadingState());
        }
        set state(t) {
          const e = this._state;
          e !== t && ((this._state = t), this.log(`${e}->${t}`));
        }
        get state() {
          return this._state;
        }
      }
      function Xr() {
        return self.SourceBuffer || self.WebKitSourceBuffer;
      }
      function Qr(t = "", e = 9e4) {
        return {
          type: t,
          id: -1,
          pid: -1,
          inputTimeScale: e,
          sequenceNumber: -1,
          samples: [],
          dropped: 0,
        };
      }
      class Jr {
        constructor() {
          ((this._audioTrack = void 0),
            (this._id3Track = void 0),
            (this.frameIndex = 0),
            (this.cachedData = null),
            (this.basePTS = null),
            (this.initPTS = null),
            (this.lastPTS = null));
        }
        resetInitSegment(t, e, r, n) {
          this._id3Track = {
            type: "id3",
            id: 3,
            pid: -1,
            inputTimeScale: 9e4,
            sequenceNumber: 0,
            samples: [],
            dropped: 0,
          };
        }
        resetTimeStamp(t) {
          ((this.initPTS = t), this.resetContiguity());
        }
        resetContiguity() {
          ((this.basePTS = null), (this.lastPTS = null), (this.frameIndex = 0));
        }
        canParse(data, t) {
          return !1;
        }
        appendFrame(track, data, t) {}
        demux(data, t) {
          this.cachedData &&
            ((data = Ft(this.cachedData, data)), (this.cachedData = null));
          let e,
            r = at(data, 0),
            n = r ? r.length : 0;
          const track = this._audioTrack,
            o = this._id3Track,
            l = r
              ? ((data) => {
                  const t = ht(data);
                  for (let i = 0; i < t.length; i++) {
                    const e = t[i];
                    if (ut(e)) return yt(e);
                  }
                })(r)
              : void 0,
            c = data.length;
          for (
            (null === this.basePTS || (0 === this.frameIndex && T(l))) &&
              ((this.basePTS = Zr(l, t, this.initPTS)),
              (this.lastPTS = this.basePTS)),
              null === this.lastPTS && (this.lastPTS = this.basePTS),
              r &&
                r.length > 0 &&
                o.samples.push({
                  pts: this.lastPTS,
                  dts: this.lastPTS,
                  data: r,
                  type: De,
                  duration: Number.POSITIVE_INFINITY,
                });
            n < c;
          ) {
            if (this.canParse(data, n)) {
              const t = this.appendFrame(track, data, n);
              t
                ? (this.frameIndex++,
                  (this.lastPTS = t.sample.pts),
                  (n += t.length),
                  (e = n))
                : (n = c);
            } else
              lt(data, n)
                ? ((r = at(data, n)),
                  o.samples.push({
                    pts: this.lastPTS,
                    dts: this.lastPTS,
                    data: r,
                    type: De,
                    duration: Number.POSITIVE_INFINITY,
                  }),
                  (n += r.length),
                  (e = n))
                : n++;
            if (n === c && e !== c) {
              const t = nt(data, e);
              this.cachedData
                ? (this.cachedData = Ft(this.cachedData, t))
                : (this.cachedData = t);
            }
          }
          return {
            audioTrack: track,
            videoTrack: Qr(),
            id3Track: o,
            textTrack: Qr(),
          };
        }
        demuxSampleAes(data, t, e) {
          return Promise.reject(
            new Error(
              `[${this}] This demuxer does not support Sample-AES decryption`,
            ),
          );
        }
        flush(t) {
          const e = this.cachedData;
          return (
            e && ((this.cachedData = null), this.demux(e, 0)),
            {
              audioTrack: this._audioTrack,
              videoTrack: Qr(),
              id3Track: this._id3Track,
              textTrack: Qr(),
            }
          );
        }
        destroy() {}
      }
      const Zr = (t, e, r) => {
        if (T(t)) return 90 * t;
        return 9e4 * e + (r ? (9e4 * r.baseTime) / r.timescale : 0);
      };
      function tn(data, t) {
        return 255 === data[t] && 240 == (246 & data[t + 1]);
      }
      function en(data, t) {
        return 1 & data[t + 1] ? 7 : 9;
      }
      function rn(data, t) {
        return (
          ((3 & data[t + 3]) << 11) |
          (data[t + 4] << 3) |
          ((224 & data[t + 5]) >>> 5)
        );
      }
      function nn(data, t) {
        return t + 1 < data.length && tn(data, t);
      }
      function sn(data, t) {
        if (nn(data, t)) {
          const e = en(data, t);
          if (t + e >= data.length) return !1;
          const r = rn(data, t);
          if (r <= e) return !1;
          const n = t + r;
          return n === data.length || nn(data, n);
        }
        return !1;
      }
      function an(track, t, data, e, r) {
        if (!track.samplerate) {
          const n = (function (t, data, e, r) {
            let n, o, l, c;
            const h = navigator.userAgent.toLowerCase(),
              d = r,
              f = [
                96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3,
                11025, 8e3, 7350,
              ];
            n = 1 + ((192 & data[e + 2]) >>> 6);
            const m = (60 & data[e + 2]) >>> 2;
            if (!(m > f.length - 1))
              return (
                (l = (1 & data[e + 2]) << 2),
                (l |= (192 & data[e + 3]) >>> 6),
                C.log(
                  `manifest codec:${r}, ADTS type:${n}, samplingIndex:${m}`,
                ),
                /firefox/i.test(h)
                  ? m >= 6
                    ? ((n = 5), (c = new Array(4)), (o = m - 3))
                    : ((n = 2), (c = new Array(2)), (o = m))
                  : -1 !== h.indexOf("android")
                    ? ((n = 2), (c = new Array(2)), (o = m))
                    : ((n = 5),
                      (c = new Array(4)),
                      (r &&
                        (-1 !== r.indexOf("mp4a.40.29") ||
                          -1 !== r.indexOf("mp4a.40.5"))) ||
                      (!r && m >= 6)
                        ? (o = m - 3)
                        : (((r &&
                            -1 !== r.indexOf("mp4a.40.2") &&
                            ((m >= 6 && 1 === l) || /vivaldi/i.test(h))) ||
                            (!r && 1 === l)) &&
                            ((n = 2), (c = new Array(2))),
                          (o = m))),
                (c[0] = n << 3),
                (c[0] |= (14 & m) >> 1),
                (c[1] |= (1 & m) << 7),
                (c[1] |= l << 3),
                5 === n &&
                  ((c[1] |= (14 & o) >> 1),
                  (c[2] = (1 & o) << 7),
                  (c[2] |= 8),
                  (c[3] = 0)),
                {
                  config: c,
                  samplerate: f[m],
                  channelCount: l,
                  codec: "mp4a.40." + n,
                  manifestCodec: d,
                }
              );
            t.trigger(S.ERROR, {
              type: _.MEDIA_ERROR,
              details: w.FRAG_PARSING_ERROR,
              fatal: !0,
              reason: `invalid ADTS sampling index:${m}`,
            });
          })(t, data, e, r);
          if (!n) return;
          ((track.config = n.config),
            (track.samplerate = n.samplerate),
            (track.channelCount = n.channelCount),
            (track.codec = n.codec),
            (track.manifestCodec = n.manifestCodec),
            C.log(
              `parsed codec:${track.codec}, rate:${n.samplerate}, channels:${n.channelCount}`,
            ));
        }
      }
      function on(t) {
        return 9216e4 / t;
      }
      function ln(track, data, t, e, r) {
        const n = e + r * on(track.samplerate),
          header = (function (data, t) {
            const e = en(data, t);
            if (t + e <= data.length) {
              const r = rn(data, t) - e;
              if (r > 0) return { headerLength: e, frameLength: r };
            }
          })(data, t);
        let o;
        if (header) {
          const { frameLength: e, headerLength: r } = header,
            l = r + e,
            c = Math.max(0, t + l - data.length);
          c
            ? ((o = new Uint8Array(l - r)),
              o.set(data.subarray(t + r, data.length), 0))
            : (o = data.subarray(t + r, t + l));
          const h = { unit: o, pts: n };
          return (
            c || track.samples.push(h),
            { sample: h, length: l, missing: c }
          );
        }
        const l = data.length - t;
        ((o = new Uint8Array(l)), o.set(data.subarray(t, data.length), 0));
        return { sample: { unit: o, pts: n }, length: l, missing: -1 };
      }
      const un = /\/emsg[-/]ID3/i;
      let cn = null;
      const hn = [
          32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32,
          48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40,
          48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64,
          80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48,
          56, 64, 80, 96, 112, 128, 144, 160,
        ],
        dn = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3],
        fn = [
          [0, 72, 144, 12],
          [0, 0, 0, 0],
          [0, 72, 144, 12],
          [0, 144, 144, 12],
        ],
        pn = [0, 1, 1, 4];
      function gn(track, data, t, e, r) {
        if (t + 24 > data.length) return;
        const header = mn(data, t);
        if (header && t + header.frameLength <= data.length) {
          const n =
              e + r * ((9e4 * header.samplesPerFrame) / header.sampleRate),
            o = {
              unit: data.subarray(t, t + header.frameLength),
              pts: n,
              dts: n,
            };
          return (
            (track.config = []),
            (track.channelCount = header.channelCount),
            (track.samplerate = header.sampleRate),
            track.samples.push(o),
            { sample: o, length: header.frameLength, missing: 0 }
          );
        }
      }
      function mn(data, t) {
        const e = (data[t + 1] >> 3) & 3,
          r = (data[t + 1] >> 1) & 3,
          n = (data[t + 2] >> 4) & 15,
          o = (data[t + 2] >> 2) & 3;
        if (1 !== e && 0 !== n && 15 !== n && 3 !== o) {
          const l = (data[t + 2] >> 1) & 1,
            c = data[t + 3] >> 6,
            h = 1e3 * hn[14 * (3 === e ? 3 - r : 3 === r ? 3 : 4) + n - 1],
            d = dn[3 * (3 === e ? 0 : 2 === e ? 1 : 2) + o],
            f = 3 === c ? 1 : 2,
            m = fn[e][r],
            y = pn[r],
            v = 8 * m * y,
            E = Math.floor((m * h) / d + l) * y;
          if (null === cn) {
            const t = (navigator.userAgent || "").match(/Chrome\/(\d+)/i);
            cn = t ? parseInt(t[1]) : 0;
          }
          return (
            !!cn &&
              cn <= 87 &&
              2 === r &&
              h >= 224e3 &&
              0 === c &&
              (data[t + 3] = 128 | data[t + 3]),
            {
              sampleRate: d,
              channelCount: f,
              frameLength: E,
              samplesPerFrame: v,
            }
          );
        }
      }
      function yn(data, t) {
        return (
          255 === data[t] &&
          224 == (224 & data[t + 1]) &&
          0 != (6 & data[t + 1])
        );
      }
      function vn(data, t) {
        return t + 1 < data.length && yn(data, t);
      }
      function bn(data, t) {
        if (t + 1 < data.length && yn(data, t)) {
          const e = 4,
            header = mn(data, t);
          let r = e;
          null != header && header.frameLength && (r = header.frameLength);
          const n = t + r;
          return n === data.length || vn(data, n);
        }
        return !1;
      }
      class En {
        constructor(data) {
          ((this.data = void 0),
            (this.bytesAvailable = void 0),
            (this.word = void 0),
            (this.bitsAvailable = void 0),
            (this.data = data),
            (this.bytesAvailable = data.byteLength),
            (this.word = 0),
            (this.bitsAvailable = 0));
        }
        loadWord() {
          const data = this.data,
            t = this.bytesAvailable,
            e = data.byteLength - t,
            r = new Uint8Array(4),
            n = Math.min(4, t);
          if (0 === n) throw new Error("no bytes available");
          (r.set(data.subarray(e, e + n)),
            (this.word = new DataView(r.buffer).getUint32(0)),
            (this.bitsAvailable = 8 * n),
            (this.bytesAvailable -= n));
        }
        skipBits(t) {
          let e;
          ((t = Math.min(t, 8 * this.bytesAvailable + this.bitsAvailable)),
            this.bitsAvailable > t
              ? ((this.word <<= t), (this.bitsAvailable -= t))
              : ((e = (t -= this.bitsAvailable) >> 3),
                (t -= e << 3),
                (this.bytesAvailable -= e),
                this.loadWord(),
                (this.word <<= t),
                (this.bitsAvailable -= t)));
        }
        readBits(t) {
          let e = Math.min(this.bitsAvailable, t);
          const r = this.word >>> (32 - e);
          if (
            (t > 32 && C.error("Cannot read more than 32 bits at a time"),
            (this.bitsAvailable -= e),
            this.bitsAvailable > 0)
          )
            this.word <<= e;
          else {
            if (!(this.bytesAvailable > 0))
              throw new Error("no bits available");
            this.loadWord();
          }
          return (
            (e = t - e),
            e > 0 && this.bitsAvailable ? (r << e) | this.readBits(e) : r
          );
        }
        skipLZ() {
          let t;
          for (t = 0; t < this.bitsAvailable; ++t)
            if (0 != (this.word & (2147483648 >>> t)))
              return ((this.word <<= t), (this.bitsAvailable -= t), t);
          return (this.loadWord(), t + this.skipLZ());
        }
        skipUEG() {
          this.skipBits(1 + this.skipLZ());
        }
        skipEG() {
          this.skipBits(1 + this.skipLZ());
        }
        readUEG() {
          const t = this.skipLZ();
          return this.readBits(t + 1) - 1;
        }
        readEG() {
          const t = this.readUEG();
          return 1 & t ? (1 + t) >>> 1 : -1 * (t >>> 1);
        }
        readBoolean() {
          return 1 === this.readBits(1);
        }
        readUByte() {
          return this.readBits(8);
        }
        readUShort() {
          return this.readBits(16);
        }
        readUInt() {
          return this.readBits(32);
        }
        skipScalingList(t) {
          let e,
            r = 8,
            n = 8;
          for (let o = 0; o < t; o++)
            (0 !== n && ((e = this.readEG()), (n = (r + e + 256) % 256)),
              (r = 0 === n ? r : n));
        }
        readSPS() {
          let t,
            e,
            i,
            r = 0,
            n = 0,
            o = 0,
            l = 0;
          const c = this.readUByte.bind(this),
            h = this.readBits.bind(this),
            d = this.readUEG.bind(this),
            f = this.readBoolean.bind(this),
            m = this.skipBits.bind(this),
            y = this.skipEG.bind(this),
            v = this.skipUEG.bind(this),
            E = this.skipScalingList.bind(this);
          c();
          const D = c();
          if (
            (h(5),
            m(3),
            c(),
            v(),
            100 === D ||
              110 === D ||
              122 === D ||
              244 === D ||
              44 === D ||
              83 === D ||
              86 === D ||
              118 === D ||
              128 === D)
          ) {
            const t = d();
            if ((3 === t && m(1), v(), v(), m(1), f()))
              for (e = 3 !== t ? 8 : 12, i = 0; i < e; i++)
                f() && E(i < 6 ? 16 : 64);
          }
          v();
          const T = d();
          if (0 === T) d();
          else if (1 === T)
            for (m(1), y(), y(), t = d(), i = 0; i < t; i++) y();
          (v(), m(1));
          const S = d(),
            _ = d(),
            w = h(1);
          (0 === w && m(1),
            m(1),
            f() && ((r = d()), (n = d()), (o = d()), (l = d())));
          let A = [1, 1];
          if (f() && f()) {
            switch (c()) {
              case 1:
                A = [1, 1];
                break;
              case 2:
                A = [12, 11];
                break;
              case 3:
                A = [10, 11];
                break;
              case 4:
                A = [16, 11];
                break;
              case 5:
                A = [40, 33];
                break;
              case 6:
                A = [24, 11];
                break;
              case 7:
                A = [20, 11];
                break;
              case 8:
                A = [32, 11];
                break;
              case 9:
                A = [80, 33];
                break;
              case 10:
                A = [18, 11];
                break;
              case 11:
                A = [15, 11];
                break;
              case 12:
                A = [64, 33];
                break;
              case 13:
                A = [160, 99];
                break;
              case 14:
                A = [4, 3];
                break;
              case 15:
                A = [3, 2];
                break;
              case 16:
                A = [2, 1];
                break;
              case 255:
                A = [(c() << 8) | c(), (c() << 8) | c()];
            }
          }
          return {
            width: Math.ceil(16 * (S + 1) - 2 * r - 2 * n),
            height: (2 - w) * (_ + 1) * 16 - (w ? 2 : 4) * (o + l),
            pixelRatio: A,
          };
        }
        readSliceType() {
          return (this.readUByte(), this.readUEG(), this.readUEG());
        }
      }
      class Dn {
        constructor(t, e, r) {
          ((this.keyData = void 0),
            (this.decrypter = void 0),
            (this.keyData = r),
            (this.decrypter = new Fr(e, { removePKCS7Padding: !1 })));
        }
        decryptBuffer(t) {
          return this.decrypter.decrypt(
            t,
            this.keyData.key.buffer,
            this.keyData.iv.buffer,
          );
        }
        decryptAacSample(t, e, r) {
          const n = t[e].unit;
          if (n.length <= 16) return;
          const o = n.subarray(16, n.length - (n.length % 16)),
            l = o.buffer.slice(o.byteOffset, o.byteOffset + o.length);
          this.decryptBuffer(l).then((o) => {
            const l = new Uint8Array(o);
            (n.set(l, 16),
              this.decrypter.isSync() || this.decryptAacSamples(t, e + 1, r));
          });
        }
        decryptAacSamples(t, e, r) {
          for (; ; e++) {
            if (e >= t.length) return void r();
            if (
              !(t[e].unit.length < 32) &&
              (this.decryptAacSample(t, e, r), !this.decrypter.isSync())
            )
              return;
          }
        }
        getAvcEncryptedData(t) {
          const e = 16 * Math.floor((t.length - 48) / 160) + 16,
            r = new Int8Array(e);
          let n = 0;
          for (let e = 32; e < t.length - 16; e += 160, n += 16)
            r.set(t.subarray(e, e + 16), n);
          return r;
        }
        getAvcDecryptedUnit(t, e) {
          const r = new Uint8Array(e);
          let n = 0;
          for (let e = 32; e < t.length - 16; e += 160, n += 16)
            t.set(r.subarray(n, n + 16), e);
          return t;
        }
        decryptAvcSample(t, e, r, n, o) {
          const l = Ut(o.data),
            c = this.getAvcEncryptedData(l);
          this.decryptBuffer(c.buffer).then((c) => {
            ((o.data = this.getAvcDecryptedUnit(l, c)),
              this.decrypter.isSync() ||
                this.decryptAvcSamples(t, e, r + 1, n));
          });
        }
        decryptAvcSamples(t, e, r, n) {
          if (t instanceof Uint8Array)
            throw new Error("Cannot decrypt samples of type Uint8Array");
          for (; ; e++, r = 0) {
            if (e >= t.length) return void n();
            const o = t[e].units;
            for (; !(r >= o.length); r++) {
              const l = o[r];
              if (
                !(
                  l.data.length <= 48 ||
                  (1 !== l.type && 5 !== l.type) ||
                  (this.decryptAvcSample(t, e, r, n, l),
                  this.decrypter.isSync())
                )
              )
                return;
            }
          }
        }
      }
      const Tn = 188;
      class Sn {
        constructor(t, e, r) {
          ((this.observer = void 0),
            (this.config = void 0),
            (this.typeSupported = void 0),
            (this.sampleAes = null),
            (this.pmtParsed = !1),
            (this.audioCodec = void 0),
            (this.videoCodec = void 0),
            (this._duration = 0),
            (this._pmtId = -1),
            (this._avcTrack = void 0),
            (this._audioTrack = void 0),
            (this._id3Track = void 0),
            (this._txtTrack = void 0),
            (this.aacOverFlow = null),
            (this.avcSample = null),
            (this.remainderData = null),
            (this.observer = t),
            (this.config = e),
            (this.typeSupported = r));
        }
        static probe(data) {
          const t = Sn.syncOffset(data);
          return (
            t > 0 &&
              C.warn(
                `MPEG2-TS detected but first sync word found @ offset ${t}`,
              ),
            -1 !== t
          );
        }
        static syncOffset(data) {
          const t = data.length;
          let e = Math.min(940, data.length - Tn) + 1,
            i = 0;
          for (; i < e; ) {
            let r = !1,
              n = -1,
              o = 0;
            for (let l = i; l < t; l += Tn) {
              if (71 !== data[l]) {
                if (o) return -1;
                break;
              }
              if (
                (o++,
                -1 === n &&
                  ((n = l),
                  0 !== n && (e = Math.min(n + 18612, data.length - Tn) + 1)),
                r || (r = 0 === wn(data, l)),
                r && o > 1 && ((0 === n && o > 2) || l + Tn > e))
              )
                return n;
            }
            i++;
          }
          return -1;
        }
        static createTrack(t, e) {
          return {
            container: "video" === t || "audio" === t ? "video/mp2t" : void 0,
            type: t,
            id: _t[t],
            pid: -1,
            inputTimeScale: 9e4,
            sequenceNumber: 0,
            samples: [],
            dropped: 0,
            duration: "audio" === t ? e : void 0,
          };
        }
        resetInitSegment(t, e, r, n) {
          ((this.pmtParsed = !1),
            (this._pmtId = -1),
            (this._avcTrack = Sn.createTrack("video")),
            (this._audioTrack = Sn.createTrack("audio", n)),
            (this._id3Track = Sn.createTrack("id3")),
            (this._txtTrack = Sn.createTrack("text")),
            (this._audioTrack.segmentCodec = "aac"),
            (this.aacOverFlow = null),
            (this.avcSample = null),
            (this.remainderData = null),
            (this.audioCodec = e),
            (this.videoCodec = r),
            (this._duration = n));
        }
        resetTimeStamp() {}
        resetContiguity() {
          const { _audioTrack: t, _avcTrack: e, _id3Track: r } = this;
          (t && (t.pesData = null),
            e && (e.pesData = null),
            r && (r.pesData = null),
            (this.aacOverFlow = null),
            (this.avcSample = null),
            (this.remainderData = null));
        }
        demux(data, t, e = !1, r = !1) {
          let n;
          e || (this.sampleAes = null);
          const o = this._avcTrack,
            l = this._audioTrack,
            c = this._id3Track,
            h = this._txtTrack;
          let d = o.pid,
            f = o.pesData,
            m = l.pid,
            y = c.pid,
            v = l.pesData,
            E = c.pesData,
            D = null,
            T = this.pmtParsed,
            A = this._pmtId,
            x = data.length;
          if (
            (this.remainderData &&
              ((x = (data = Ft(this.remainderData, data)).length),
              (this.remainderData = null)),
            x < Tn && !r)
          )
            return (
              (this.remainderData = data),
              { audioTrack: l, videoTrack: o, id3Track: c, textTrack: h }
            );
          const L = Math.max(0, Sn.syncOffset(data));
          ((x -= (x - L) % Tn),
            x < data.byteLength &&
              !r &&
              (this.remainderData = new Uint8Array(
                data.buffer,
                x,
                data.buffer.byteLength - x,
              )));
          let k = 0;
          for (let t = L; t < x; t += Tn)
            if (71 === data[t]) {
              const r = !!(64 & data[t + 1]),
                S = wn(data, t);
              let _;
              if ((48 & data[t + 3]) >> 4 > 1) {
                if (((_ = t + 5 + data[t + 4]), _ === t + Tn)) continue;
              } else _ = t + 4;
              switch (S) {
                case d:
                  (r &&
                    (f && (n = Ln(f)) && this.parseAVCPES(o, h, n, !1),
                    (f = { data: [], size: 0 })),
                    f &&
                      (f.data.push(data.subarray(_, t + Tn)),
                      (f.size += t + Tn - _)));
                  break;
                case m:
                  if (r) {
                    if (v && (n = Ln(v)))
                      switch (l.segmentCodec) {
                        case "aac":
                          this.parseAACPES(l, n);
                          break;
                        case "mp3":
                          this.parseMPEGPES(l, n);
                      }
                    v = { data: [], size: 0 };
                  }
                  v &&
                    (v.data.push(data.subarray(_, t + Tn)),
                    (v.size += t + Tn - _));
                  break;
                case y:
                  (r &&
                    (E && (n = Ln(E)) && this.parseID3PES(c, n),
                    (E = { data: [], size: 0 })),
                    E &&
                      (E.data.push(data.subarray(_, t + Tn)),
                      (E.size += t + Tn - _)));
                  break;
                case 0:
                  (r && (_ += data[_] + 1), (A = this._pmtId = An(data, _)));
                  break;
                case A: {
                  r && (_ += data[_] + 1);
                  const n = xn(data, _, this.typeSupported, e);
                  ((d = n.avc),
                    d > 0 && (o.pid = d),
                    (m = n.audio),
                    m > 0 && ((l.pid = m), (l.segmentCodec = n.segmentCodec)),
                    (y = n.id3),
                    y > 0 && (c.pid = y),
                    null === D ||
                      T ||
                      (C.warn(
                        `MPEG-TS PMT found at ${t} after unknown PID '${D}'. Backtracking to sync byte @${L} to parse all TS packets.`,
                      ),
                      (D = null),
                      (t = L - 188)),
                    (T = this.pmtParsed = !0));
                  break;
                }
                case 17:
                case 8191:
                  break;
                default:
                  D = S;
              }
            } else k++;
          if (k > 0) {
            const t = new Error(
              `Found ${k} TS packet/s that do not start with 0x47`,
            );
            this.observer.emit(S.ERROR, S.ERROR, {
              type: _.MEDIA_ERROR,
              details: w.FRAG_PARSING_ERROR,
              fatal: !1,
              error: t,
              reason: t.message,
            });
          }
          ((o.pesData = f), (l.pesData = v), (c.pesData = E));
          const R = { audioTrack: l, videoTrack: o, id3Track: c, textTrack: h };
          return (r && this.extractRemainingSamples(R), R);
        }
        flush() {
          const { remainderData: t } = this;
          let e;
          return (
            (this.remainderData = null),
            (e = t
              ? this.demux(t, -1, !1, !0)
              : {
                  videoTrack: this._avcTrack,
                  audioTrack: this._audioTrack,
                  id3Track: this._id3Track,
                  textTrack: this._txtTrack,
                }),
            this.extractRemainingSamples(e),
            this.sampleAes ? this.decrypt(e, this.sampleAes) : e
          );
        }
        extractRemainingSamples(t) {
          const { audioTrack: e, videoTrack: r, id3Track: n, textTrack: o } = t,
            l = r.pesData,
            c = e.pesData,
            h = n.pesData;
          let d;
          if (
            (l && (d = Ln(l))
              ? (this.parseAVCPES(r, o, d, !0), (r.pesData = null))
              : (r.pesData = l),
            c && (d = Ln(c)))
          ) {
            switch (e.segmentCodec) {
              case "aac":
                this.parseAACPES(e, d);
                break;
              case "mp3":
                this.parseMPEGPES(e, d);
            }
            e.pesData = null;
          } else
            (null != c &&
              c.size &&
              C.log(
                "last AAC PES packet truncated,might overlap between fragments",
              ),
              (e.pesData = c));
          h && (d = Ln(h))
            ? (this.parseID3PES(n, d), (n.pesData = null))
            : (n.pesData = h);
        }
        demuxSampleAes(data, t, e) {
          const r = this.demux(data, e, !0, !this.config.progressive),
            n = (this.sampleAes = new Dn(this.observer, this.config, t));
          return this.decrypt(r, n);
        }
        decrypt(t, e) {
          return new Promise((r) => {
            const { audioTrack: n, videoTrack: o } = t;
            n.samples && "aac" === n.segmentCodec
              ? e.decryptAacSamples(n.samples, 0, () => {
                  o.samples
                    ? e.decryptAvcSamples(o.samples, 0, 0, () => {
                        r(t);
                      })
                    : r(t);
                })
              : o.samples &&
                e.decryptAvcSamples(o.samples, 0, 0, () => {
                  r(t);
                });
          });
        }
        destroy() {
          this._duration = 0;
        }
        parseAVCPES(track, t, e, r) {
          const n = this.parseAVCNALu(track, e.data);
          let o,
            l = this.avcSample,
            c = !1;
          ((e.data = null),
            l &&
              n.length &&
              !track.audFound &&
              (kn(l, track), (l = this.avcSample = _n(!1, e.pts, e.dts, ""))),
            n.forEach((r) => {
              var n;
              switch (r.type) {
                case 1: {
                  let t = !1;
                  o = !0;
                  const data = r.data;
                  if (c && data.length > 4) {
                    const e = new En(data).readSliceType();
                    (2 !== e && 4 !== e && 7 !== e && 9 !== e) || (t = !0);
                  }
                  var h;
                  if (t)
                    null != (h = l) &&
                      h.frame &&
                      !l.key &&
                      (kn(l, track), (l = this.avcSample = null));
                  (l || (l = this.avcSample = _n(!0, e.pts, e.dts, "")),
                    (l.frame = !0),
                    (l.key = t));
                  break;
                }
                case 5:
                  ((o = !0),
                    null != (n = l) &&
                      n.frame &&
                      !l.key &&
                      (kn(l, track), (l = this.avcSample = null)),
                    l || (l = this.avcSample = _n(!0, e.pts, e.dts, "")),
                    (l.key = !0),
                    (l.frame = !0));
                  break;
                case 6:
                  ((o = !0), Bt(r.data, 1, e.pts, t.samples));
                  break;
                case 7:
                  if (((o = !0), (c = !0), !track.sps)) {
                    const t = r.data,
                      e = new En(t).readSPS();
                    ((track.width = e.width),
                      (track.height = e.height),
                      (track.pixelRatio = e.pixelRatio),
                      (track.sps = [t]),
                      (track.duration = this._duration));
                    const n = t.subarray(1, 4);
                    let o = "avc1.";
                    for (let i = 0; i < 3; i++) {
                      let t = n[i].toString(16);
                      (t.length < 2 && (t = "0" + t), (o += t));
                    }
                    track.codec = o;
                  }
                  break;
                case 8:
                  ((o = !0), track.pps || (track.pps = [r.data]));
                  break;
                case 9:
                  ((o = !1),
                    (track.audFound = !0),
                    l && kn(l, track),
                    (l = this.avcSample = _n(!1, e.pts, e.dts, "")));
                  break;
                case 12:
                  o = !0;
                  break;
                default:
                  ((o = !1), l && (l.debug += "unknown NAL " + r.type + " "));
              }
              if (l && o) {
                l.units.push(r);
              }
            }),
            r && l && (kn(l, track), (this.avcSample = null)));
        }
        getLastNalUnit(t) {
          var e;
          let r,
            n = this.avcSample;
          if (
            ((n && 0 !== n.units.length) || (n = t[t.length - 1]),
            null != (e = n) && e.units)
          ) {
            const t = n.units;
            r = t[t.length - 1];
          }
          return r;
        }
        parseAVCNALu(track, t) {
          const e = t.byteLength;
          let r = track.naluState || 0;
          const n = r,
            o = [];
          let l,
            c,
            h,
            i = 0,
            d = -1,
            f = 0;
          for (
            -1 === r && ((d = 0), (f = 31 & t[0]), (r = 0), (i = 1));
            i < e;
          )
            if (((l = t[i++]), r))
              if (1 !== r)
                if (l)
                  if (1 === l) {
                    if (d >= 0) {
                      const e = { data: t.subarray(d, i - r - 1), type: f };
                      o.push(e);
                    } else {
                      const e = this.getLastNalUnit(track.samples);
                      if (
                        e &&
                        (n &&
                          i <= 4 - n &&
                          e.state &&
                          (e.data = e.data.subarray(0, e.data.byteLength - n)),
                        (c = i - r - 1),
                        c > 0)
                      ) {
                        const r = new Uint8Array(e.data.byteLength + c);
                        (r.set(e.data, 0),
                          r.set(t.subarray(0, c), e.data.byteLength),
                          (e.data = r),
                          (e.state = 0));
                      }
                    }
                    i < e
                      ? ((h = 31 & t[i]), (d = i), (f = h), (r = 0))
                      : (r = -1);
                  } else r = 0;
                else r = 3;
              else r = l ? 0 : 2;
            else r = l ? 0 : 1;
          if (d >= 0 && r >= 0) {
            const n = { data: t.subarray(d, e), type: f, state: r };
            o.push(n);
          }
          if (0 === o.length) {
            const e = this.getLastNalUnit(track.samples);
            if (e) {
              const r = new Uint8Array(e.data.byteLength + t.byteLength);
              (r.set(e.data, 0), r.set(t, e.data.byteLength), (e.data = r));
            }
          }
          return ((track.naluState = r), o);
        }
        parseAACPES(track, t) {
          let e = 0;
          const r = this.aacOverFlow;
          let n,
            o,
            l,
            data = t.data;
          if (r) {
            this.aacOverFlow = null;
            const t = r.missing,
              n = r.sample.unit.byteLength;
            if (-1 === t) {
              const t = new Uint8Array(n + data.byteLength);
              (t.set(r.sample.unit, 0), t.set(data, n), (data = t));
            } else {
              const o = n - t;
              (r.sample.unit.set(data.subarray(0, t), o),
                track.samples.push(r.sample),
                (e = r.missing));
            }
          }
          for (n = e, o = data.length; n < o - 1 && !nn(data, n); n++);
          if (n !== e) {
            let t;
            const e = n < o - 1;
            t = e
              ? `AAC PES did not start with ADTS header,offset:${n}`
              : "No ADTS header found in AAC PES";
            const r = new Error(t);
            if (
              (C.warn(`parsing error: ${t}`),
              this.observer.emit(S.ERROR, S.ERROR, {
                type: _.MEDIA_ERROR,
                details: w.FRAG_PARSING_ERROR,
                fatal: !1,
                levelRetry: e,
                error: r,
                reason: t,
              }),
              !e)
            )
              return;
          }
          if (
            (an(track, this.observer, data, n, this.audioCodec),
            void 0 !== t.pts)
          )
            l = t.pts;
          else {
            if (!r) return void C.warn("[tsdemuxer]: AAC PES unknown PTS");
            {
              const t = on(track.samplerate);
              l = r.sample.pts + t;
            }
          }
          let c,
            h = 0;
          for (; n < o; ) {
            if (((c = ln(track, data, n, l, h)), (n += c.length), c.missing)) {
              this.aacOverFlow = c;
              break;
            }
            for (h++; n < o - 1 && !nn(data, n); n++);
          }
        }
        parseMPEGPES(track, t) {
          const data = t.data,
            e = data.length;
          let r = 0,
            n = 0;
          const o = t.pts;
          if (void 0 !== o)
            for (; n < e; )
              if (vn(data, n)) {
                const t = gn(track, data, n, o, r);
                if (!t) break;
                ((n += t.length), r++);
              } else n++;
          else C.warn("[tsdemuxer]: MPEG PES unknown PTS");
        }
        parseID3PES(t, e) {
          if (void 0 === e.pts)
            return void C.warn("[tsdemuxer]: ID3 PES unknown PTS");
          const r = D({}, e, {
            type: this._avcTrack ? Se : De,
            duration: Number.POSITIVE_INFINITY,
          });
          t.samples.push(r);
        }
      }
      function _n(t, e, r, n) {
        return {
          key: t,
          frame: !1,
          pts: e,
          dts: r,
          units: [],
          debug: n,
          length: 0,
        };
      }
      function wn(data, t) {
        return ((31 & data[t + 1]) << 8) + data[t + 2];
      }
      function An(data, t) {
        return ((31 & data[t + 10]) << 8) | data[t + 11];
      }
      function xn(data, t, e, r) {
        const n = { audio: -1, avc: -1, id3: -1, segmentCodec: "aac" },
          o = t + 3 + (((15 & data[t + 1]) << 8) | data[t + 2]) - 4;
        for (t += 12 + (((15 & data[t + 10]) << 8) | data[t + 11]); t < o; ) {
          const o = wn(data, t);
          switch (data[t]) {
            case 207:
              if (!r) {
                C.log(
                  "ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream",
                );
                break;
              }
            case 15:
              -1 === n.audio && (n.audio = o);
              break;
            case 21:
              -1 === n.id3 && (n.id3 = o);
              break;
            case 219:
              if (!r) {
                C.log(
                  "H.264 with AES-128-CBC slice encryption found in unencrypted stream",
                );
                break;
              }
            case 27:
              -1 === n.avc && (n.avc = o);
              break;
            case 3:
            case 4:
              !0 !== e.mpeg && !0 !== e.mp3
                ? C.log("MPEG audio found, not supported in this browser")
                : -1 === n.audio && ((n.audio = o), (n.segmentCodec = "mp3"));
              break;
            case 36:
              C.warn("Unsupported HEVC stream type found");
          }
          t += 5 + (((15 & data[t + 3]) << 8) | data[t + 4]);
        }
        return n;
      }
      function Ln(t) {
        let e,
          r,
          n,
          o,
          l,
          i = 0;
        const data = t.data;
        if (!t || 0 === t.size) return null;
        for (; data[0].length < 19 && data.length > 1; ) {
          const t = new Uint8Array(data[0].length + data[1].length);
          (t.set(data[0]),
            t.set(data[1], data[0].length),
            (data[0] = t),
            data.splice(1, 1));
        }
        e = data[0];
        if (1 === (e[0] << 16) + (e[1] << 8) + e[2]) {
          if (((r = (e[4] << 8) + e[5]), r && r > t.size - 6)) return null;
          const c = e[7];
          (192 & c &&
            ((o =
              536870912 * (14 & e[9]) +
              4194304 * (255 & e[10]) +
              16384 * (254 & e[11]) +
              128 * (255 & e[12]) +
              (254 & e[13]) / 2),
            64 & c
              ? ((l =
                  536870912 * (14 & e[14]) +
                  4194304 * (255 & e[15]) +
                  16384 * (254 & e[16]) +
                  128 * (255 & e[17]) +
                  (254 & e[18]) / 2),
                o - l > 54e5 &&
                  (C.warn(
                    `${Math.round((o - l) / 9e4)}s delta between PTS and DTS, align them`,
                  ),
                  (o = l)))
              : (l = o)),
            (n = e[8]));
          let h = n + 9;
          if (t.size <= h) return null;
          t.size -= h;
          const d = new Uint8Array(t.size);
          for (let t = 0, r = data.length; t < r; t++) {
            e = data[t];
            let r = e.byteLength;
            if (h) {
              if (h > r) {
                h -= r;
                continue;
              }
              ((e = e.subarray(h)), (r -= h), (h = 0));
            }
            (d.set(e, i), (i += r));
          }
          return (r && (r -= n + 3), { data: d, pts: o, dts: l, len: r });
        }
        return null;
      }
      function kn(t, e) {
        if (t.units.length && t.frame) {
          if (void 0 === t.pts) {
            const r = e.samples,
              n = r.length;
            if (!n) return void e.dropped++;
            {
              const e = r[n - 1];
              ((t.pts = e.pts), (t.dts = e.dts));
            }
          }
          e.samples.push(t);
        }
        t.debug.length && C.log(t.pts + "/" + t.dts + ":" + t.debug);
      }
      class Cn {
        static getSilentFrame(t, e) {
          if ("mp4a.40.2" === t) {
            if (1 === e) return new Uint8Array([0, 200, 0, 128, 35, 128]);
            if (2 === e)
              return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
            if (3 === e)
              return new Uint8Array([
                0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142,
              ]);
            if (4 === e)
              return new Uint8Array([
                0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8,
                2, 56,
              ]);
            if (5 === e)
              return new Uint8Array([
                0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153,
                0, 33, 144, 2, 56,
              ]);
            if (6 === e)
              return new Uint8Array([
                0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153,
                0, 33, 144, 2, 0, 178, 0, 32, 8, 224,
              ]);
          } else {
            if (1 === e)
              return new Uint8Array([
                1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241,
                193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
              ]);
            if (2 === e)
              return new Uint8Array([
                1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0,
                6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
              ]);
            if (3 === e)
              return new Uint8Array([
                1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0,
                6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
              ]);
          }
        }
      }
      const Rn = Math.pow(2, 32) - 1;
      class On {
        static init() {
          let i;
          for (i in ((On.types = {
            avc1: [],
            avcC: [],
            btrt: [],
            dinf: [],
            dref: [],
            esds: [],
            ftyp: [],
            hdlr: [],
            mdat: [],
            mdhd: [],
            mdia: [],
            mfhd: [],
            minf: [],
            moof: [],
            moov: [],
            mp4a: [],
            ".mp3": [],
            mvex: [],
            mvhd: [],
            pasp: [],
            sdtp: [],
            stbl: [],
            stco: [],
            stsc: [],
            stsd: [],
            stsz: [],
            stts: [],
            tfdt: [],
            tfhd: [],
            traf: [],
            trak: [],
            trun: [],
            trex: [],
            tkhd: [],
            vmhd: [],
            smhd: [],
          }),
          On.types))
            On.types.hasOwnProperty(i) &&
              (On.types[i] = [
                i.charCodeAt(0),
                i.charCodeAt(1),
                i.charCodeAt(2),
                i.charCodeAt(3),
              ]);
          const t = new Uint8Array([
              0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101,
              114, 0,
            ]),
            e = new Uint8Array([
              0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101,
              114, 0,
            ]);
          On.HDLR_TYPES = { video: t, audio: e };
          const r = new Uint8Array([
              0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0,
              1,
            ]),
            n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);
          ((On.STTS = On.STSC = On.STCO = n),
            (On.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
            (On.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])),
            (On.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
            (On.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1])));
          const o = new Uint8Array([105, 115, 111, 109]),
            l = new Uint8Array([97, 118, 99, 49]),
            c = new Uint8Array([0, 0, 0, 1]);
          ((On.FTYP = On.box(On.types.ftyp, o, c, o, l)),
            (On.DINF = On.box(On.types.dinf, On.box(On.types.dref, r))));
        }
        static box(t, ...e) {
          let r = 8,
            i = e.length;
          const n = i;
          for (; i--; ) r += e[i].byteLength;
          const o = new Uint8Array(r);
          for (
            o[0] = (r >> 24) & 255,
              o[1] = (r >> 16) & 255,
              o[2] = (r >> 8) & 255,
              o[3] = 255 & r,
              o.set(t, 4),
              i = 0,
              r = 8;
            i < n;
            i++
          )
            (o.set(e[i], r), (r += e[i].byteLength));
          return o;
        }
        static hdlr(t) {
          return On.box(On.types.hdlr, On.HDLR_TYPES[t]);
        }
        static mdat(data) {
          return On.box(On.types.mdat, data);
        }
        static mdhd(t, e) {
          e *= t;
          const r = Math.floor(e / (Rn + 1)),
            n = Math.floor(e % (Rn + 1));
          return On.box(
            On.types.mdhd,
            new Uint8Array([
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              2,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              3,
              (t >> 24) & 255,
              (t >> 16) & 255,
              (t >> 8) & 255,
              255 & t,
              r >> 24,
              (r >> 16) & 255,
              (r >> 8) & 255,
              255 & r,
              n >> 24,
              (n >> 16) & 255,
              (n >> 8) & 255,
              255 & n,
              85,
              196,
              0,
              0,
            ]),
          );
        }
        static mdia(track) {
          return On.box(
            On.types.mdia,
            On.mdhd(track.timescale, track.duration),
            On.hdlr(track.type),
            On.minf(track),
          );
        }
        static mfhd(t) {
          return On.box(
            On.types.mfhd,
            new Uint8Array([
              0,
              0,
              0,
              0,
              t >> 24,
              (t >> 16) & 255,
              (t >> 8) & 255,
              255 & t,
            ]),
          );
        }
        static minf(track) {
          return "audio" === track.type
            ? On.box(
                On.types.minf,
                On.box(On.types.smhd, On.SMHD),
                On.DINF,
                On.stbl(track),
              )
            : On.box(
                On.types.minf,
                On.box(On.types.vmhd, On.VMHD),
                On.DINF,
                On.stbl(track),
              );
        }
        static moof(t, e, track) {
          return On.box(On.types.moof, On.mfhd(t), On.traf(track, e));
        }
        static moov(t) {
          let i = t.length;
          const e = [];
          for (; i--; ) e[i] = On.trak(t[i]);
          return On.box.apply(
            null,
            [On.types.moov, On.mvhd(t[0].timescale, t[0].duration)]
              .concat(e)
              .concat(On.mvex(t)),
          );
        }
        static mvex(t) {
          let i = t.length;
          const e = [];
          for (; i--; ) e[i] = On.trex(t[i]);
          return On.box.apply(null, [On.types.mvex, ...e]);
        }
        static mvhd(t, e) {
          e *= t;
          const r = Math.floor(e / (Rn + 1)),
            n = Math.floor(e % (Rn + 1)),
            o = new Uint8Array([
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              2,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              3,
              (t >> 24) & 255,
              (t >> 16) & 255,
              (t >> 8) & 255,
              255 & t,
              r >> 24,
              (r >> 16) & 255,
              (r >> 8) & 255,
              255 & r,
              n >> 24,
              (n >> 16) & 255,
              (n >> 8) & 255,
              255 & n,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              64,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              255,
              255,
              255,
              255,
            ]);
          return On.box(On.types.mvhd, o);
        }
        static sdtp(track) {
          const t = track.samples || [],
            e = new Uint8Array(4 + t.length);
          let i, r;
          for (i = 0; i < t.length; i++)
            ((r = t[i].flags),
              (e[i + 4] =
                (r.dependsOn << 4) | (r.isDependedOn << 2) | r.hasRedundancy));
          return On.box(On.types.sdtp, e);
        }
        static stbl(track) {
          return On.box(
            On.types.stbl,
            On.stsd(track),
            On.box(On.types.stts, On.STTS),
            On.box(On.types.stsc, On.STSC),
            On.box(On.types.stsz, On.STSZ),
            On.box(On.types.stco, On.STCO),
          );
        }
        static avc1(track) {
          let i,
            data,
            t,
            e = [],
            r = [];
          for (i = 0; i < track.sps.length; i++)
            ((data = track.sps[i]),
              (t = data.byteLength),
              e.push((t >>> 8) & 255),
              e.push(255 & t),
              (e = e.concat(Array.prototype.slice.call(data))));
          for (i = 0; i < track.pps.length; i++)
            ((data = track.pps[i]),
              (t = data.byteLength),
              r.push((t >>> 8) & 255),
              r.push(255 & t),
              (r = r.concat(Array.prototype.slice.call(data))));
          const n = On.box(
              On.types.avcC,
              new Uint8Array(
                [1, e[3], e[4], e[5], 255, 224 | track.sps.length]
                  .concat(e)
                  .concat([track.pps.length])
                  .concat(r),
              ),
            ),
            o = track.width,
            l = track.height,
            c = track.pixelRatio[0],
            h = track.pixelRatio[1];
          return On.box(
            On.types.avc1,
            new Uint8Array([
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              (o >> 8) & 255,
              255 & o,
              (l >> 8) & 255,
              255 & l,
              0,
              72,
              0,
              0,
              0,
              72,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              18,
              100,
              97,
              105,
              108,
              121,
              109,
              111,
              116,
              105,
              111,
              110,
              47,
              104,
              108,
              115,
              46,
              106,
              115,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              24,
              17,
              17,
            ]),
            n,
            On.box(
              On.types.btrt,
              new Uint8Array([
                0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192,
              ]),
            ),
            On.box(
              On.types.pasp,
              new Uint8Array([
                c >> 24,
                (c >> 16) & 255,
                (c >> 8) & 255,
                255 & c,
                h >> 24,
                (h >> 16) & 255,
                (h >> 8) & 255,
                255 & h,
              ]),
            ),
          );
        }
        static esds(track) {
          const t = track.config.length;
          return new Uint8Array(
            [
              0,
              0,
              0,
              0,
              3,
              23 + t,
              0,
              1,
              0,
              4,
              15 + t,
              64,
              21,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              5,
            ]
              .concat([t])
              .concat(track.config)
              .concat([6, 1, 2]),
          );
        }
        static mp4a(track) {
          const t = track.samplerate;
          return On.box(
            On.types.mp4a,
            new Uint8Array([
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              track.channelCount,
              0,
              16,
              0,
              0,
              0,
              0,
              (t >> 8) & 255,
              255 & t,
              0,
              0,
            ]),
            On.box(On.types.esds, On.esds(track)),
          );
        }
        static mp3(track) {
          const t = track.samplerate;
          return On.box(
            On.types[".mp3"],
            new Uint8Array([
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              track.channelCount,
              0,
              16,
              0,
              0,
              0,
              0,
              (t >> 8) & 255,
              255 & t,
              0,
              0,
            ]),
          );
        }
        static stsd(track) {
          return "audio" === track.type
            ? "mp3" === track.segmentCodec && "mp3" === track.codec
              ? On.box(On.types.stsd, On.STSD, On.mp3(track))
              : On.box(On.types.stsd, On.STSD, On.mp4a(track))
            : On.box(On.types.stsd, On.STSD, On.avc1(track));
        }
        static tkhd(track) {
          const t = track.id,
            e = track.duration * track.timescale,
            r = track.width,
            n = track.height,
            o = Math.floor(e / (Rn + 1)),
            l = Math.floor(e % (Rn + 1));
          return On.box(
            On.types.tkhd,
            new Uint8Array([
              1,
              0,
              0,
              7,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              2,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              3,
              (t >> 24) & 255,
              (t >> 16) & 255,
              (t >> 8) & 255,
              255 & t,
              0,
              0,
              0,
              0,
              o >> 24,
              (o >> 16) & 255,
              (o >> 8) & 255,
              255 & o,
              l >> 24,
              (l >> 16) & 255,
              (l >> 8) & 255,
              255 & l,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              64,
              0,
              0,
              0,
              (r >> 8) & 255,
              255 & r,
              0,
              0,
              (n >> 8) & 255,
              255 & n,
              0,
              0,
            ]),
          );
        }
        static traf(track, t) {
          const e = On.sdtp(track),
            r = track.id,
            n = Math.floor(t / (Rn + 1)),
            o = Math.floor(t % (Rn + 1));
          return On.box(
            On.types.traf,
            On.box(
              On.types.tfhd,
              new Uint8Array([
                0,
                0,
                0,
                0,
                r >> 24,
                (r >> 16) & 255,
                (r >> 8) & 255,
                255 & r,
              ]),
            ),
            On.box(
              On.types.tfdt,
              new Uint8Array([
                1,
                0,
                0,
                0,
                n >> 24,
                (n >> 16) & 255,
                (n >> 8) & 255,
                255 & n,
                o >> 24,
                (o >> 16) & 255,
                (o >> 8) & 255,
                255 & o,
              ]),
            ),
            On.trun(track, e.length + 16 + 20 + 8 + 16 + 8 + 8),
            e,
          );
        }
        static trak(track) {
          return (
            (track.duration = track.duration || 4294967295),
            On.box(On.types.trak, On.tkhd(track), On.mdia(track))
          );
        }
        static trex(track) {
          const t = track.id;
          return On.box(
            On.types.trex,
            new Uint8Array([
              0,
              0,
              0,
              0,
              t >> 24,
              (t >> 16) & 255,
              (t >> 8) & 255,
              255 & t,
              0,
              0,
              0,
              1,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              0,
              1,
              0,
              1,
            ]),
          );
        }
        static trun(track, t) {
          const e = track.samples || [],
            r = e.length,
            n = 12 + 16 * r,
            o = new Uint8Array(n);
          let i, l, c, h, d, f;
          for (
            t += 8 + n,
              o.set(
                [
                  "video" === track.type ? 1 : 0,
                  0,
                  15,
                  1,
                  (r >>> 24) & 255,
                  (r >>> 16) & 255,
                  (r >>> 8) & 255,
                  255 & r,
                  (t >>> 24) & 255,
                  (t >>> 16) & 255,
                  (t >>> 8) & 255,
                  255 & t,
                ],
                0,
              ),
              i = 0;
            i < r;
            i++
          )
            ((l = e[i]),
              (c = l.duration),
              (h = l.size),
              (d = l.flags),
              (f = l.cts),
              o.set(
                [
                  (c >>> 24) & 255,
                  (c >>> 16) & 255,
                  (c >>> 8) & 255,
                  255 & c,
                  (h >>> 24) & 255,
                  (h >>> 16) & 255,
                  (h >>> 8) & 255,
                  255 & h,
                  (d.isLeading << 2) | d.dependsOn,
                  (d.isDependedOn << 6) |
                    (d.hasRedundancy << 4) |
                    (d.paddingValue << 1) |
                    d.isNonSync,
                  61440 & d.degradPrio,
                  15 & d.degradPrio,
                  (f >>> 24) & 255,
                  (f >>> 16) & 255,
                  (f >>> 8) & 255,
                  255 & f,
                ],
                12 + 16 * i,
              ));
          return On.box(On.types.trun, o);
        }
        static initSegment(t) {
          On.types || On.init();
          const e = On.moov(t),
            r = new Uint8Array(On.FTYP.byteLength + e.byteLength);
          return (r.set(On.FTYP), r.set(e, On.FTYP.byteLength), r);
        }
      }
      ((On.types = void 0),
        (On.HDLR_TYPES = void 0),
        (On.STTS = void 0),
        (On.STSC = void 0),
        (On.STCO = void 0),
        (On.STSZ = void 0),
        (On.VMHD = void 0),
        (On.SMHD = void 0),
        (On.STSD = void 0),
        (On.FTYP = void 0),
        (On.DINF = void 0));
      const In = 9e4;
      function Pn(t, e, r = 1, n = !1) {
        const o = t * e * r;
        return n ? Math.round(o) : o;
      }
      function Fn(t, e = !1) {
        return Pn(t, 1e3, 1 / In, e);
      }
      let Mn,
        Nn = null,
        Bn = null;
      class Un {
        constructor(t, e, r, n = "") {
          if (
            ((this.observer = void 0),
            (this.config = void 0),
            (this.typeSupported = void 0),
            (this.ISGenerated = !1),
            (this._initPTS = null),
            (this._initDTS = null),
            (this.nextAvcDts = null),
            (this.nextAudioPts = null),
            (this.videoSampleDuration = null),
            (this.isAudioContiguous = !1),
            (this.isVideoContiguous = !1),
            (this.observer = t),
            (this.config = e),
            (this.typeSupported = r),
            (this.ISGenerated = !1),
            null === Nn)
          ) {
            const t = (navigator.userAgent || "").match(/Chrome\/(\d+)/i);
            Nn = t ? parseInt(t[1]) : 0;
          }
          if (null === Bn) {
            const t = navigator.userAgent.match(/Safari\/(\d+)/i);
            Bn = t ? parseInt(t[1]) : 0;
          }
        }
        destroy() {}
        resetTimeStamp(t) {
          (C.log("[mp4-remuxer]: initPTS & initDTS reset"),
            (this._initPTS = this._initDTS = t));
        }
        resetNextTimestamp() {
          (C.log("[mp4-remuxer]: reset next timestamp"),
            (this.isVideoContiguous = !1),
            (this.isAudioContiguous = !1));
        }
        resetInitSegment() {
          (C.log("[mp4-remuxer]: ISGenerated flag reset"),
            (this.ISGenerated = !1));
        }
        getVideoStartPts(t) {
          let e = !1;
          const r = t.reduce((t, r) => {
            const n = r.pts - t;
            return n < -4294967296
              ? ((e = !0), jn(t, r.pts))
              : n > 0
                ? t
                : r.pts;
          }, t[0].pts);
          return (e && C.debug("PTS rollover detected"), r);
        }
        remux(t, e, r, n, o, l, c, h) {
          let video,
            audio,
            d,
            text,
            f,
            m,
            y = o,
            v = o;
          const E = t.pid > -1,
            D = e.pid > -1,
            T = e.samples.length,
            S = t.samples.length > 0,
            _ = (c && T > 0) || T > 1;
          if (((!E || S) && (!D || _)) || this.ISGenerated || c) {
            this.ISGenerated || (d = this.generateIS(t, e, o, l));
            const r = this.isVideoContiguous;
            let n,
              c = -1;
            if (
              _ &&
              ((c = (function (t) {
                for (let i = 0; i < t.length; i++) if (t[i].key) return i;
                return -1;
              })(e.samples)),
              !r && this.config.forceKeyFrameOnDiscontinuity)
            )
              if (((m = !0), c > 0)) {
                C.warn(
                  `[mp4-remuxer]: Dropped ${c} out of ${T} video samples due to a missing keyframe`,
                );
                const t = this.getVideoStartPts(e.samples);
                ((e.samples = e.samples.slice(c)),
                  (e.dropped += c),
                  (v += (e.samples[0].pts - t) / e.inputTimeScale),
                  (n = v));
              } else
                -1 === c &&
                  (C.warn(
                    `[mp4-remuxer]: No keyframe found out of ${T} video samples`,
                  ),
                  (m = !1));
            if (this.ISGenerated) {
              if (S && _) {
                const r = this.getVideoStartPts(e.samples),
                  n = (jn(t.samples[0].pts, r) - r) / e.inputTimeScale;
                ((y += Math.max(0, n)), (v += Math.max(0, -n)));
              }
              if (S) {
                if (
                  (t.samplerate ||
                    (C.warn(
                      "[mp4-remuxer]: regenerate InitSegment as audio detected",
                    ),
                    (d = this.generateIS(t, e, o, l))),
                  (audio = this.remuxAudio(
                    t,
                    y,
                    this.isAudioContiguous,
                    l,
                    D || _ || h === fe.AUDIO ? v : void 0,
                  )),
                  _)
                ) {
                  const n = audio ? audio.endPTS - audio.startPTS : 0;
                  (e.inputTimeScale ||
                    (C.warn(
                      "[mp4-remuxer]: regenerate InitSegment as video detected",
                    ),
                    (d = this.generateIS(t, e, o, l))),
                    (video = this.remuxVideo(e, v, r, n)));
                }
              } else _ && (video = this.remuxVideo(e, v, r, 0));
              video &&
                ((video.firstKeyFrame = c),
                (video.independent = -1 !== c),
                (video.firstKeyFramePTS = n));
            }
          }
          return (
            this.ISGenerated &&
              this._initPTS &&
              this._initDTS &&
              (r.samples.length && (f = $n(r, o, this._initPTS, this._initDTS)),
              n.samples.length && (text = Gn(n, o, this._initPTS))),
            {
              audio: audio,
              video: video,
              initSegment: d,
              independent: m,
              text: text,
              id3: f,
            }
          );
        }
        generateIS(t, e, r, n) {
          const o = t.samples,
            l = e.samples,
            c = this.typeSupported,
            h = {},
            d = this._initPTS;
          let f,
            m,
            y,
            v = !d || n,
            E = "audio/mp4";
          if ((v && (f = m = 1 / 0), t.config && o.length)) {
            if (((t.timescale = t.samplerate), "mp3" === t.segmentCodec))
              c.mpeg
                ? ((E = "audio/mpeg"), (t.codec = ""))
                : c.mp3 && (t.codec = "mp3");
            ((h.audio = {
              id: "audio",
              container: E,
              codec: t.codec,
              initSegment:
                "mp3" === t.segmentCodec && c.mpeg
                  ? new Uint8Array(0)
                  : On.initSegment([t]),
              metadata: { channelCount: t.channelCount },
            }),
              v &&
                ((y = t.inputTimeScale),
                d && y === d.timescale
                  ? (v = !1)
                  : (f = m = o[0].pts - Math.round(y * r))));
          }
          if (
            e.sps &&
            e.pps &&
            l.length &&
            ((e.timescale = e.inputTimeScale),
            (h.video = {
              id: "main",
              container: "video/mp4",
              codec: e.codec,
              initSegment: On.initSegment([e]),
              metadata: { width: e.width, height: e.height },
            }),
            v)
          )
            if (((y = e.inputTimeScale), d && y === d.timescale)) v = !1;
            else {
              const t = this.getVideoStartPts(l),
                e = Math.round(y * r);
              ((m = Math.min(m, jn(l[0].dts, t) - e)),
                (f = Math.min(f, t - e)));
            }
          if (Object.keys(h).length)
            return (
              (this.ISGenerated = !0),
              v
                ? ((this._initPTS = { baseTime: f, timescale: y }),
                  (this._initDTS = { baseTime: m, timescale: y }))
                : (f = y = void 0),
              { tracks: h, initPTS: f, timescale: y }
            );
        }
        remuxVideo(track, t, e, r) {
          const n = track.inputTimeScale,
            o = track.samples,
            l = [],
            c = o.length,
            h = this._initPTS;
          let d,
            f,
            m = this.nextAvcDts,
            y = 8,
            v = this.videoSampleDuration,
            E = Number.POSITIVE_INFINITY,
            T = Number.NEGATIVE_INFINITY,
            A = !1;
          if (!e || null === m) {
            m = t * n - (o[0].pts - jn(o[0].dts, o[0].pts));
          }
          const x = (h.baseTime * n) / h.timescale;
          for (let i = 0; i < c; i++) {
            const t = o[i];
            ((t.pts = jn(t.pts - x, m)),
              (t.dts = jn(t.dts - x, m)),
              t.dts < o[i > 0 ? i - 1 : i].dts && (A = !0));
          }
          (A &&
            o.sort(function (a, b) {
              const t = a.dts - b.dts,
                e = a.pts - b.pts;
              return t || e;
            }),
            (d = o[0].dts),
            (f = o[o.length - 1].dts));
          const L = f - d,
            k = L ? Math.round(L / (c - 1)) : v || track.inputTimeScale / 30;
          if (e) {
            const t = d - m,
              e = t > k,
              r = t < -1;
            if (
              (e || r) &&
              (e
                ? C.warn(
                    `AVC: ${Fn(t, !0)} ms (${t}dts) hole between fragments detected, filling it`,
                  )
                : C.warn(
                    `AVC: ${Fn(-t, !0)} ms (${t}dts) overlapping between fragments detected`,
                  ),
              !r || m >= o[0].pts)
            ) {
              d = m;
              const e = o[0].pts - t;
              ((o[0].dts = d),
                (o[0].pts = e),
                C.log(
                  `Video: First PTS/DTS adjusted: ${Fn(e, !0)}/${Fn(d, !0)}, delta: ${Fn(t, !0)} ms`,
                ));
            }
          }
          d = Math.max(0, d);
          let R = 0,
            O = 0;
          for (let i = 0; i < c; i++) {
            const t = o[i],
              e = t.units,
              r = e.length;
            let n = 0;
            for (let t = 0; t < r; t++) n += e[t].data.length;
            ((O += n),
              (R += r),
              (t.length = n),
              (t.dts = Math.max(t.dts, d)),
              (E = Math.min(t.pts, E)),
              (T = Math.max(t.pts, T)));
          }
          f = o[c - 1].dts;
          const I = O + 4 * R + 8;
          let P;
          try {
            P = new Uint8Array(I);
          } catch (t) {
            return void this.observer.emit(S.ERROR, S.ERROR, {
              type: _.MUX_ERROR,
              details: w.REMUX_ALLOC_ERROR,
              fatal: !1,
              error: t,
              bytes: I,
              reason: `fail allocating video mdat ${I}`,
            });
          }
          const view = new DataView(P.buffer);
          (view.setUint32(0, I), P.set(On.types.mdat, 4));
          let F = !1,
            M = Number.POSITIVE_INFINITY,
            N = Number.POSITIVE_INFINITY,
            B = Number.NEGATIVE_INFINITY,
            U = Number.NEGATIVE_INFINITY;
          for (let i = 0; i < c; i++) {
            const t = o[i],
              e = t.units;
            let h,
              d = 0;
            for (let t = 0, r = e.length; t < r; t++) {
              const r = e[t],
                n = r.data,
                o = r.data.byteLength;
              (view.setUint32(y, o),
                (y += 4),
                P.set(n, y),
                (y += o),
                (d += 4 + o));
            }
            if (i < c - 1)
              ((v = o[i + 1].dts - t.dts), (h = o[i + 1].pts - t.pts));
            else {
              const e = this.config,
                l = i > 0 ? t.dts - o[i - 1].dts : k;
              if (
                ((h = i > 0 ? t.pts - o[i - 1].pts : k),
                e.stretchShortVideoTrack && null !== this.nextAudioPts)
              ) {
                const o = Math.floor(e.maxBufferHole * n),
                  c = (r ? E + r * n : this.nextAudioPts) - t.pts;
                c > o
                  ? ((v = c - l),
                    v < 0 ? (v = l) : (F = !0),
                    C.log(
                      `[mp4-remuxer]: It is approximately ${c / 90} ms to the next segment; using duration ${v / 90} ms for the last video frame.`,
                    ))
                  : (v = l);
              } else v = l;
            }
            const f = Math.round(t.pts - t.dts);
            ((M = Math.min(M, v)),
              (B = Math.max(B, v)),
              (N = Math.min(N, h)),
              (U = Math.max(U, h)),
              l.push(new Kn(t.key, v, d, f)));
          }
          if (l.length)
            if (Nn) {
              if (Nn < 70) {
                const t = l[0].flags;
                ((t.dependsOn = 2), (t.isNonSync = 0));
              }
            } else if (Bn && U - N < B - M && k / B < 0.025 && 0 === l[0].cts) {
              C.warn(
                "Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.",
              );
              let t = d;
              for (let i = 0, e = l.length; i < e; i++) {
                const r = t + l[i].duration,
                  n = t + l[i].cts;
                if (i < e - 1) {
                  const t = r + l[i + 1].cts;
                  l[i].duration = t - n;
                } else l[i].duration = i ? l[i - 1].duration : k;
                ((l[i].cts = 0), (t = r));
              }
            }
          ((v = F || !v ? k : v),
            (this.nextAvcDts = m = f + v),
            (this.videoSampleDuration = v),
            (this.isVideoContiguous = !0));
          const data = {
            data1: On.moof(
              track.sequenceNumber++,
              d,
              D({}, track, { samples: l }),
            ),
            data2: P,
            startPTS: E / n,
            endPTS: (T + v) / n,
            startDTS: d / n,
            endDTS: m / n,
            type: "video",
            hasAudio: !1,
            hasVideo: !0,
            nb: l.length,
            dropped: track.dropped,
          };
          return ((track.samples = []), (track.dropped = 0), data);
        }
        remuxAudio(track, t, e, r, n) {
          const o = track.inputTimeScale,
            l = o / (track.samplerate ? track.samplerate : o),
            c = "aac" === track.segmentCodec ? 1024 : 1152,
            h = c * l,
            d = this._initPTS,
            f = "mp3" === track.segmentCodec && this.typeSupported.mpeg,
            m = [],
            y = void 0 !== n;
          let v = track.samples,
            E = f ? 0 : 8,
            T = this.nextAudioPts || -1;
          const A = t * o,
            x = (d.baseTime * o) / d.timescale;
          if (
            ((this.isAudioContiguous = e =
              e ||
              (v.length &&
                T > 0 &&
                ((r && Math.abs(A - T) < 9e3) ||
                  Math.abs(jn(v[0].pts - x, A) - T) < 20 * h))),
            v.forEach(function (t) {
              t.pts = jn(t.pts - x, A);
            }),
            !e || T < 0)
          ) {
            if (((v = v.filter((t) => t.pts >= 0)), !v.length)) return;
            T = 0 === n ? 0 : r && !y ? Math.max(0, A) : v[0].pts;
          }
          if ("aac" === track.segmentCodec) {
            const t = this.config.maxAudioFramesDrift;
            for (let i = 0, e = T; i < v.length; i++) {
              const r = v[i],
                n = r.pts,
                l = n - e,
                c = Math.abs((1e3 * l) / o);
              if (l <= -t * h && y)
                0 === i &&
                  (C.warn(
                    `Audio frame @ ${(n / o).toFixed(3)}s overlaps nextAudioPts by ${Math.round((1e3 * l) / o)} ms.`,
                  ),
                  (this.nextAudioPts = T = e = n));
              else if (l >= t * h && c < 1e4 && y) {
                let t = Math.round(l / h);
                ((e = n - t * h),
                  e < 0 && (t--, (e += h)),
                  0 === i && (this.nextAudioPts = T = e),
                  C.warn(
                    `[mp4-remuxer]: Injecting ${t} audio frame @ ${(e / o).toFixed(3)}s due to ${Math.round((1e3 * l) / o)} ms gap.`,
                  ));
                for (let n = 0; n < t; n++) {
                  const t = Math.max(e, 0);
                  let n = Cn.getSilentFrame(
                    track.manifestCodec || track.codec,
                    track.channelCount,
                  );
                  (n ||
                    (C.log(
                      "[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead.",
                    ),
                    (n = r.unit.subarray())),
                    v.splice(i, 0, { unit: n, pts: t }),
                    (e += h),
                    i++);
                }
              }
              ((r.pts = e), (e += h));
            }
          }
          let L,
            k = null,
            R = null,
            O = 0,
            I = v.length;
          for (; I--; ) O += v[I].unit.byteLength;
          for (let t = 0, r = v.length; t < r; t++) {
            const r = v[t],
              n = r.unit;
            let o = r.pts;
            if (null !== R) {
              m[t - 1].duration = Math.round((o - R) / l);
            } else {
              if (
                (e && "aac" === track.segmentCodec && (o = T),
                (k = o),
                !(O > 0))
              )
                return;
              O += E;
              try {
                L = new Uint8Array(O);
              } catch (t) {
                return void this.observer.emit(S.ERROR, S.ERROR, {
                  type: _.MUX_ERROR,
                  details: w.REMUX_ALLOC_ERROR,
                  fatal: !1,
                  error: t,
                  bytes: O,
                  reason: `fail allocating audio mdat ${O}`,
                });
              }
              if (!f) {
                (new DataView(L.buffer).setUint32(0, O),
                  L.set(On.types.mdat, 4));
              }
            }
            L.set(n, E);
            const h = n.byteLength;
            ((E += h), m.push(new Kn(!0, c, h, 0)), (R = o));
          }
          const P = m.length;
          if (!P) return;
          const F = m[m.length - 1];
          this.nextAudioPts = T = R + l * F.duration;
          const M = f
            ? new Uint8Array(0)
            : On.moof(
                track.sequenceNumber++,
                k / l,
                D({}, track, { samples: m }),
              );
          track.samples = [];
          const N = k / o,
            B = T / o,
            U = {
              data1: M,
              data2: L,
              startPTS: N,
              endPTS: B,
              startDTS: N,
              endDTS: B,
              type: "audio",
              hasAudio: !0,
              hasVideo: !1,
              nb: P,
            };
          return ((this.isAudioContiguous = !0), U);
        }
        remuxEmptyAudio(track, t, e, r) {
          const n = track.inputTimeScale,
            o = n / (track.samplerate ? track.samplerate : n),
            l = this.nextAudioPts,
            c = this._initDTS,
            h = (9e4 * c.baseTime) / c.timescale,
            d = (null !== l ? l : r.startDTS * n) + h,
            f = r.endDTS * n + h,
            m = 1024 * o,
            y = Math.ceil((f - d) / m),
            v = Cn.getSilentFrame(
              track.manifestCodec || track.codec,
              track.channelCount,
            );
          if ((C.warn("[mp4-remuxer]: remux empty Audio"), !v))
            return void C.trace(
              "[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec",
            );
          const E = [];
          for (let i = 0; i < y; i++) {
            const t = d + i * m;
            E.push({ unit: v, pts: t, dts: t });
          }
          return ((track.samples = E), this.remuxAudio(track, t, e, !1));
        }
      }
      function jn(t, e) {
        let r;
        if (null === e) return t;
        for (
          r = e < t ? -8589934592 : 8589934592;
          Math.abs(t - e) > 4294967296;
        )
          t += r;
        return t;
      }
      function $n(track, t, e, r) {
        const n = track.samples.length;
        if (!n) return;
        const o = track.inputTimeScale;
        for (let l = 0; l < n; l++) {
          const n = track.samples[l];
          ((n.pts = jn(n.pts - (e.baseTime * o) / e.timescale, t * o) / o),
            (n.dts = jn(n.dts - (r.baseTime * o) / r.timescale, t * o) / o));
        }
        const l = track.samples;
        return ((track.samples = []), { samples: l });
      }
      function Gn(track, t, e) {
        const r = track.samples.length;
        if (!r) return;
        const n = track.inputTimeScale;
        for (let o = 0; o < r; o++) {
          const r = track.samples[o];
          r.pts = jn(r.pts - (e.baseTime * n) / e.timescale, t * n) / n;
        }
        track.samples.sort((a, b) => a.pts - b.pts);
        const o = track.samples;
        return ((track.samples = []), { samples: o });
      }
      class Kn {
        constructor(t, e, r, n) {
          ((this.size = void 0),
            (this.duration = void 0),
            (this.cts = void 0),
            (this.flags = void 0),
            (this.duration = e),
            (this.size = r),
            (this.cts = n),
            (this.flags = new Hn(t)));
        }
      }
      class Hn {
        constructor(t) {
          ((this.isLeading = 0),
            (this.isDependedOn = 0),
            (this.hasRedundancy = 0),
            (this.degradPrio = 0),
            (this.dependsOn = 1),
            (this.isNonSync = 1),
            (this.dependsOn = t ? 2 : 1),
            (this.isNonSync = t ? 0 : 1));
        }
      }
      function Vn(track, t) {
        const e = null == track ? void 0 : track.codec;
        return e && e.length > 4
          ? e
          : "hvc1" === e || "hev1" === e
            ? "hvc1.1.6.L120.90"
            : "av01" === e
              ? "av01.0.04M.08"
              : "avc1" === e || t === N.VIDEO
                ? "avc1.42e01e"
                : "mp4a.40.5";
      }
      try {
        Mn = self.performance.now.bind(self.performance);
      } catch (t) {
        (C.debug("Unable to use Performance API on this environment"),
          (Mn = "undefined" != typeof self && self.Date.now));
      }
      const Yn = [
        {
          demux: class {
            constructor(t, e) {
              ((this.remainderData = null),
                (this.timeOffset = 0),
                (this.config = void 0),
                (this.videoTrack = void 0),
                (this.audioTrack = void 0),
                (this.id3Track = void 0),
                (this.txtTrack = void 0),
                (this.config = e));
            }
            resetTimeStamp() {}
            resetInitSegment(t, e, r, n) {
              const o = (this.videoTrack = Qr("video", 1)),
                l = (this.audioTrack = Qr("audio", 1)),
                c = (this.txtTrack = Qr("text", 1));
              if (
                ((this.id3Track = Qr("id3", 1)),
                (this.timeOffset = 0),
                null == t || !t.byteLength)
              )
                return;
              const h = Ot(t);
              if (h.video) {
                const { id: t, timescale: e, codec: r } = h.video;
                ((o.id = t), (o.timescale = c.timescale = e), (o.codec = r));
              }
              if (h.audio) {
                const { id: t, timescale: e, codec: r } = h.audio;
                ((l.id = t), (l.timescale = e), (l.codec = r));
              }
              ((c.id = _t.text),
                (o.sampleDuration = 0),
                (o.duration = l.duration = n));
            }
            resetContiguity() {
              this.remainderData = null;
            }
            static probe(data) {
              return (
                Ct(
                  (data = data.length > 16384 ? data.subarray(0, 16384) : data),
                  ["moof"],
                ).length > 0
              );
            }
            demux(data, t) {
              this.timeOffset = t;
              let e = data;
              const r = this.videoTrack,
                n = this.txtTrack;
              if (this.config.progressive) {
                this.remainderData && (e = Ft(this.remainderData, data));
                const t = (function (data) {
                  const t = { valid: null, remainder: null },
                    e = Ct(data, ["moof"]);
                  if (!e) return t;
                  if (e.length < 2) return ((t.remainder = data), t);
                  const r = e[e.length - 1];
                  return (
                    (t.valid = nt(data, 0, r.byteOffset - 8)),
                    (t.remainder = nt(data, r.byteOffset - 8)),
                    t
                  );
                })(e);
                ((this.remainderData = t.remainder),
                  (r.samples = t.valid || new Uint8Array()));
              } else r.samples = e;
              const o = this.extractID3Track(r, t);
              return (
                (n.samples = Mt(t, r)),
                {
                  videoTrack: r,
                  audioTrack: this.audioTrack,
                  id3Track: o,
                  textTrack: this.txtTrack,
                }
              );
            }
            flush() {
              const t = this.timeOffset,
                e = this.videoTrack,
                r = this.txtTrack;
              ((e.samples = this.remainderData || new Uint8Array()),
                (this.remainderData = null));
              const n = this.extractID3Track(e, this.timeOffset);
              return (
                (r.samples = Mt(t, e)),
                {
                  videoTrack: e,
                  audioTrack: Qr(),
                  id3Track: n,
                  textTrack: Qr(),
                }
              );
            }
            extractID3Track(t, e) {
              const r = this.id3Track;
              if (t.samples.length) {
                const n = Ct(t.samples, ["emsg"]);
                n &&
                  n.forEach((data) => {
                    const t = (function (data) {
                      const t = data[0];
                      let e = "",
                        r = "",
                        n = 0,
                        o = 0,
                        l = 0,
                        c = 0,
                        h = 0,
                        d = 0;
                      if (0 === t) {
                        for (; "\0" !== wt(data.subarray(d, d + 1)); )
                          ((e += wt(data.subarray(d, d + 1))), (d += 1));
                        for (
                          e += wt(data.subarray(d, d + 1)), d += 1;
                          "\0" !== wt(data.subarray(d, d + 1));
                        )
                          ((r += wt(data.subarray(d, d + 1))), (d += 1));
                        ((r += wt(data.subarray(d, d + 1))),
                          (d += 1),
                          (n = xt(data, 12)),
                          (o = xt(data, 16)),
                          (c = xt(data, 20)),
                          (h = xt(data, 24)),
                          (d = 28));
                      } else if (1 === t) {
                        ((d += 4), (n = xt(data, d)), (d += 4));
                        const t = xt(data, d);
                        d += 4;
                        const o = xt(data, d);
                        for (
                          d += 4,
                            l = 2 ** 32 * t + o,
                            Number.isSafeInteger(l) ||
                              ((l = Number.MAX_SAFE_INTEGER),
                              C.warn(
                                "Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box",
                              )),
                            c = xt(data, d),
                            d += 4,
                            h = xt(data, d),
                            d += 4;
                          "\0" !== wt(data.subarray(d, d + 1));
                        )
                          ((e += wt(data.subarray(d, d + 1))), (d += 1));
                        for (
                          e += wt(data.subarray(d, d + 1)), d += 1;
                          "\0" !== wt(data.subarray(d, d + 1));
                        )
                          ((r += wt(data.subarray(d, d + 1))), (d += 1));
                        ((r += wt(data.subarray(d, d + 1))), (d += 1));
                      }
                      return {
                        schemeIdUri: e,
                        value: r,
                        timeScale: n,
                        presentationTime: l,
                        presentationTimeDelta: o,
                        eventDuration: c,
                        id: h,
                        payload: data.subarray(d, data.byteLength),
                      };
                    })(data);
                    if (un.test(t.schemeIdUri)) {
                      const n = T(t.presentationTime)
                        ? t.presentationTime / t.timeScale
                        : e + t.presentationTimeDelta / t.timeScale;
                      let o =
                        4294967295 === t.eventDuration
                          ? Number.POSITIVE_INFINITY
                          : t.eventDuration / t.timeScale;
                      o <= 0.001 && (o = Number.POSITIVE_INFINITY);
                      const l = t.payload;
                      r.samples.push({
                        data: l,
                        len: l.byteLength,
                        dts: n,
                        pts: n,
                        type: Se,
                        duration: o,
                      });
                    }
                  });
              }
              return r;
            }
            demuxSampleAes(data, t, e) {
              return Promise.reject(
                new Error(
                  "The MP4 demuxer does not support SAMPLE-AES decryption",
                ),
              );
            }
            destroy() {}
          },
          remux: class {
            constructor() {
              ((this.emitInitSegment = !1),
                (this.audioCodec = void 0),
                (this.videoCodec = void 0),
                (this.initData = void 0),
                (this.initPTS = null),
                (this.initTracks = void 0),
                (this.lastEndTime = null));
            }
            destroy() {}
            resetTimeStamp(t) {
              ((this.initPTS = t), (this.lastEndTime = null));
            }
            resetNextTimestamp() {
              this.lastEndTime = null;
            }
            resetInitSegment(t, e, r, n) {
              ((this.audioCodec = e),
                (this.videoCodec = r),
                this.generateInitSegment(
                  (function (t, e) {
                    if (!t || !e) return t;
                    const r = e.keyId;
                    r &&
                      e.isCommonEncryption &&
                      Ct(t, ["moov", "trak"]).forEach((t) => {
                        const e = Ct(t, [
                          "mdia",
                          "minf",
                          "stbl",
                          "stsd",
                        ])[0].subarray(8);
                        let n = Ct(e, ["enca"]);
                        const o = n.length > 0;
                        (o || (n = Ct(e, ["encv"])),
                          n.forEach((t) => {
                            Ct(o ? t.subarray(28) : t.subarray(78), [
                              "sinf",
                            ]).forEach((t) => {
                              const e = It(t);
                              if (e) {
                                const t = e.subarray(8, 24);
                                t.some((b) => 0 !== b) ||
                                  (C.log(
                                    `[eme] Patching keyId in 'enc${o ? "a" : "v"}>sinf>>tenc' box: ${Dt.hexDump(t)} -> ${Dt.hexDump(r)}`,
                                  ),
                                  e.set(r, 8));
                              }
                            });
                          }));
                      });
                    return t;
                  })(t, n),
                ),
                (this.emitInitSegment = !0));
            }
            generateInitSegment(t) {
              let { audioCodec: e, videoCodec: r } = this;
              if (null == t || !t.byteLength)
                return (
                  (this.initTracks = void 0),
                  void (this.initData = void 0)
                );
              const n = (this.initData = Ot(t));
              (e || (e = Vn(n.audio, N.AUDIO)),
                r || (r = Vn(n.video, N.VIDEO)));
              const o = {};
              (n.audio && n.video
                ? (o.audiovideo = {
                    container: "video/mp4",
                    codec: e + "," + r,
                    initSegment: t,
                    id: "main",
                  })
                : n.audio
                  ? (o.audio = {
                      container: "audio/mp4",
                      codec: e,
                      initSegment: t,
                      id: "audio",
                    })
                  : n.video
                    ? (o.video = {
                        container: "video/mp4",
                        codec: r,
                        initSegment: t,
                        id: "main",
                      })
                    : C.warn(
                        "[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes.",
                      ),
                (this.initTracks = o));
            }
            remux(t, e, r, n, o, l) {
              var c, h;
              let { initPTS: d, lastEndTime: f } = this;
              const m = {
                audio: void 0,
                video: void 0,
                text: n,
                id3: r,
                initSegment: void 0,
              };
              T(f) || (f = this.lastEndTime = o || 0);
              const data = e.samples;
              if (null == data || !data.length) return m;
              const y = { initPTS: void 0, timescale: 1 };
              let v = this.initData;
              if (
                ((null != (c = v) && c.length) ||
                  (this.generateInitSegment(data), (v = this.initData)),
                null == (h = v) || !h.length)
              )
                return (
                  C.warn(
                    "[passthrough-remuxer.ts]: Failed to generate initSegment.",
                  ),
                  m
                );
              this.emitInitSegment &&
                ((y.tracks = this.initTracks), (this.emitInitSegment = !1));
              const E = (function (data, t) {
                  let e = 0,
                    r = 0,
                    n = 0;
                  const o = Ct(data, ["moof", "traf"]);
                  for (let i = 0; i < o.length; i++) {
                    const l = o[i],
                      c = Ct(l, ["tfhd"])[0],
                      track = t[xt(c, 4)];
                    if (!track) continue;
                    const h = track.default,
                      d = xt(c, 0) | (null == h ? void 0 : h.flags);
                    let f = null == h ? void 0 : h.duration;
                    8 & d && (f = xt(c, 2 & d ? 12 : 8));
                    const m = track.timescale || 9e4,
                      y = Ct(l, ["trun"]);
                    for (let t = 0; t < y.length; t++)
                      ((e = Pt(y[t])),
                        !e && f && (e = f * xt(y[t], 4)),
                        track.type === N.VIDEO
                          ? (r += e / m)
                          : track.type === N.AUDIO && (n += e / m));
                  }
                  if (0 === r && 0 === n) {
                    let t = 0;
                    const e = Ct(data, ["sidx"]);
                    for (let i = 0; i < e.length; i++) {
                      const r = Rt(e[i]);
                      null != r &&
                        r.references &&
                        (t += r.references.reduce(
                          (t, e) => t + e.info.duration || 0,
                          0,
                        ));
                    }
                    return t;
                  }
                  return r || n;
                })(data, v),
                D = (function (t, e) {
                  return Ct(e, ["moof", "traf"]).reduce((e, r) => {
                    const n = Ct(r, ["tfdt"])[0],
                      o = n[0],
                      l = Ct(r, ["tfhd"]).reduce((e, r) => {
                        const l = xt(r, 4),
                          track = t[l];
                        if (track) {
                          let t = xt(n, 4);
                          if (1 === o) {
                            if (t === Tt)
                              return (
                                C.warn(
                                  "[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time",
                                ),
                                e
                              );
                            ((t *= Tt + 1), (t += xt(n, 8)));
                          }
                          const r = t / (track.timescale || 9e4);
                          if (isFinite(r) && (null === e || r < e)) return r;
                        }
                        return e;
                      }, null);
                    return null !== l && isFinite(l) && (null === e || l < e)
                      ? l
                      : e;
                  }, null);
                })(v, data),
                S = null === D ? o : D;
              ((function (t, e, r, n) {
                if (null === t) return !0;
                const o = Math.max(n, 1),
                  l = e - t.baseTime / t.timescale;
                return Math.abs(l - r) > o;
              })(d, S, o, E) ||
                (y.timescale !== d.timescale && l)) &&
                ((y.initPTS = S - o),
                d &&
                  1 === d.timescale &&
                  C.warn("Adjusting initPTS by " + (y.initPTS - d.baseTime)),
                (this.initPTS = d = { baseTime: y.initPTS, timescale: 1 }));
              const _ = t ? S - d.baseTime / d.timescale : f,
                w = _ + E;
              (!(function (t, e, r) {
                Ct(e, ["moof", "traf"]).forEach((e) => {
                  Ct(e, ["tfhd"]).forEach((n) => {
                    const o = xt(n, 4),
                      track = t[o];
                    if (!track) return;
                    const l = track.timescale || 9e4;
                    Ct(e, ["tfdt"]).forEach((t) => {
                      const e = t[0];
                      let n = xt(t, 4);
                      if (0 === e)
                        ((n -= r * l), (n = Math.max(n, 0)), kt(t, 4, n));
                      else {
                        ((n *= Math.pow(2, 32)),
                          (n += xt(t, 8)),
                          (n -= r * l),
                          (n = Math.max(n, 0)));
                        const e = Math.floor(n / (Tt + 1)),
                          o = Math.floor(n % (Tt + 1));
                        (kt(t, 4, e), kt(t, 8, o));
                      }
                    });
                  });
                });
              })(v, data, d.baseTime / d.timescale),
                E > 0
                  ? (this.lastEndTime = w)
                  : (C.warn(
                      "Duration parsed from mp4 should be greater than zero",
                    ),
                    this.resetNextTimestamp()));
              const A = !!v.audio,
                x = !!v.video;
              let L = "";
              (A && (L += "audio"), x && (L += "video"));
              const track = {
                data1: data,
                startPTS: _,
                startDTS: _,
                endPTS: w,
                endDTS: w,
                type: L,
                hasAudio: A,
                hasVideo: x,
                nb: 1,
                dropped: 0,
              };
              return (
                (m.audio = "audio" === track.type ? track : void 0),
                (m.video = "audio" !== track.type ? track : void 0),
                (m.initSegment = y),
                (m.id3 = $n(r, o, d, d)),
                n.samples.length && (m.text = Gn(n, o, d)),
                m
              );
            }
          },
        },
        { demux: Sn, remux: Un },
        {
          demux: class extends Jr {
            constructor(t, e) {
              (super(),
                (this.observer = void 0),
                (this.config = void 0),
                (this.observer = t),
                (this.config = e));
            }
            resetInitSegment(t, e, r, n) {
              (super.resetInitSegment(t, e, r, n),
                (this._audioTrack = {
                  container: "audio/adts",
                  type: "audio",
                  id: 2,
                  pid: -1,
                  sequenceNumber: 0,
                  segmentCodec: "aac",
                  samples: [],
                  manifestCodec: e,
                  duration: n,
                  inputTimeScale: 9e4,
                  dropped: 0,
                }));
            }
            static probe(data) {
              if (!data) return !1;
              let t = (at(data, 0) || []).length;
              for (let e = data.length; t < e; t++)
                if (sn(data, t)) return (C.log("ADTS sync word found !"), !0);
              return !1;
            }
            canParse(data, t) {
              return (function (data, t) {
                return (
                  (function (data, t) {
                    return t + 5 < data.length;
                  })(data, t) &&
                  tn(data, t) &&
                  rn(data, t) <= data.length - t
                );
              })(data, t);
            }
            appendFrame(track, data, t) {
              an(track, this.observer, data, t, track.manifestCodec);
              const e = ln(track, data, t, this.basePTS, this.frameIndex);
              if (e && 0 === e.missing) return e;
            }
          },
          remux: Un,
        },
        {
          demux: class extends Jr {
            resetInitSegment(t, e, r, n) {
              (super.resetInitSegment(t, e, r, n),
                (this._audioTrack = {
                  container: "audio/mpeg",
                  type: "audio",
                  id: 2,
                  pid: -1,
                  sequenceNumber: 0,
                  segmentCodec: "mp3",
                  samples: [],
                  manifestCodec: e,
                  duration: n,
                  inputTimeScale: 9e4,
                  dropped: 0,
                }));
            }
            static probe(data) {
              if (!data) return !1;
              let t = (at(data, 0) || []).length;
              for (let e = data.length; t < e; t++)
                if (bn(data, t))
                  return (C.log("MPEG Audio sync word found !"), !0);
              return !1;
            }
            canParse(data, t) {
              return (function (data, t) {
                return yn(data, t) && 4 <= data.length - t;
              })(data, t);
            }
            appendFrame(track, data, t) {
              if (null !== this.basePTS)
                return gn(track, data, t, this.basePTS, this.frameIndex);
            }
          },
          remux: Un,
        },
      ];
      class zn {
        constructor(t, e, r, n, o) {
          ((this.async = !1),
            (this.observer = void 0),
            (this.typeSupported = void 0),
            (this.config = void 0),
            (this.vendor = void 0),
            (this.id = void 0),
            (this.demuxer = void 0),
            (this.remuxer = void 0),
            (this.decrypter = void 0),
            (this.probe = void 0),
            (this.decryptionPromise = null),
            (this.transmuxConfig = void 0),
            (this.currentTransmuxState = void 0),
            (this.observer = t),
            (this.typeSupported = e),
            (this.config = r),
            (this.vendor = n),
            (this.id = o));
        }
        configure(t) {
          ((this.transmuxConfig = t), this.decrypter && this.decrypter.reset());
        }
        push(data, t, e, r) {
          const n = e.transmuxing;
          n.executeStart = Mn();
          let o = new Uint8Array(data);
          const { currentTransmuxState: l, transmuxConfig: c } = this;
          r && (this.currentTransmuxState = r);
          const {
              contiguous: h,
              discontinuity: d,
              trackSwitch: f,
              accurateTimeOffset: m,
              timeOffset: y,
              initSegmentChange: v,
            } = r || l,
            {
              audioCodec: E,
              videoCodec: D,
              defaultInitPts: T,
              duration: A,
              initSegmentData: x,
            } = c,
            L = (function (data, t) {
              let e = null;
              data.byteLength > 0 &&
                null != t &&
                null != t.key &&
                null !== t.iv &&
                null != t.method &&
                (e = t);
              return e;
            })(o, t);
          if (L && "AES-128" === L.method) {
            const t = this.getDecrypter();
            if (!t.isSync())
              return (
                (this.decryptionPromise = t
                  .webCryptoDecrypt(o, L.key.buffer, L.iv.buffer)
                  .then((t) => {
                    const r = this.push(t, null, e);
                    return ((this.decryptionPromise = null), r);
                  })),
                this.decryptionPromise
              );
            {
              let r = t.softwareDecrypt(o, L.key.buffer, L.iv.buffer);
              if ((e.part > -1 && (r = t.flush()), !r))
                return ((n.executeEnd = Mn()), Wn(e));
              o = new Uint8Array(r);
            }
          }
          const k = this.needsProbing(d, f);
          if (k) {
            const t = this.configureTransmuxer(o);
            if (t)
              return (
                C.warn(`[transmuxer] ${t.message}`),
                this.observer.emit(S.ERROR, S.ERROR, {
                  type: _.MEDIA_ERROR,
                  details: w.FRAG_PARSING_ERROR,
                  fatal: !1,
                  error: t,
                  reason: t.message,
                }),
                (n.executeEnd = Mn()),
                Wn(e)
              );
          }
          ((d || f || v || k) && this.resetInitSegment(x, E, D, A, t),
            (d || v || k) && this.resetInitialTimestamp(T),
            h || this.resetContiguity());
          const R = this.transmux(o, L, y, m, e),
            O = this.currentTransmuxState;
          return (
            (O.contiguous = !0),
            (O.discontinuity = !1),
            (O.trackSwitch = !1),
            (n.executeEnd = Mn()),
            R
          );
        }
        flush(t) {
          const e = t.transmuxing;
          e.executeStart = Mn();
          const {
            decrypter: r,
            currentTransmuxState: n,
            decryptionPromise: o,
          } = this;
          if (o) return o.then(() => this.flush(t));
          const l = [],
            { timeOffset: c } = n;
          if (r) {
            const e = r.flush();
            e && l.push(this.push(e, null, t));
          }
          const { demuxer: h, remuxer: d } = this;
          if (!h || !d) return ((e.executeEnd = Mn()), [Wn(t)]);
          const f = h.flush(c);
          return qn(f)
            ? f.then((e) => (this.flushRemux(l, e, t), l))
            : (this.flushRemux(l, f, t), l);
        }
        flushRemux(t, e, r) {
          const { audioTrack: n, videoTrack: o, id3Track: l, textTrack: c } = e,
            { accurateTimeOffset: h, timeOffset: d } =
              this.currentTransmuxState;
          C.log(
            `[transmuxer.ts]: Flushed fragment ${r.sn}${r.part > -1 ? " p: " + r.part : ""} of level ${r.level}`,
          );
          const f = this.remuxer.remux(n, o, l, c, d, h, !0, this.id);
          (t.push({ remuxResult: f, chunkMeta: r }),
            (r.transmuxing.executeEnd = Mn()));
        }
        resetInitialTimestamp(t) {
          const { demuxer: e, remuxer: r } = this;
          e && r && (e.resetTimeStamp(t), r.resetTimeStamp(t));
        }
        resetContiguity() {
          const { demuxer: t, remuxer: e } = this;
          t && e && (t.resetContiguity(), e.resetNextTimestamp());
        }
        resetInitSegment(t, e, r, n, o) {
          const { demuxer: l, remuxer: c } = this;
          l &&
            c &&
            (l.resetInitSegment(t, e, r, n), c.resetInitSegment(t, e, r, o));
        }
        destroy() {
          (this.demuxer && (this.demuxer.destroy(), (this.demuxer = void 0)),
            this.remuxer && (this.remuxer.destroy(), (this.remuxer = void 0)));
        }
        transmux(data, t, e, r, n) {
          let o;
          return (
            (o =
              t && "SAMPLE-AES" === t.method
                ? this.transmuxSampleAes(data, t, e, r, n)
                : this.transmuxUnencrypted(data, e, r, n)),
            o
          );
        }
        transmuxUnencrypted(data, t, e, r) {
          const {
            audioTrack: n,
            videoTrack: o,
            id3Track: l,
            textTrack: c,
          } = this.demuxer.demux(data, t, !1, !this.config.progressive);
          return {
            remuxResult: this.remuxer.remux(n, o, l, c, t, e, !1, this.id),
            chunkMeta: r,
          };
        }
        transmuxSampleAes(data, t, e, r, n) {
          return this.demuxer
            .demuxSampleAes(data, t, e)
            .then((t) => ({
              remuxResult: this.remuxer.remux(
                t.audioTrack,
                t.videoTrack,
                t.id3Track,
                t.textTrack,
                e,
                r,
                !1,
                this.id,
              ),
              chunkMeta: n,
            }));
        }
        configureTransmuxer(data) {
          const { config: t, observer: e, typeSupported: r, vendor: n } = this;
          let o;
          for (let i = 0, t = Yn.length; i < t; i++)
            if (Yn[i].demux.probe(data)) {
              o = Yn[i];
              break;
            }
          if (!o)
            return new Error("Failed to find demuxer by probing fragment data");
          const l = this.demuxer,
            c = this.remuxer,
            h = o.remux,
            d = o.demux;
          ((c && c instanceof h) || (this.remuxer = new h(e, t, r, n)),
            (l && l instanceof d) ||
              ((this.demuxer = new d(e, t, r)), (this.probe = d.probe)));
        }
        needsProbing(t, e) {
          return !this.demuxer || !this.remuxer || t || e;
        }
        getDecrypter() {
          let t = this.decrypter;
          return (t || (t = this.decrypter = new Fr(this.config)), t);
        }
      }
      const Wn = (t) => ({ remuxResult: {}, chunkMeta: t });
      function qn(p) {
        return "then" in p && p.then instanceof Function;
      }
      class Xn {
        constructor(t, e, r, n, o) {
          ((this.audioCodec = void 0),
            (this.videoCodec = void 0),
            (this.initSegmentData = void 0),
            (this.duration = void 0),
            (this.defaultInitPts = void 0),
            (this.audioCodec = t),
            (this.videoCodec = e),
            (this.initSegmentData = r),
            (this.duration = n),
            (this.defaultInitPts = o || null));
        }
      }
      class Qn {
        constructor(t, e, r, n, o, l) {
          ((this.discontinuity = void 0),
            (this.contiguous = void 0),
            (this.accurateTimeOffset = void 0),
            (this.trackSwitch = void 0),
            (this.timeOffset = void 0),
            (this.initSegmentChange = void 0),
            (this.discontinuity = t),
            (this.contiguous = e),
            (this.accurateTimeOffset = r),
            (this.trackSwitch = n),
            (this.timeOffset = o),
            (this.initSegmentChange = l));
        }
      }
      var Jn = { exports: {} };
      !(function (t) {
        var e = Object.prototype.hasOwnProperty,
          r = "~";
        function n() {}
        function o(t, e, r) {
          ((this.fn = t), (this.context = e), (this.once = r || !1));
        }
        function l(t, e, n, l, c) {
          if ("function" != typeof n)
            throw new TypeError("The listener must be a function");
          var h = new o(n, l || t, c),
            d = r ? r + e : e;
          return (
            t._events[d]
              ? t._events[d].fn
                ? (t._events[d] = [t._events[d], h])
                : t._events[d].push(h)
              : ((t._events[d] = h), t._eventsCount++),
            t
          );
        }
        function c(t, e) {
          0 == --t._eventsCount ? (t._events = new n()) : delete t._events[e];
        }
        function h() {
          ((this._events = new n()), (this._eventsCount = 0));
        }
        (Object.create &&
          ((n.prototype = Object.create(null)), new n().__proto__ || (r = !1)),
          (h.prototype.eventNames = function () {
            var t,
              n,
              o = [];
            if (0 === this._eventsCount) return o;
            for (n in (t = this._events))
              e.call(t, n) && o.push(r ? n.slice(1) : n);
            return Object.getOwnPropertySymbols
              ? o.concat(Object.getOwnPropertySymbols(t))
              : o;
          }),
          (h.prototype.listeners = function (t) {
            var e = r ? r + t : t,
              n = this._events[e];
            if (!n) return [];
            if (n.fn) return [n.fn];
            for (var i = 0, o = n.length, l = new Array(o); i < o; i++)
              l[i] = n[i].fn;
            return l;
          }),
          (h.prototype.listenerCount = function (t) {
            var e = r ? r + t : t,
              n = this._events[e];
            return n ? (n.fn ? 1 : n.length) : 0;
          }),
          (h.prototype.emit = function (t, e, n, o, l, c) {
            var h = r ? r + t : t;
            if (!this._events[h]) return !1;
            var d,
              i,
              f = this._events[h],
              m = arguments.length;
            if (f.fn) {
              switch ((f.once && this.removeListener(t, f.fn, void 0, !0), m)) {
                case 1:
                  return (f.fn.call(f.context), !0);
                case 2:
                  return (f.fn.call(f.context, e), !0);
                case 3:
                  return (f.fn.call(f.context, e, n), !0);
                case 4:
                  return (f.fn.call(f.context, e, n, o), !0);
                case 5:
                  return (f.fn.call(f.context, e, n, o, l), !0);
                case 6:
                  return (f.fn.call(f.context, e, n, o, l, c), !0);
              }
              for (i = 1, d = new Array(m - 1); i < m; i++)
                d[i - 1] = arguments[i];
              f.fn.apply(f.context, d);
            } else {
              var y,
                v = f.length;
              for (i = 0; i < v; i++)
                switch (
                  (f[i].once && this.removeListener(t, f[i].fn, void 0, !0), m)
                ) {
                  case 1:
                    f[i].fn.call(f[i].context);
                    break;
                  case 2:
                    f[i].fn.call(f[i].context, e);
                    break;
                  case 3:
                    f[i].fn.call(f[i].context, e, n);
                    break;
                  case 4:
                    f[i].fn.call(f[i].context, e, n, o);
                    break;
                  default:
                    if (!d)
                      for (y = 1, d = new Array(m - 1); y < m; y++)
                        d[y - 1] = arguments[y];
                    f[i].fn.apply(f[i].context, d);
                }
            }
            return !0;
          }),
          (h.prototype.on = function (t, e, r) {
            return l(this, t, e, r, !1);
          }),
          (h.prototype.once = function (t, e, r) {
            return l(this, t, e, r, !0);
          }),
          (h.prototype.removeListener = function (t, e, n, o) {
            var l = r ? r + t : t;
            if (!this._events[l]) return this;
            if (!e) return (c(this, l), this);
            var h = this._events[l];
            if (h.fn)
              h.fn !== e ||
                (o && !h.once) ||
                (n && h.context !== n) ||
                c(this, l);
            else {
              for (var i = 0, d = [], f = h.length; i < f; i++)
                (h[i].fn !== e ||
                  (o && !h[i].once) ||
                  (n && h[i].context !== n)) &&
                  d.push(h[i]);
              d.length
                ? (this._events[l] = 1 === d.length ? d[0] : d)
                : c(this, l);
            }
            return this;
          }),
          (h.prototype.removeAllListeners = function (t) {
            var e;
            return (
              t
                ? ((e = r ? r + t : t), this._events[e] && c(this, e))
                : ((this._events = new n()), (this._eventsCount = 0)),
              this
            );
          }),
          (h.prototype.off = h.prototype.removeListener),
          (h.prototype.addListener = h.prototype.on),
          (h.prefixed = r),
          (h.EventEmitter = h),
          (t.exports = h));
      })(Jn);
      var Zn = n(Jn.exports);
      const ti = qt() || { isTypeSupported: () => !1 };
      class ei {
        constructor(t, e, r, n) {
          ((this.error = null),
            (this.hls = void 0),
            (this.id = void 0),
            (this.observer = void 0),
            (this.frag = null),
            (this.part = null),
            (this.useWorker = void 0),
            (this.workerContext = null),
            (this.onwmsg = void 0),
            (this.transmuxer = null),
            (this.onTransmuxComplete = void 0),
            (this.onFlush = void 0));
          const o = t.config;
          ((this.hls = t),
            (this.id = e),
            (this.useWorker = !!o.enableWorker),
            (this.onTransmuxComplete = r),
            (this.onFlush = n));
          const l = (t, data) => {
            (((data = data || {}).frag = this.frag),
              (data.id = this.id),
              t === S.ERROR && (this.error = data.error),
              this.hls.trigger(t, data));
          };
          ((this.observer = new Zn()),
            this.observer.on(S.FRAG_DECRYPTED, l),
            this.observer.on(S.ERROR, l));
          const c = {
              mp4: ti.isTypeSupported("video/mp4"),
              mpeg: ti.isTypeSupported("audio/mpeg"),
              mp3: ti.isTypeSupported('audio/mp4; codecs="mp3"'),
            },
            h = navigator.vendor;
          if (this.useWorker && "undefined" != typeof Worker) {
            if (o.workerPath || "function" == typeof __HLS_WORKER_BUNDLE__) {
              try {
                (o.workerPath
                  ? (C.log(`loading Web Worker ${o.workerPath} for "${e}"`),
                    (this.workerContext = (function (path) {
                      const t = new self.URL(path, self.location.href).href;
                      return { worker: new self.Worker(t), scriptURL: t };
                    })(o.workerPath)))
                  : (C.log(`injecting Web Worker for "${e}"`),
                    (this.workerContext = (function () {
                      const t = new self.Blob(
                          [
                            `var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`,
                          ],
                          { type: "text/javascript" },
                        ),
                        e = self.URL.createObjectURL(t);
                      return { worker: new self.Worker(e), objectURL: e };
                    })())),
                  (this.onwmsg = (t) => this.onWorkerMessage(t)));
                const { worker: t } = this.workerContext;
                (t.addEventListener("message", this.onwmsg),
                  (t.onerror = (t) => {
                    const r = new Error(
                      `${t.message}  (${t.filename}:${t.lineno})`,
                    );
                    ((o.enableWorker = !1),
                      C.warn(`Error in "${e}" Web Worker, fallback to inline`),
                      this.hls.trigger(S.ERROR, {
                        type: _.OTHER_ERROR,
                        details: w.INTERNAL_EXCEPTION,
                        fatal: !1,
                        event: "demuxerWorker",
                        error: r,
                      }));
                  }),
                  t.postMessage({
                    cmd: "init",
                    typeSupported: c,
                    vendor: h,
                    id: e,
                    config: JSON.stringify(o),
                  }));
              } catch (t) {
                (C.warn(
                  `Error setting up "${e}" Web Worker, fallback to inline`,
                  t,
                ),
                  this.resetWorker(),
                  (this.error = null),
                  (this.transmuxer = new zn(this.observer, c, o, h, e)));
              }
              return;
            }
          }
          this.transmuxer = new zn(this.observer, c, o, h, e);
        }
        resetWorker() {
          if (this.workerContext) {
            const { worker: t, objectURL: e } = this.workerContext;
            (e && self.URL.revokeObjectURL(e),
              t.removeEventListener("message", this.onwmsg),
              (t.onerror = null),
              t.terminate(),
              (this.workerContext = null));
          }
        }
        destroy() {
          if (this.workerContext) (this.resetWorker(), (this.onwmsg = void 0));
          else {
            const t = this.transmuxer;
            t && (t.destroy(), (this.transmuxer = null));
          }
          const t = this.observer;
          (t && t.removeAllListeners(),
            (this.frag = null),
            (this.observer = null),
            (this.hls = null));
        }
        push(data, t, e, r, n, o, l, c, h, d) {
          var f, m;
          h.transmuxing.start = self.performance.now();
          const { transmuxer: y } = this,
            v = o ? o.start : n.start,
            E = n.decryptdata,
            D = this.frag,
            T = !(D && n.cc === D.cc),
            S = !(D && h.level === D.level),
            _ = D ? h.sn - D.sn : -1,
            w = this.part ? h.part - this.part.index : -1,
            A =
              0 === _ &&
              h.id > 1 &&
              h.id === (null == D ? void 0 : D.stats.chunkCount),
            x = !S && (1 === _ || (0 === _ && (1 === w || (A && w <= 0)))),
            L = self.performance.now();
          ((S || _ || 0 === n.stats.parsing.start) &&
            (n.stats.parsing.start = L),
            !o || (!w && x) || (o.stats.parsing.start = L));
          const k = !(
              D &&
              (null == (f = n.initSegment) ? void 0 : f.url) ===
                (null == (m = D.initSegment) ? void 0 : m.url)
            ),
            R = new Qn(T, x, c, S, v, k);
          if (!x || T || k) {
            C.log(
              `[transmuxer-interface, ${n.type}]: Starting new transmux session for sn: ${h.sn} p: ${h.part} level: ${h.level} id: ${h.id}\n        discontinuity: ${T}\n        trackSwitch: ${S}\n        contiguous: ${x}\n        accurateTimeOffset: ${c}\n        timeOffset: ${v}\n        initSegmentChange: ${k}`,
            );
            const o = new Xn(e, r, t, l, d);
            this.configureTransmuxer(o);
          }
          if (((this.frag = n), (this.part = o), this.workerContext))
            this.workerContext.worker.postMessage(
              {
                cmd: "demux",
                data: data,
                decryptdata: E,
                chunkMeta: h,
                state: R,
              },
              data instanceof ArrayBuffer ? [data] : [],
            );
          else if (y) {
            const t = y.push(data, E, h, R);
            qn(t)
              ? ((y.async = !0),
                t
                  .then((data) => {
                    this.handleTransmuxComplete(data);
                  })
                  .catch((t) => {
                    this.transmuxerError(
                      t,
                      h,
                      "transmuxer-interface push error",
                    );
                  }))
              : ((y.async = !1), this.handleTransmuxComplete(t));
          }
        }
        flush(t) {
          t.transmuxing.start = self.performance.now();
          const { transmuxer: e } = this;
          if (this.workerContext)
            this.workerContext.worker.postMessage({
              cmd: "flush",
              chunkMeta: t,
            });
          else if (e) {
            let r = e.flush(t);
            qn(r) || e.async
              ? (qn(r) || (r = Promise.resolve(r)),
                r
                  .then((data) => {
                    this.handleFlushResult(data, t);
                  })
                  .catch((e) => {
                    this.transmuxerError(
                      e,
                      t,
                      "transmuxer-interface flush error",
                    );
                  }))
              : this.handleFlushResult(r, t);
          }
        }
        transmuxerError(t, e, r) {
          this.hls &&
            ((this.error = t),
            this.hls.trigger(S.ERROR, {
              type: _.MEDIA_ERROR,
              details: w.FRAG_PARSING_ERROR,
              chunkMeta: e,
              fatal: !1,
              error: t,
              err: t,
              reason: r,
            }));
        }
        handleFlushResult(t, e) {
          (t.forEach((t) => {
            this.handleTransmuxComplete(t);
          }),
            this.onFlush(e));
        }
        onWorkerMessage(t) {
          const data = t.data,
            e = this.hls;
          switch (data.event) {
            case "init": {
              var r;
              const t = null == (r = this.workerContext) ? void 0 : r.objectURL;
              t && self.URL.revokeObjectURL(t);
              break;
            }
            case "transmuxComplete":
              this.handleTransmuxComplete(data.data);
              break;
            case "flush":
              this.onFlush(data.data);
              break;
            case "workerLog":
              C[data.data.logType] && C[data.data.logType](data.data.message);
              break;
            default:
              ((data.data = data.data || {}),
                (data.data.frag = this.frag),
                (data.data.id = this.id),
                e.trigger(data.event, data.data));
          }
        }
        configureTransmuxer(t) {
          const { transmuxer: e } = this;
          this.workerContext
            ? this.workerContext.worker.postMessage({
                cmd: "configure",
                config: t,
              })
            : e && e.configure(t);
        }
        handleTransmuxComplete(t) {
          ((t.chunkMeta.transmuxing.end = self.performance.now()),
            this.onTransmuxComplete(t));
        }
      }
      class ri {
        constructor(t, e, r, n) {
          ((this.config = void 0),
            (this.media = null),
            (this.fragmentTracker = void 0),
            (this.hls = void 0),
            (this.nudgeRetry = 0),
            (this.stallReported = !1),
            (this.stalled = null),
            (this.moved = !1),
            (this.seeking = !1),
            (this.config = t),
            (this.media = e),
            (this.fragmentTracker = r),
            (this.hls = n));
        }
        destroy() {
          ((this.media = null), (this.hls = this.fragmentTracker = null));
        }
        poll(t, e) {
          const { config: r, media: n, stalled: o } = this;
          if (null === n) return;
          const { currentTime: l, seeking: c } = n,
            h = this.seeking && !c,
            d = !this.seeking && c;
          if (((this.seeking = c), l !== t)) {
            if (((this.moved = !0), null !== o)) {
              if (this.stallReported) {
                const t = self.performance.now() - o;
                (C.warn(
                  `playback not stuck anymore @${l}, after ${Math.round(t)}ms`,
                ),
                  (this.stallReported = !1));
              }
              ((this.stalled = null), (this.nudgeRetry = 0));
            }
            return;
          }
          if (d || h) return void (this.stalled = null);
          if (
            (n.paused && !c) ||
            n.ended ||
            0 === n.playbackRate ||
            !wr.getBuffered(n).length
          )
            return;
          const f = wr.bufferInfo(n, l, 0),
            m = f.len > 0,
            y = f.nextStart || 0;
          if (!m && !y) return;
          if (c) {
            const t = f.len > 2,
              r =
                !y ||
                (e && e.start <= l) ||
                (y - l > 2 && !this.fragmentTracker.getPartialFragment(l));
            if (t || r) return;
            this.moved = !1;
          }
          if (!this.moved && null !== this.stalled) {
            var v;
            const t = Math.max(y, f.start || 0) - l,
              e = this.hls.levels
                ? this.hls.levels[this.hls.currentLevel]
                : null,
              r = (null == e || null == (v = e.details) ? void 0 : v.live)
                ? 2 * e.details.targetduration
                : 2,
              n = this.fragmentTracker.getPartialFragment(l);
            if (t > 0 && (t <= r || n)) return void this._trySkipBufferHole(n);
          }
          const E = self.performance.now();
          if (null === o) return void (this.stalled = E);
          const D = E - o;
          if (!c && D >= 250 && (this._reportStall(f), !this.media)) return;
          const T = wr.bufferInfo(n, l, r.maxBufferHole);
          this._tryFixBufferStall(T, D);
        }
        _tryFixBufferStall(t, e) {
          const { config: r, fragmentTracker: n, media: o } = this;
          if (null === o) return;
          const l = o.currentTime,
            c = n.getPartialFragment(l);
          if (c) {
            if (this._trySkipBufferHole(c) || !this.media) return;
          }
          (t.len > r.maxBufferHole ||
            (t.nextStart && t.nextStart - l < r.maxBufferHole)) &&
            e > 1e3 * r.highBufferWatchdogPeriod &&
            (C.warn("Trying to nudge playhead over buffer-hole"),
            (this.stalled = null),
            this._tryNudgeBuffer());
        }
        _reportStall(t) {
          const { hls: e, media: r, stallReported: n } = this;
          if (!n && r) {
            this.stallReported = !0;
            const n = new Error(
              `Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(t)})`,
            );
            (C.warn(n.message),
              e.trigger(S.ERROR, {
                type: _.MEDIA_ERROR,
                details: w.BUFFER_STALLED_ERROR,
                fatal: !1,
                error: n,
                buffer: t.len,
              }));
          }
        }
        _trySkipBufferHole(t) {
          const { config: e, hls: r, media: n } = this;
          if (null === n) return 0;
          const o = n.currentTime,
            l = wr.bufferInfo(n, o, 0),
            c = o < l.start ? l.start : l.nextStart;
          if (c) {
            const h = l.len <= e.maxBufferHole,
              d = l.len > 0 && l.len < 1 && n.readyState < 3,
              f = c - o;
            if (f > 0 && (h || d)) {
              if (f > e.maxBufferHole) {
                const { fragmentTracker: e } = this;
                let r = !1;
                if (0 === o) {
                  const t = e.getAppendedFrag(0, fe.MAIN);
                  t && c < t.end && (r = !0);
                }
                if (!r) {
                  const r = t || e.getAppendedFrag(o, fe.MAIN);
                  if (r) {
                    let t = !1,
                      n = r.end;
                    for (; n < c; ) {
                      const r = e.getPartialFragment(n);
                      if (!r) {
                        t = !0;
                        break;
                      }
                      n += r.duration;
                    }
                    if (t) return 0;
                  }
                }
              }
              const l = Math.max(c + 0.05, o + 0.1);
              if (
                (C.warn(
                  `skipping hole, adjusting currentTime from ${o} to ${l}`,
                ),
                (this.moved = !0),
                (this.stalled = null),
                (n.currentTime = l),
                t && !t.gap)
              ) {
                const e = new Error(
                  `fragment loaded with buffer holes, seeking from ${o} to ${l}`,
                );
                r.trigger(S.ERROR, {
                  type: _.MEDIA_ERROR,
                  details: w.BUFFER_SEEK_OVER_HOLE,
                  fatal: !1,
                  error: e,
                  reason: e.message,
                  frag: t,
                });
              }
              return l;
            }
          }
          return 0;
        }
        _tryNudgeBuffer() {
          const { config: t, hls: e, media: r, nudgeRetry: n } = this;
          if (null === r) return;
          const o = r.currentTime;
          if ((this.nudgeRetry++, n < t.nudgeMaxRetry)) {
            const l = o + (n + 1) * t.nudgeOffset,
              c = new Error(`Nudging 'currentTime' from ${o} to ${l}`);
            (C.warn(c.message),
              (r.currentTime = l),
              e.trigger(S.ERROR, {
                type: _.MEDIA_ERROR,
                details: w.BUFFER_NUDGE_ON_STALL,
                error: c,
                fatal: !1,
              }));
          } else {
            const r = new Error(
              `Playhead still not moving while enough data buffered @${o} after ${t.nudgeMaxRetry} nudges`,
            );
            (C.error(r.message),
              e.trigger(S.ERROR, {
                type: _.MEDIA_ERROR,
                details: w.BUFFER_STALLED_ERROR,
                error: r,
                fatal: !0,
              }));
          }
        }
      }
      class ni extends qr {
        constructor(t, e, r) {
          (super(t, e, r, "[stream-controller]", fe.MAIN),
            (this.audioCodecSwap = !1),
            (this.gapController = null),
            (this.level = -1),
            (this._forceStartLoad = !1),
            (this.altAudio = !1),
            (this.audioOnly = !1),
            (this.fragPlaying = null),
            (this.onvplaying = null),
            (this.onvseeked = null),
            (this.fragLastKbps = 0),
            (this.couldBacktrack = !1),
            (this.backtrackFragment = null),
            (this.audioCodecSwitch = !1),
            (this.videoBuffer = null),
            this._registerListeners());
        }
        _registerListeners() {
          const { hls: t } = this;
          (t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this),
            t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
            t.on(S.MANIFEST_PARSED, this.onManifestParsed, this),
            t.on(S.LEVEL_LOADING, this.onLevelLoading, this),
            t.on(S.LEVEL_LOADED, this.onLevelLoaded, this),
            t.on(
              S.FRAG_LOAD_EMERGENCY_ABORTED,
              this.onFragLoadEmergencyAborted,
              this,
            ),
            t.on(S.ERROR, this.onError, this),
            t.on(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
            t.on(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
            t.on(S.BUFFER_CREATED, this.onBufferCreated, this),
            t.on(S.BUFFER_FLUSHED, this.onBufferFlushed, this),
            t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this),
            t.on(S.FRAG_BUFFERED, this.onFragBuffered, this));
        }
        _unregisterListeners() {
          const { hls: t } = this;
          (t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this),
            t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
            t.off(S.MANIFEST_PARSED, this.onManifestParsed, this),
            t.off(S.LEVEL_LOADED, this.onLevelLoaded, this),
            t.off(
              S.FRAG_LOAD_EMERGENCY_ABORTED,
              this.onFragLoadEmergencyAborted,
              this,
            ),
            t.off(S.ERROR, this.onError, this),
            t.off(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
            t.off(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
            t.off(S.BUFFER_CREATED, this.onBufferCreated, this),
            t.off(S.BUFFER_FLUSHED, this.onBufferFlushed, this),
            t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this),
            t.off(S.FRAG_BUFFERED, this.onFragBuffered, this));
        }
        onHandlerDestroying() {
          (this._unregisterListeners(), this.onMediaDetaching());
        }
        startLoad(t) {
          if (this.levels) {
            const { lastCurrentTime: e, hls: r } = this;
            if (
              (this.stopLoad(),
              this.setInterval(100),
              (this.level = -1),
              !this.startFragRequested)
            ) {
              let t = r.startLevel;
              (-1 === t &&
                (r.config.testBandwidth && this.levels.length > 1
                  ? ((t = 0), (this.bitrateTest = !0))
                  : (t = r.nextAutoLevel)),
                (this.level = r.nextLoadLevel = t),
                (this.loadedmetadata = !1));
            }
            (e > 0 &&
              -1 === t &&
              (this.log(
                `Override startPosition with lastCurrentTime @${e.toFixed(3)}`,
              ),
              (t = e)),
              (this.state = Br),
              (this.nextLoadPosition =
                this.startPosition =
                this.lastCurrentTime =
                  t),
              this.tick());
          } else ((this._forceStartLoad = !0), (this.state = Nr));
        }
        stopLoad() {
          ((this._forceStartLoad = !1), super.stopLoad());
        }
        doTick() {
          switch (this.state) {
            case Wr: {
              var t;
              const { levels: e, level: r } = this,
                details = null == e || null == (t = e[r]) ? void 0 : t.details;
              if (
                details &&
                (!details.live || this.levelLastLoaded === this.level)
              ) {
                if (this.waitForCdnTuneIn(details)) break;
                this.state = Br;
                break;
              }
              if (this.hls.nextLoadLevel !== this.level) {
                this.state = Br;
                break;
              }
              break;
            }
            case $r: {
              var e;
              const t = self.performance.now(),
                r = this.retryDate;
              (!r || t >= r || (null != (e = this.media) && e.seeking)) &&
                (this.resetStartWhenNotLoaded(this.level), (this.state = Br));
            }
          }
          (this.state === Br && this.doTickIdle(), this.onTickEnd());
        }
        onTickEnd() {
          (super.onTickEnd(), this.checkBuffer(), this.checkFragmentChanged());
        }
        doTickIdle() {
          const { hls: t, levelLastLoaded: e, levels: r, media: n } = this,
            { config: o, nextLoadLevel: l } = t;
          if (
            null === e ||
            (!n && (this.startFragRequested || !o.startFragPrefetch))
          )
            return;
          if (this.altAudio && this.audioOnly) return;
          if (null == r || !r[l]) return;
          const c = r[l],
            h = this.getMainFwdBufferInfo();
          if (null === h) return;
          const d = this.getLevelDetails();
          if (d && this._streamEnded(h, d)) {
            const data = {};
            return (
              this.altAudio && (data.type = "video"),
              this.hls.trigger(S.BUFFER_EOS, data),
              void (this.state = Vr)
            );
          }
          (t.loadLevel !== l &&
            -1 === t.manualLevel &&
            this.log(`Adapting to level ${l} from level ${this.level}`),
            (this.level = t.nextLoadLevel = l));
          const f = c.details;
          if (!f || this.state === Wr || (f.live && this.levelLastLoaded !== l))
            return ((this.level = l), void (this.state = Wr));
          const m = h.len,
            y = this.getMaxBufferLength(c.maxBitrate);
          if (m >= y) return;
          this.backtrackFragment &&
            this.backtrackFragment.start > h.end &&
            (this.backtrackFragment = null);
          const v = this.backtrackFragment
            ? this.backtrackFragment.start
            : h.end;
          let E = this.getNextFragment(v, f);
          if (
            this.couldBacktrack &&
            !this.fragPrevious &&
            E &&
            "initSegment" !== E.sn &&
            this.fragmentTracker.getState(E) !== dr
          ) {
            var D;
            const t =
                (null != (D = this.backtrackFragment) ? D : E).sn - f.startSN,
              e = f.fragments[t - 1];
            e &&
              E.cc === e.cc &&
              ((E = e), this.fragmentTracker.removeFragment(e));
          } else
            this.backtrackFragment && h.len && (this.backtrackFragment = null);
          if (E && this.isLoopLoading(E, v)) {
            if (!E.gap) {
              const t = this.audioOnly && !this.altAudio ? N.AUDIO : N.VIDEO,
                e =
                  (t === N.VIDEO ? this.videoBuffer : this.mediaBuffer) ||
                  this.media;
              e && this.afterBufferFlushed(e, t, fe.MAIN);
            }
            E = this.getNextFragmentLoopLoading(E, f, h, fe.MAIN, y);
          }
          E &&
            (!E.initSegment ||
              E.initSegment.data ||
              this.bitrateTest ||
              (E = E.initSegment),
            this.loadFragment(E, c, v));
        }
        loadFragment(t, e, r) {
          const n = this.fragmentTracker.getState(t);
          ((this.fragCurrent = t),
            n === lr || n === cr
              ? "initSegment" === t.sn
                ? this._loadInitSegment(t, e)
                : this.bitrateTest
                  ? (this.log(
                      `Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`,
                    ),
                    this._loadBitrateTestFrag(t, e))
                  : ((this.startFragRequested = !0),
                    super.loadFragment(t, e, r))
              : this.clearTrackerIfNeeded(t));
        }
        getBufferedFrag(t) {
          return this.fragmentTracker.getBufferedFrag(t, fe.MAIN);
        }
        followingBufferedFrag(t) {
          return t ? this.getBufferedFrag(t.end + 0.5) : null;
        }
        immediateLevelSwitch() {
          (this.abortCurrentFrag(),
            this.flushMainBuffer(0, Number.POSITIVE_INFINITY));
        }
        nextLevelSwitch() {
          const { levels: t, media: e } = this;
          if (null != e && e.readyState) {
            let r;
            const n = this.getAppendedFrag(e.currentTime);
            n && n.start > 1 && this.flushMainBuffer(0, n.start - 1);
            const o = this.getLevelDetails();
            if (null != o && o.live) {
              const t = this.getMainFwdBufferInfo();
              if (!t || t.len < 2 * o.targetduration) return;
            }
            if (!e.paused && t) {
              const e = t[this.hls.nextLoadLevel],
                n = this.fragLastKbps;
              r =
                n && this.fragCurrent
                  ? (this.fragCurrent.duration * e.maxBitrate) / (1e3 * n) + 1
                  : 0;
            } else r = 0;
            const l = this.getBufferedFrag(e.currentTime + r);
            if (l) {
              const t = this.followingBufferedFrag(l);
              if (t) {
                this.abortCurrentFrag();
                const e = t.maxStartPTS ? t.maxStartPTS : t.start,
                  r = t.duration,
                  n = Math.max(
                    l.end,
                    e +
                      Math.min(
                        Math.max(
                          r - this.config.maxFragLookUpTolerance,
                          0.5 * r,
                        ),
                        0.75 * r,
                      ),
                  );
                this.flushMainBuffer(n, Number.POSITIVE_INFINITY);
              }
            }
          }
        }
        abortCurrentFrag() {
          const t = this.fragCurrent;
          switch (
            ((this.fragCurrent = null),
            (this.backtrackFragment = null),
            t && (t.abortRequests(), this.fragmentTracker.removeFragment(t)),
            this.state)
          ) {
            case Ur:
            case jr:
            case $r:
            case Kr:
            case Hr:
              this.state = Br;
          }
          this.nextLoadPosition = this.getLoadPosition();
        }
        flushMainBuffer(t, e) {
          super.flushMainBuffer(t, e, this.altAudio ? "video" : null);
        }
        onMediaAttached(t, data) {
          super.onMediaAttached(t, data);
          const e = data.media;
          ((this.onvplaying = this.onMediaPlaying.bind(this)),
            (this.onvseeked = this.onMediaSeeked.bind(this)),
            e.addEventListener("playing", this.onvplaying),
            e.addEventListener("seeked", this.onvseeked),
            (this.gapController = new ri(
              this.config,
              e,
              this.fragmentTracker,
              this.hls,
            )));
        }
        onMediaDetaching() {
          const { media: t } = this;
          (t &&
            this.onvplaying &&
            this.onvseeked &&
            (t.removeEventListener("playing", this.onvplaying),
            t.removeEventListener("seeked", this.onvseeked),
            (this.onvplaying = this.onvseeked = null),
            (this.videoBuffer = null)),
            (this.fragPlaying = null),
            this.gapController &&
              (this.gapController.destroy(), (this.gapController = null)),
            super.onMediaDetaching());
        }
        onMediaPlaying() {
          this.tick();
        }
        onMediaSeeked() {
          const t = this.media,
            e = t ? t.currentTime : null;
          T(e) && this.log(`Media seeked to ${e.toFixed(3)}`);
          const r = this.getMainFwdBufferInfo();
          null !== r && 0 !== r.len
            ? this.tick()
            : this.warn(
                `Main forward buffer length on "seeked" event ${r ? r.len : "empty"})`,
              );
        }
        onManifestLoading() {
          (this.log("Trigger BUFFER_RESET"),
            this.hls.trigger(S.BUFFER_RESET, void 0),
            this.fragmentTracker.removeAllFragments(),
            (this.couldBacktrack = !1),
            (this.startPosition = this.lastCurrentTime = 0),
            (this.levels = this.fragPlaying = this.backtrackFragment = null),
            (this.altAudio = this.audioOnly = !1));
        }
        onManifestParsed(t, data) {
          let e,
            r = !1,
            n = !1;
          (data.levels.forEach((t) => {
            ((e = t.audioCodec),
              e &&
                (-1 !== e.indexOf("mp4a.40.2") && (r = !0),
                -1 !== e.indexOf("mp4a.40.5") && (n = !0)));
          }),
            (this.audioCodecSwitch =
              r &&
              n &&
              !(function () {
                var t;
                const e = Xr();
                return (
                  "function" ==
                  typeof (null == e || null == (t = e.prototype)
                    ? void 0
                    : t.changeType)
                );
              })()),
            this.audioCodecSwitch &&
              this.log(
                "Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC",
              ),
            (this.levels = data.levels),
            (this.startFragRequested = !1));
        }
        onLevelLoading(t, data) {
          const { levels: e } = this;
          if (!e || this.state !== Br) return;
          const r = e[data.level];
          (!r.details ||
            (r.details.live && this.levelLastLoaded !== data.level) ||
            this.waitForCdnTuneIn(r.details)) &&
            (this.state = Wr);
        }
        onLevelLoaded(t, data) {
          var e;
          const { levels: r } = this,
            n = data.level,
            o = data.details,
            l = o.totalduration;
          if (!r)
            return void this.warn(`Levels were reset while loading level ${n}`);
          this.log(
            `Level ${n} loaded [${o.startSN},${o.endSN}]${o.lastPartSn ? `[part-${o.lastPartSn}-${o.lastPartIndex}]` : ""}, cc [${o.startCC}, ${o.endCC}] duration:${l}`,
          );
          const c = r[n],
            h = this.fragCurrent;
          !h ||
            (this.state !== jr && this.state !== $r) ||
            (h.level === data.level && h.urlId === c.urlId) ||
            !h.loader ||
            this.abortCurrentFrag();
          let d = 0;
          if (o.live || (null != (e = c.details) && e.live)) {
            if ((this.checkLiveUpdate(o), o.deltaUpdateFailed)) return;
            d = this.alignPlaylists(o, c.details);
          }
          if (
            ((c.details = o),
            (this.levelLastLoaded = n),
            this.hls.trigger(S.LEVEL_UPDATED, { details: o, level: n }),
            this.state === Wr)
          ) {
            if (this.waitForCdnTuneIn(o)) return;
            this.state = Br;
          }
          (this.startFragRequested
            ? o.live && this.synchronizeToLiveEdge(o)
            : this.setStartPosition(o, d),
            this.tick());
        }
        _handleFragmentLoadProgress(data) {
          var t;
          const { frag: e, part: r, payload: n } = data,
            { levels: o } = this;
          if (!o)
            return void this.warn(
              `Levels were reset while fragment load was in progress. Fragment ${e.sn} of level ${e.level} will not be buffered`,
            );
          const l = o[e.level],
            details = l.details;
          if (!details)
            return (
              this.warn(
                `Dropping fragment ${e.sn} of level ${e.level} after level details were reset`,
              ),
              void this.fragmentTracker.removeFragment(e)
            );
          const c = l.videoCodec,
            h = details.PTSKnown || !details.live,
            d = null == (t = e.initSegment) ? void 0 : t.data,
            f = this._getAudioCodec(l),
            m = (this.transmuxer =
              this.transmuxer ||
              new ei(
                this.hls,
                fe.MAIN,
                this._handleTransmuxComplete.bind(this),
                this._handleTransmuxerFlush.bind(this),
              )),
            y = r ? r.index : -1,
            v = -1 !== y,
            E = new Ar(e.level, e.sn, e.stats.chunkCount, n.byteLength, y, v),
            D = this.initPTS[e.cc];
          m.push(n, d, f, c, e, r, details.totalduration, h, E, D);
        }
        onAudioTrackSwitching(t, data) {
          const e = this.altAudio;
          if (!!!data.url) {
            if (this.mediaBuffer !== this.media) {
              (this.log(
                "Switching on main audio, use media.buffered to schedule main fragment loading",
              ),
                (this.mediaBuffer = this.media));
              const t = this.fragCurrent;
              (t &&
                (this.log(
                  "Switching to main audio track, cancel main fragment load",
                ),
                t.abortRequests(),
                this.fragmentTracker.removeFragment(t)),
                this.resetTransmuxer(),
                this.resetLoadingState());
            } else this.audioOnly && this.resetTransmuxer();
            const t = this.hls;
            (e &&
              (t.trigger(S.BUFFER_FLUSHING, {
                startOffset: 0,
                endOffset: Number.POSITIVE_INFINITY,
                type: null,
              }),
              this.fragmentTracker.removeAllFragments()),
              t.trigger(S.AUDIO_TRACK_SWITCHED, data));
          }
        }
        onAudioTrackSwitched(t, data) {
          const e = data.id,
            r = !!this.hls.audioTracks[e].url;
          if (r) {
            const t = this.videoBuffer;
            t &&
              this.mediaBuffer !== t &&
              (this.log(
                "Switching on alternate audio, use video.buffered to schedule main fragment loading",
              ),
              (this.mediaBuffer = t));
          }
          ((this.altAudio = r), this.tick());
        }
        onBufferCreated(t, data) {
          const e = data.tracks;
          let r,
            n,
            o = !1;
          for (const t in e) {
            const track = e[t];
            if ("main" === track.id) {
              if (((n = t), (r = track), "video" === t)) {
                const r = e[t];
                r && (this.videoBuffer = r.buffer);
              }
            } else o = !0;
          }
          o && r
            ? (this.log(
                `Alternate track found, use ${n}.buffered to schedule main fragment loading`,
              ),
              (this.mediaBuffer = r.buffer))
            : (this.mediaBuffer = this.media);
        }
        onFragBuffered(t, data) {
          const { frag: e, part: r } = data;
          if (e && e.type !== fe.MAIN) return;
          if (this.fragContextChanged(e))
            return (
              this.warn(
                `Fragment ${e.sn}${r ? " p: " + r.index : ""} of level ${e.level} finished buffering, but was aborted. state: ${this.state}`,
              ),
              void (this.state === Hr && (this.state = Br))
            );
          const n = r ? r.stats : e.stats;
          ((this.fragLastKbps = Math.round(
            (8 * n.total) / (n.buffering.end - n.loading.first),
          )),
            "initSegment" !== e.sn && (this.fragPrevious = e),
            this.fragBufferedComplete(e, r));
        }
        onError(t, data) {
          var e;
          if (data.fatal) this.state = Yr;
          else
            switch (data.details) {
              case w.FRAG_GAP:
              case w.FRAG_PARSING_ERROR:
              case w.FRAG_DECRYPT_ERROR:
              case w.FRAG_LOAD_ERROR:
              case w.FRAG_LOAD_TIMEOUT:
              case w.KEY_LOAD_ERROR:
              case w.KEY_LOAD_TIMEOUT:
                this.onFragmentOrKeyLoadError(fe.MAIN, data);
                break;
              case w.LEVEL_LOAD_ERROR:
              case w.LEVEL_LOAD_TIMEOUT:
              case w.LEVEL_PARSING_ERROR:
                data.levelRetry ||
                  this.state !== Wr ||
                  (null == (e = data.context) ? void 0 : e.type) !== de.LEVEL ||
                  (this.state = Br);
                break;
              case w.BUFFER_FULL_ERROR:
                if (!data.parent || "main" !== data.parent) return;
                this.reduceLengthAndFlushBuffer(data) &&
                  this.flushMainBuffer(0, Number.POSITIVE_INFINITY);
                break;
              case w.INTERNAL_EXCEPTION:
                this.recoverWorkerError(data);
            }
        }
        checkBuffer() {
          const { media: t, gapController: e } = this;
          if (t && e && t.readyState) {
            if (this.loadedmetadata || !wr.getBuffered(t).length) {
              const t = this.state !== Br ? this.fragCurrent : null;
              e.poll(this.lastCurrentTime, t);
            }
            this.lastCurrentTime = t.currentTime;
          }
        }
        onFragLoadEmergencyAborted() {
          ((this.state = Br),
            this.loadedmetadata ||
              ((this.startFragRequested = !1),
              (this.nextLoadPosition = this.startPosition)),
            this.tickImmediate());
        }
        onBufferFlushed(t, { type: e }) {
          if (e !== N.AUDIO || (this.audioOnly && !this.altAudio)) {
            const t =
              (e === N.VIDEO ? this.videoBuffer : this.mediaBuffer) ||
              this.media;
            this.afterBufferFlushed(t, e, fe.MAIN);
          }
        }
        onLevelsUpdated(t, data) {
          this.levels = data.levels;
        }
        swapAudioCodec() {
          this.audioCodecSwap = !this.audioCodecSwap;
        }
        seekToStartPos() {
          const { media: t } = this;
          if (!t) return;
          const e = t.currentTime;
          let r = this.startPosition;
          if (r >= 0 && e < r) {
            if (t.seeking)
              return void this.log(
                `could not seek to ${r}, already seeking at ${e}`,
              );
            const n = wr.getBuffered(t),
              o = (n.length ? n.start(0) : 0) - r;
            (o > 0 &&
              (o < this.config.maxBufferHole ||
                o < this.config.maxFragLookUpTolerance) &&
              (this.log(
                `adjusting start position by ${o} to match buffer start`,
              ),
              (r += o),
              (this.startPosition = r)),
              this.log(
                `seek to target start position ${r} from current time ${e}`,
              ),
              (t.currentTime = r));
          }
        }
        _getAudioCodec(t) {
          let e = this.config.defaultAudioCodec || t.audioCodec;
          return (
            this.audioCodecSwap &&
              e &&
              (this.log("Swapping audio codec"),
              (e = -1 !== e.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5")),
            e
          );
        }
        _loadBitrateTestFrag(t, e) {
          ((t.bitrateTest = !0),
            this._doFragLoad(t, e).then((data) => {
              const { hls: r } = this;
              if (!data || this.fragContextChanged(t)) return;
              ((e.fragmentError = 0),
                (this.state = Br),
                (this.startFragRequested = !1),
                (this.bitrateTest = !1));
              const n = t.stats;
              ((n.parsing.start =
                n.parsing.end =
                n.buffering.start =
                n.buffering.end =
                  self.performance.now()),
                r.trigger(S.FRAG_LOADED, data),
                (t.bitrateTest = !1));
            }));
        }
        _handleTransmuxComplete(t) {
          var e;
          const r = "main",
            { hls: n } = this,
            { remuxResult: o, chunkMeta: l } = t,
            c = this.getCurrentContext(l);
          if (!c) return void this.resetWhenMissingContext(l);
          const { frag: h, part: d, level: f } = c,
            { video: video, text: text, id3: m, initSegment: y } = o,
            { details: details } = f,
            audio = this.altAudio ? void 0 : o.audio;
          if (this.fragContextChanged(h))
            this.fragmentTracker.removeFragment(h);
          else {
            if (((this.state = Kr), y)) {
              if (null != y && y.tracks) {
                const t = h.initSegment || h;
                (this._bufferInitSegment(f, y.tracks, t, l),
                  n.trigger(S.FRAG_PARSING_INIT_SEGMENT, {
                    frag: t,
                    id: r,
                    tracks: y.tracks,
                  }));
              }
              const t = y.initPTS,
                e = y.timescale;
              T(t) &&
                ((this.initPTS[h.cc] = { baseTime: t, timescale: e }),
                n.trigger(S.INIT_PTS_FOUND, {
                  frag: h,
                  id: r,
                  initPTS: t,
                  timescale: e,
                }));
            }
            if (video && details && "initSegment" !== h.sn) {
              const t = details.fragments[h.sn - 1 - details.startSN],
                e = h.sn === details.startSN,
                r = !t || h.cc > t.cc;
              if (!1 !== o.independent) {
                const {
                  startPTS: t,
                  endPTS: n,
                  startDTS: o,
                  endDTS: c,
                } = video;
                if (d)
                  d.elementaryStreams[video.type] = {
                    startPTS: t,
                    endPTS: n,
                    startDTS: o,
                    endDTS: c,
                  };
                else if (
                  (video.firstKeyFrame &&
                    video.independent &&
                    1 === l.id &&
                    !r &&
                    (this.couldBacktrack = !0),
                  video.dropped && video.independent)
                ) {
                  const o = this.getMainFwdBufferInfo(),
                    l =
                      (o ? o.end : this.getLoadPosition()) +
                      this.config.maxBufferHole,
                    d = video.firstKeyFramePTS ? video.firstKeyFramePTS : t;
                  if (!e && l < d - this.config.maxBufferHole && !r)
                    return void this.backtrack(h);
                  (r && (h.gap = !0),
                    h.setElementaryStreamInfo(
                      video.type,
                      h.start,
                      n,
                      h.start,
                      c,
                      !0,
                    ));
                }
                (h.setElementaryStreamInfo(video.type, t, n, o, c),
                  this.backtrackFragment && (this.backtrackFragment = h),
                  this.bufferFragmentData(video, h, d, l, e || r));
              } else {
                if (!e && !r) return void this.backtrack(h);
                h.gap = !0;
              }
            }
            if (audio) {
              const { startPTS: t, endPTS: e, startDTS: r, endDTS: n } = audio;
              (d &&
                (d.elementaryStreams[N.AUDIO] = {
                  startPTS: t,
                  endPTS: e,
                  startDTS: r,
                  endDTS: n,
                }),
                h.setElementaryStreamInfo(N.AUDIO, t, e, r, n),
                this.bufferFragmentData(audio, h, d, l));
            }
            if (details && null != m && null != (e = m.samples) && e.length) {
              const t = {
                id: r,
                frag: h,
                details: details,
                samples: m.samples,
              };
              n.trigger(S.FRAG_PARSING_METADATA, t);
            }
            if (details && text) {
              const t = {
                id: r,
                frag: h,
                details: details,
                samples: text.samples,
              };
              n.trigger(S.FRAG_PARSING_USERDATA, t);
            }
          }
        }
        _bufferInitSegment(t, e, r, n) {
          if (this.state !== Kr) return;
          ((this.audioOnly = !!e.audio && !e.video),
            this.altAudio && !this.audioOnly && delete e.audio);
          const { audio: audio, video: video, audiovideo: o } = e;
          if (audio) {
            let e = t.audioCodec;
            const r = navigator.userAgent.toLowerCase();
            (this.audioCodecSwitch &&
              (e &&
                (e = -1 !== e.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"),
              1 !== audio.metadata.channelCount &&
                -1 === r.indexOf("firefox") &&
                (e = "mp4a.40.5")),
              -1 !== r.indexOf("android") &&
                "audio/mpeg" !== audio.container &&
                ((e = "mp4a.40.2"),
                this.log(`Android: force audio codec to ${e}`)),
              t.audioCodec &&
                t.audioCodec !== e &&
                this.log(
                  `Swapping manifest audio codec "${t.audioCodec}" for "${e}"`,
                ),
              (audio.levelCodec = e),
              (audio.id = "main"),
              this.log(
                `Init audio buffer, container:${audio.container}, codecs[selected/level/parsed]=[${e || ""}/${t.audioCodec || ""}/${audio.codec}]`,
              ));
          }
          (video &&
            ((video.levelCodec = t.videoCodec),
            (video.id = "main"),
            this.log(
              `Init video buffer, container:${video.container}, codecs[level/parsed]=[${t.videoCodec || ""}/${video.codec}]`,
            )),
            o &&
              this.log(
                `Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${t.attrs.CODECS || ""}/${o.codec}]`,
              ),
            this.hls.trigger(S.BUFFER_CODECS, e),
            Object.keys(e).forEach((t) => {
              const o = e[t].initSegment;
              null != o &&
                o.byteLength &&
                this.hls.trigger(S.BUFFER_APPENDING, {
                  type: t,
                  data: o,
                  frag: r,
                  part: null,
                  chunkMeta: n,
                  parent: r.type,
                });
            }),
            this.tick());
        }
        getMainFwdBufferInfo() {
          return this.getFwdBufferInfo(
            this.mediaBuffer ? this.mediaBuffer : this.media,
            fe.MAIN,
          );
        }
        backtrack(t) {
          ((this.couldBacktrack = !0),
            (this.backtrackFragment = t),
            this.resetTransmuxer(),
            this.flushBufferGap(t),
            this.fragmentTracker.removeFragment(t),
            (this.fragPrevious = null),
            (this.nextLoadPosition = t.start),
            (this.state = Br));
        }
        checkFragmentChanged() {
          const video = this.media;
          let t = null;
          if (video && video.readyState > 1 && !1 === video.seeking) {
            const e = video.currentTime;
            if (
              (wr.isBuffered(video, e)
                ? (t = this.getAppendedFrag(e))
                : wr.isBuffered(video, e + 0.1) &&
                  (t = this.getAppendedFrag(e + 0.1)),
              t)
            ) {
              this.backtrackFragment = null;
              const e = this.fragPlaying,
                r = t.level;
              (e && t.sn === e.sn && e.level === r && t.urlId === e.urlId) ||
                ((this.fragPlaying = t),
                this.hls.trigger(S.FRAG_CHANGED, { frag: t }),
                (e && e.level === r) ||
                  this.hls.trigger(S.LEVEL_SWITCHED, { level: r }));
            }
          }
        }
        get nextLevel() {
          const t = this.nextBufferedFrag;
          return t ? t.level : -1;
        }
        get currentFrag() {
          const t = this.media;
          return t
            ? this.fragPlaying || this.getAppendedFrag(t.currentTime)
            : null;
        }
        get currentProgramDateTime() {
          const t = this.media;
          if (t) {
            const e = t.currentTime,
              r = this.currentFrag;
            if (r && T(e) && T(r.programDateTime)) {
              const t = r.programDateTime + 1e3 * (e - r.start);
              return new Date(t);
            }
          }
          return null;
        }
        get currentLevel() {
          const t = this.currentFrag;
          return t ? t.level : -1;
        }
        get nextBufferedFrag() {
          const t = this.currentFrag;
          return t ? this.followingBufferedFrag(t) : null;
        }
        get forceStartLoad() {
          return this._forceStartLoad;
        }
      }
      class ii {
        constructor(t, e = 0, r = 0) {
          ((this.halfLife = void 0),
            (this.alpha_ = void 0),
            (this.estimate_ = void 0),
            (this.totalWeight_ = void 0),
            (this.halfLife = t),
            (this.alpha_ = t ? Math.exp(Math.log(0.5) / t) : 0),
            (this.estimate_ = e),
            (this.totalWeight_ = r));
        }
        sample(t, e) {
          const r = Math.pow(this.alpha_, t);
          ((this.estimate_ = e * (1 - r) + r * this.estimate_),
            (this.totalWeight_ += t));
        }
        getTotalWeight() {
          return this.totalWeight_;
        }
        getEstimate() {
          if (this.alpha_) {
            const t = 1 - Math.pow(this.alpha_, this.totalWeight_);
            if (t) return this.estimate_ / t;
          }
          return this.estimate_;
        }
      }
      class si {
        constructor(t, e, r, n = 100) {
          ((this.defaultEstimate_ = void 0),
            (this.minWeight_ = void 0),
            (this.minDelayMs_ = void 0),
            (this.slow_ = void 0),
            (this.fast_ = void 0),
            (this.defaultTTFB_ = void 0),
            (this.ttfb_ = void 0),
            (this.defaultEstimate_ = r),
            (this.minWeight_ = 0.001),
            (this.minDelayMs_ = 50),
            (this.slow_ = new ii(t)),
            (this.fast_ = new ii(e)),
            (this.defaultTTFB_ = n),
            (this.ttfb_ = new ii(t)));
        }
        update(t, e) {
          const { slow_: r, fast_: n, ttfb_: o } = this;
          (r.halfLife !== t &&
            (this.slow_ = new ii(t, r.getEstimate(), r.getTotalWeight())),
            n.halfLife !== e &&
              (this.fast_ = new ii(e, n.getEstimate(), n.getTotalWeight())),
            o.halfLife !== t &&
              (this.ttfb_ = new ii(t, o.getEstimate(), o.getTotalWeight())));
        }
        sample(t, e) {
          const r = (t = Math.max(t, this.minDelayMs_)) / 1e3,
            n = (8 * e) / r;
          (this.fast_.sample(r, n), this.slow_.sample(r, n));
        }
        sampleTTFB(t) {
          const e = t / 1e3,
            r = Math.sqrt(2) * Math.exp(-Math.pow(e, 2) / 2);
          this.ttfb_.sample(r, Math.max(t, 5));
        }
        canEstimate() {
          return this.fast_.getTotalWeight() >= this.minWeight_;
        }
        getEstimate() {
          return this.canEstimate()
            ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate())
            : this.defaultEstimate_;
        }
        getEstimateTTFB() {
          return this.ttfb_.getTotalWeight() >= this.minWeight_
            ? this.ttfb_.getEstimate()
            : this.defaultTTFB_;
        }
        destroy() {}
      }
      class ai {
        constructor() {
          ((this.chunks = []), (this.dataLength = 0));
        }
        push(t) {
          (this.chunks.push(t), (this.dataLength += t.length));
        }
        flush() {
          const { chunks: t, dataLength: e } = this;
          let r;
          return t.length
            ? ((r =
                1 === t.length
                  ? t[0]
                  : (function (t, e) {
                      const r = new Uint8Array(e);
                      let n = 0;
                      for (let i = 0; i < t.length; i++) {
                        const e = t[i];
                        (r.set(e, n), (n += e.length));
                      }
                      return r;
                    })(t, e)),
              this.reset(),
              r)
            : new Uint8Array(0);
        }
        reset() {
          ((this.chunks.length = 0), (this.dataLength = 0));
        }
      }
      function oi(t, e) {
        if (t.length !== e.length) return !1;
        for (let i = 0; i < t.length; i++)
          if (!ui(t[i].attrs, e[i].attrs)) return !1;
        return !0;
      }
      function ui(t, e) {
        const r = t["STABLE-RENDITION-ID"];
        return r
          ? r === e["STABLE-RENDITION-ID"]
          : ![
              "LANGUAGE",
              "NAME",
              "CHARACTERISTICS",
              "AUTOSELECT",
              "DEFAULT",
              "FORCED",
            ].some((r) => t[r] !== e[r]);
      }
      class ci {
        constructor(t) {
          this.buffered = void 0;
          const e = (e, r, n) => {
            if ((r >>>= 0) > n - 1)
              throw new DOMException(
                `Failed to execute '${e}' on 'TimeRanges': The index provided (${r}) is greater than the maximum bound (${n})`,
              );
            return t[r][e];
          };
          this.buffered = {
            get length() {
              return t.length;
            },
            end: (r) => e("end", r, t.length),
            start: (r) => e("start", r, t.length),
          };
        }
      }
      function hi(t) {
        const e = [];
        for (let i = 0; i < t.length; i++) {
          const track = t[i];
          ("subtitles" !== track.kind && "captions" !== track.kind) ||
            !track.label ||
            e.push(t[i]);
        }
        return e;
      }
      class di {
        constructor(t) {
          ((this.buffers = void 0),
            (this.queues = { video: [], audio: [], audiovideo: [] }),
            (this.buffers = t));
        }
        append(t, e) {
          const r = this.queues[e];
          (r.push(t), 1 === r.length && this.buffers[e] && this.executeNext(e));
        }
        insertAbort(t, e) {
          (this.queues[e].unshift(t), this.executeNext(e));
        }
        appendBlocker(t) {
          let e;
          const r = new Promise((t) => {
              e = t;
            }),
            n = {
              execute: e,
              onStart: () => {},
              onComplete: () => {},
              onError: () => {},
            };
          return (this.append(n, t), r);
        }
        executeNext(t) {
          const { buffers: e, queues: r } = this,
            n = e[t],
            o = r[t];
          if (o.length) {
            const e = o[0];
            try {
              e.execute();
            } catch (r) {
              (C.warn(
                "[buffer-operation-queue]: Unhandled exception executing the current operation",
              ),
                e.onError(r),
                (null != n && n.updating) || (o.shift(), this.executeNext(t)));
            }
          }
        }
        shiftAndExecuteNext(t) {
          (this.queues[t].shift(), this.executeNext(t));
        }
        current(t) {
          return this.queues[t][0];
        }
      }
      const fi = qt(),
        pi = /([ha]vc.)(?:\.[^.,]+)+/;
      const gi = {
          42: 225,
          92: 233,
          94: 237,
          95: 243,
          96: 250,
          123: 231,
          124: 247,
          125: 209,
          126: 241,
          127: 9608,
          128: 174,
          129: 176,
          130: 189,
          131: 191,
          132: 8482,
          133: 162,
          134: 163,
          135: 9834,
          136: 224,
          137: 32,
          138: 232,
          139: 226,
          140: 234,
          141: 238,
          142: 244,
          143: 251,
          144: 193,
          145: 201,
          146: 211,
          147: 218,
          148: 220,
          149: 252,
          150: 8216,
          151: 161,
          152: 42,
          153: 8217,
          154: 9473,
          155: 169,
          156: 8480,
          157: 8226,
          158: 8220,
          159: 8221,
          160: 192,
          161: 194,
          162: 199,
          163: 200,
          164: 202,
          165: 203,
          166: 235,
          167: 206,
          168: 207,
          169: 239,
          170: 212,
          171: 217,
          172: 249,
          173: 219,
          174: 171,
          175: 187,
          176: 195,
          177: 227,
          178: 205,
          179: 204,
          180: 236,
          181: 210,
          182: 242,
          183: 213,
          184: 245,
          185: 123,
          186: 125,
          187: 92,
          188: 94,
          189: 95,
          190: 124,
          191: 8764,
          192: 196,
          193: 228,
          194: 214,
          195: 246,
          196: 223,
          197: 165,
          198: 164,
          199: 9475,
          200: 197,
          201: 229,
          202: 216,
          203: 248,
          204: 9487,
          205: 9491,
          206: 9495,
          207: 9499,
        },
        mi = function (t) {
          let e = t;
          return (gi.hasOwnProperty(t) && (e = gi[t]), String.fromCharCode(e));
        },
        yi = 15,
        vi = 100,
        bi = { 17: 1, 18: 3, 21: 5, 22: 7, 23: 9, 16: 11, 19: 12, 20: 14 },
        Ei = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 },
        Di = { 25: 1, 26: 3, 29: 5, 30: 7, 31: 9, 24: 11, 27: 12, 28: 14 },
        Ti = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 },
        Si = [
          "white",
          "green",
          "blue",
          "cyan",
          "red",
          "yellow",
          "magenta",
          "black",
          "transparent",
        ];
      class _i {
        constructor() {
          ((this.time = null), (this.verboseLevel = 0));
        }
        log(t, e) {
          if (this.verboseLevel >= t) {
            const r = "function" == typeof e ? e() : e;
            C.log(`${this.time} [${t}] ${r}`);
          }
        }
      }
      const wi = function (t) {
        const e = [];
        for (let r = 0; r < t.length; r++) e.push(t[r].toString(16));
        return e;
      };
      class Ai {
        constructor(t, e, r, n, o) {
          ((this.foreground = void 0),
            (this.underline = void 0),
            (this.italics = void 0),
            (this.background = void 0),
            (this.flash = void 0),
            (this.foreground = t || "white"),
            (this.underline = e || !1),
            (this.italics = r || !1),
            (this.background = n || "black"),
            (this.flash = o || !1));
        }
        reset() {
          ((this.foreground = "white"),
            (this.underline = !1),
            (this.italics = !1),
            (this.background = "black"),
            (this.flash = !1));
        }
        setStyles(t) {
          const e = [
            "foreground",
            "underline",
            "italics",
            "background",
            "flash",
          ];
          for (let i = 0; i < e.length; i++) {
            const style = e[i];
            t.hasOwnProperty(style) && (this[style] = t[style]);
          }
        }
        isDefault() {
          return (
            "white" === this.foreground &&
            !this.underline &&
            !this.italics &&
            "black" === this.background &&
            !this.flash
          );
        }
        equals(t) {
          return (
            this.foreground === t.foreground &&
            this.underline === t.underline &&
            this.italics === t.italics &&
            this.background === t.background &&
            this.flash === t.flash
          );
        }
        copy(t) {
          ((this.foreground = t.foreground),
            (this.underline = t.underline),
            (this.italics = t.italics),
            (this.background = t.background),
            (this.flash = t.flash));
        }
        toString() {
          return (
            "color=" +
            this.foreground +
            ", underline=" +
            this.underline +
            ", italics=" +
            this.italics +
            ", background=" +
            this.background +
            ", flash=" +
            this.flash
          );
        }
      }
      class xi {
        constructor(t, e, r, n, o, l) {
          ((this.uchar = void 0),
            (this.penState = void 0),
            (this.uchar = t || " "),
            (this.penState = new Ai(e, r, n, o, l)));
        }
        reset() {
          ((this.uchar = " "), this.penState.reset());
        }
        setChar(t, e) {
          ((this.uchar = t), this.penState.copy(e));
        }
        setPenState(t) {
          this.penState.copy(t);
        }
        equals(t) {
          return this.uchar === t.uchar && this.penState.equals(t.penState);
        }
        copy(t) {
          ((this.uchar = t.uchar), this.penState.copy(t.penState));
        }
        isEmpty() {
          return " " === this.uchar && this.penState.isDefault();
        }
      }
      class Li {
        constructor(t) {
          ((this.chars = void 0),
            (this.pos = void 0),
            (this.currPenState = void 0),
            (this.cueStartTime = void 0),
            (this.logger = void 0),
            (this.chars = []));
          for (let i = 0; i < vi; i++) this.chars.push(new xi());
          ((this.logger = t), (this.pos = 0), (this.currPenState = new Ai()));
        }
        equals(t) {
          let e = !0;
          for (let i = 0; i < vi; i++)
            if (!this.chars[i].equals(t.chars[i])) {
              e = !1;
              break;
            }
          return e;
        }
        copy(t) {
          for (let i = 0; i < vi; i++) this.chars[i].copy(t.chars[i]);
        }
        isEmpty() {
          let t = !0;
          for (let i = 0; i < vi; i++)
            if (!this.chars[i].isEmpty()) {
              t = !1;
              break;
            }
          return t;
        }
        setCursor(t) {
          (this.pos !== t && (this.pos = t),
            this.pos < 0
              ? (this.logger.log(3, "Negative cursor position " + this.pos),
                (this.pos = 0))
              : this.pos > vi &&
                (this.logger.log(3, "Too large cursor position " + this.pos),
                (this.pos = vi)));
        }
        moveCursor(t) {
          const e = this.pos + t;
          if (t > 1)
            for (let i = this.pos + 1; i < e + 1; i++)
              this.chars[i].setPenState(this.currPenState);
          this.setCursor(e);
        }
        backSpace() {
          (this.moveCursor(-1),
            this.chars[this.pos].setChar(" ", this.currPenState));
        }
        insertChar(t) {
          t >= 144 && this.backSpace();
          const e = mi(t);
          this.pos >= vi
            ? this.logger.log(
                0,
                () =>
                  "Cannot insert " +
                  t.toString(16) +
                  " (" +
                  e +
                  ") at position " +
                  this.pos +
                  ". Skipping it!",
              )
            : (this.chars[this.pos].setChar(e, this.currPenState),
              this.moveCursor(1));
        }
        clearFromPos(t) {
          let i;
          for (i = t; i < vi; i++) this.chars[i].reset();
        }
        clear() {
          (this.clearFromPos(0), (this.pos = 0), this.currPenState.reset());
        }
        clearToEndOfRow() {
          this.clearFromPos(this.pos);
        }
        getTextString() {
          const t = [];
          let e = !0;
          for (let i = 0; i < vi; i++) {
            const r = this.chars[i].uchar;
            (" " !== r && (e = !1), t.push(r));
          }
          return e ? "" : t.join("");
        }
        setPenStyles(t) {
          this.currPenState.setStyles(t);
          this.chars[this.pos].setPenState(this.currPenState);
        }
      }
      class ki {
        constructor(t) {
          ((this.rows = void 0),
            (this.currRow = void 0),
            (this.nrRollUpRows = void 0),
            (this.lastConditioningScreen = void 0),
            (this.logger = void 0),
            (this.rows = []));
          for (let i = 0; i < yi; i++) this.rows.push(new Li(t));
          ((this.logger = t),
            (this.currRow = 14),
            (this.nrRollUpRows = null),
            (this.lastConditioningScreen = null),
            this.reset());
        }
        reset() {
          for (let i = 0; i < yi; i++) this.rows[i].clear();
          this.currRow = 14;
        }
        equals(t) {
          let e = !0;
          for (let i = 0; i < yi; i++)
            if (!this.rows[i].equals(t.rows[i])) {
              e = !1;
              break;
            }
          return e;
        }
        copy(t) {
          for (let i = 0; i < yi; i++) this.rows[i].copy(t.rows[i]);
        }
        isEmpty() {
          let t = !0;
          for (let i = 0; i < yi; i++)
            if (!this.rows[i].isEmpty()) {
              t = !1;
              break;
            }
          return t;
        }
        backSpace() {
          this.rows[this.currRow].backSpace();
        }
        clearToEndOfRow() {
          this.rows[this.currRow].clearToEndOfRow();
        }
        insertChar(t) {
          this.rows[this.currRow].insertChar(t);
        }
        setPen(t) {
          this.rows[this.currRow].setPenStyles(t);
        }
        moveCursor(t) {
          this.rows[this.currRow].moveCursor(t);
        }
        setCursor(t) {
          this.logger.log(2, "setCursor: " + t);
          this.rows[this.currRow].setCursor(t);
        }
        setPAC(t) {
          this.logger.log(2, () => "pacData = " + JSON.stringify(t));
          let e = t.row - 1;
          if (
            (this.nrRollUpRows &&
              e < this.nrRollUpRows - 1 &&
              (e = this.nrRollUpRows - 1),
            this.nrRollUpRows && this.currRow !== e)
          ) {
            for (let i = 0; i < yi; i++) this.rows[i].clear();
            const t = this.currRow + 1 - this.nrRollUpRows,
              r = this.lastConditioningScreen;
            if (r) {
              const n = r.rows[t].cueStartTime,
                time = this.logger.time;
              if (n && null !== time && n < time)
                for (let i = 0; i < this.nrRollUpRows; i++)
                  this.rows[e - this.nrRollUpRows + i + 1].copy(r.rows[t + i]);
            }
          }
          this.currRow = e;
          const r = this.rows[this.currRow];
          if (null !== t.indent) {
            const e = t.indent,
              n = Math.max(e - 1, 0);
            (r.setCursor(t.indent), (t.color = r.chars[n].penState.foreground));
          }
          const n = {
            foreground: t.color,
            underline: t.underline,
            italics: t.italics,
            background: "black",
            flash: !1,
          };
          this.setPen(n);
        }
        setBkgData(t) {
          (this.logger.log(2, () => "bkgData = " + JSON.stringify(t)),
            this.backSpace(),
            this.setPen(t),
            this.insertChar(32));
        }
        setRollUpRows(t) {
          this.nrRollUpRows = t;
        }
        rollUp() {
          if (null === this.nrRollUpRows)
            return void this.logger.log(
              3,
              "roll_up but nrRollUpRows not set yet",
            );
          this.logger.log(1, () => this.getDisplayText());
          const t = this.currRow + 1 - this.nrRollUpRows,
            e = this.rows.splice(t, 1)[0];
          (e.clear(),
            this.rows.splice(this.currRow, 0, e),
            this.logger.log(2, "Rolling up"));
        }
        getDisplayText(t) {
          t = t || !1;
          const e = [];
          let text = "",
            r = -1;
          for (let i = 0; i < yi; i++) {
            const n = this.rows[i].getTextString();
            n &&
              ((r = i + 1),
              t ? e.push("Row " + r + ": '" + n + "'") : e.push(n.trim()));
          }
          return (
            e.length > 0 &&
              (text = t ? "[" + e.join(" | ") + "]" : e.join("\n")),
            text
          );
        }
        getTextAndFormat() {
          return this.rows;
        }
      }
      class Ci {
        constructor(t, e, r) {
          ((this.chNr = void 0),
            (this.outputFilter = void 0),
            (this.mode = void 0),
            (this.verbose = void 0),
            (this.displayedMemory = void 0),
            (this.nonDisplayedMemory = void 0),
            (this.lastConditioningScreen = void 0),
            (this.currRollUpRow = void 0),
            (this.writeScreen = void 0),
            (this.cueStartTime = void 0),
            (this.logger = void 0),
            (this.chNr = t),
            (this.outputFilter = e),
            (this.mode = null),
            (this.verbose = 0),
            (this.displayedMemory = new ki(r)),
            (this.nonDisplayedMemory = new ki(r)),
            (this.lastConditioningScreen = new ki(r)),
            (this.currRollUpRow = this.displayedMemory.rows[14]),
            (this.writeScreen = this.displayedMemory),
            (this.mode = null),
            (this.cueStartTime = null),
            (this.logger = r));
        }
        reset() {
          ((this.mode = null),
            this.displayedMemory.reset(),
            this.nonDisplayedMemory.reset(),
            this.lastConditioningScreen.reset(),
            this.outputFilter.reset(),
            (this.currRollUpRow = this.displayedMemory.rows[14]),
            (this.writeScreen = this.displayedMemory),
            (this.mode = null),
            (this.cueStartTime = null));
        }
        getHandler() {
          return this.outputFilter;
        }
        setHandler(t) {
          this.outputFilter = t;
        }
        setPAC(t) {
          this.writeScreen.setPAC(t);
        }
        setBkgData(t) {
          this.writeScreen.setBkgData(t);
        }
        setMode(t) {
          t !== this.mode &&
            ((this.mode = t),
            this.logger.log(2, () => "MODE=" + t),
            "MODE_POP-ON" === this.mode
              ? (this.writeScreen = this.nonDisplayedMemory)
              : ((this.writeScreen = this.displayedMemory),
                this.writeScreen.reset()),
            "MODE_ROLL-UP" !== this.mode &&
              ((this.displayedMemory.nrRollUpRows = null),
              (this.nonDisplayedMemory.nrRollUpRows = null)),
            (this.mode = t));
        }
        insertChars(t) {
          for (let i = 0; i < t.length; i++) this.writeScreen.insertChar(t[i]);
          const e =
            this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP";
          (this.logger.log(
            2,
            () => e + ": " + this.writeScreen.getDisplayText(!0),
          ),
            ("MODE_PAINT-ON" !== this.mode && "MODE_ROLL-UP" !== this.mode) ||
              (this.logger.log(
                1,
                () => "DISPLAYED: " + this.displayedMemory.getDisplayText(!0),
              ),
              this.outputDataUpdate()));
        }
        ccRCL() {
          (this.logger.log(2, "RCL - Resume Caption Loading"),
            this.setMode("MODE_POP-ON"));
        }
        ccBS() {
          (this.logger.log(2, "BS - BackSpace"),
            "MODE_TEXT" !== this.mode &&
              (this.writeScreen.backSpace(),
              this.writeScreen === this.displayedMemory &&
                this.outputDataUpdate()));
        }
        ccAOF() {}
        ccAON() {}
        ccDER() {
          (this.logger.log(2, "DER- Delete to End of Row"),
            this.writeScreen.clearToEndOfRow(),
            this.outputDataUpdate());
        }
        ccRU(t) {
          (this.logger.log(2, "RU(" + t + ") - Roll Up"),
            (this.writeScreen = this.displayedMemory),
            this.setMode("MODE_ROLL-UP"),
            this.writeScreen.setRollUpRows(t));
        }
        ccFON() {
          (this.logger.log(2, "FON - Flash On"),
            this.writeScreen.setPen({ flash: !0 }));
        }
        ccRDC() {
          (this.logger.log(2, "RDC - Resume Direct Captioning"),
            this.setMode("MODE_PAINT-ON"));
        }
        ccTR() {
          (this.logger.log(2, "TR"), this.setMode("MODE_TEXT"));
        }
        ccRTD() {
          (this.logger.log(2, "RTD"), this.setMode("MODE_TEXT"));
        }
        ccEDM() {
          (this.logger.log(2, "EDM - Erase Displayed Memory"),
            this.displayedMemory.reset(),
            this.outputDataUpdate(!0));
        }
        ccCR() {
          (this.logger.log(2, "CR - Carriage Return"),
            this.writeScreen.rollUp(),
            this.outputDataUpdate(!0));
        }
        ccENM() {
          (this.logger.log(2, "ENM - Erase Non-displayed Memory"),
            this.nonDisplayedMemory.reset());
        }
        ccEOC() {
          if (
            (this.logger.log(2, "EOC - End Of Caption"),
            "MODE_POP-ON" === this.mode)
          ) {
            const t = this.displayedMemory;
            ((this.displayedMemory = this.nonDisplayedMemory),
              (this.nonDisplayedMemory = t),
              (this.writeScreen = this.nonDisplayedMemory),
              this.logger.log(
                1,
                () => "DISP: " + this.displayedMemory.getDisplayText(),
              ));
          }
          this.outputDataUpdate(!0);
        }
        ccTO(t) {
          (this.logger.log(2, "TO(" + t + ") - Tab Offset"),
            this.writeScreen.moveCursor(t));
        }
        ccMIDROW(t) {
          const e = { flash: !1 };
          if (((e.underline = t % 2 == 1), (e.italics = t >= 46), e.italics))
            e.foreground = "white";
          else {
            const r = Math.floor(t / 2) - 16,
              n = [
                "white",
                "green",
                "blue",
                "cyan",
                "red",
                "yellow",
                "magenta",
              ];
            e.foreground = n[r];
          }
          (this.logger.log(2, "MIDROW: " + JSON.stringify(e)),
            this.writeScreen.setPen(e));
        }
        outputDataUpdate(t = !1) {
          const time = this.logger.time;
          null !== time &&
            this.outputFilter &&
            (null !== this.cueStartTime || this.displayedMemory.isEmpty()
              ? this.displayedMemory.equals(this.lastConditioningScreen) ||
                (this.outputFilter.newCue(
                  this.cueStartTime,
                  time,
                  this.lastConditioningScreen,
                ),
                t &&
                  this.outputFilter.dispatchCue &&
                  this.outputFilter.dispatchCue(),
                (this.cueStartTime = this.displayedMemory.isEmpty()
                  ? null
                  : time))
              : (this.cueStartTime = time),
            this.lastConditioningScreen.copy(this.displayedMemory));
        }
        cueSplitAtTime(t) {
          this.outputFilter &&
            (this.displayedMemory.isEmpty() ||
              (this.outputFilter.newCue &&
                this.outputFilter.newCue(
                  this.cueStartTime,
                  t,
                  this.displayedMemory,
                ),
              (this.cueStartTime = t)));
        }
      }
      class Ri {
        constructor(t, e, r) {
          ((this.channels = void 0),
            (this.currentChannel = 0),
            (this.cmdHistory = void 0),
            (this.logger = void 0));
          const n = new _i();
          ((this.channels = [null, new Ci(t, e, n), new Ci(t + 1, r, n)]),
            (this.cmdHistory = { a: null, b: null }),
            (this.logger = n));
        }
        getHandler(t) {
          return this.channels[t].getHandler();
        }
        setHandler(t, e) {
          this.channels[t].setHandler(e);
        }
        addData(time, t) {
          let e,
            a,
            b,
            r = !1;
          this.logger.time = time;
          for (let i = 0; i < t.length; i += 2)
            if (((a = 127 & t[i]), (b = 127 & t[i + 1]), 0 !== a || 0 !== b)) {
              if (
                (this.logger.log(
                  3,
                  "[" + wi([t[i], t[i + 1]]) + "] -> (" + wi([a, b]) + ")",
                ),
                (e = this.parseCmd(a, b)),
                e || (e = this.parseMidrow(a, b)),
                e || (e = this.parsePAC(a, b)),
                e || (e = this.parseBackgroundAttributes(a, b)),
                !e && ((r = this.parseChars(a, b)), r))
              ) {
                const t = this.currentChannel;
                if (t && t > 0) {
                  this.channels[t].insertChars(r);
                } else this.logger.log(2, "No channel found yet. TEXT-MODE?");
              }
              e ||
                r ||
                this.logger.log(
                  2,
                  "Couldn't parse cleaned data " +
                    wi([a, b]) +
                    " orig: " +
                    wi([t[i], t[i + 1]]),
                );
            }
        }
        parseCmd(a, b) {
          const { cmdHistory: t } = this;
          if (
            !(
              (20 === a || 28 === a || 21 === a || 29 === a) &&
              b >= 32 &&
              b <= 47
            ) &&
            !((23 === a || 31 === a) && b >= 33 && b <= 35)
          )
            return !1;
          if (Ii(a, b, t))
            return (
              Oi(null, null, t),
              this.logger.log(
                3,
                "Repeated command (" + wi([a, b]) + ") is dropped",
              ),
              !0
            );
          const e = 20 === a || 21 === a || 23 === a ? 1 : 2,
            r = this.channels[e];
          return (
            20 === a || 21 === a || 28 === a || 29 === a
              ? 32 === b
                ? r.ccRCL()
                : 33 === b
                  ? r.ccBS()
                  : 34 === b
                    ? r.ccAOF()
                    : 35 === b
                      ? r.ccAON()
                      : 36 === b
                        ? r.ccDER()
                        : 37 === b
                          ? r.ccRU(2)
                          : 38 === b
                            ? r.ccRU(3)
                            : 39 === b
                              ? r.ccRU(4)
                              : 40 === b
                                ? r.ccFON()
                                : 41 === b
                                  ? r.ccRDC()
                                  : 42 === b
                                    ? r.ccTR()
                                    : 43 === b
                                      ? r.ccRTD()
                                      : 44 === b
                                        ? r.ccEDM()
                                        : 45 === b
                                          ? r.ccCR()
                                          : 46 === b
                                            ? r.ccENM()
                                            : 47 === b && r.ccEOC()
              : r.ccTO(b - 32),
            Oi(a, b, t),
            (this.currentChannel = e),
            !0
          );
        }
        parseMidrow(a, b) {
          let t = 0;
          if ((17 === a || 25 === a) && b >= 32 && b <= 47) {
            if (((t = 17 === a ? 1 : 2), t !== this.currentChannel))
              return (
                this.logger.log(0, "Mismatch channel in midrow parsing"),
                !1
              );
            const e = this.channels[t];
            return (
              !!e &&
              (e.ccMIDROW(b),
              this.logger.log(3, "MIDROW (" + wi([a, b]) + ")"),
              !0)
            );
          }
          return !1;
        }
        parsePAC(a, b) {
          let t;
          const e = this.cmdHistory;
          if (
            !(
              ((a >= 17 && a <= 23) || (a >= 25 && a <= 31)) &&
              b >= 64 &&
              b <= 127
            ) &&
            !((16 === a || 24 === a) && b >= 64 && b <= 95)
          )
            return !1;
          if (Ii(a, b, e)) return (Oi(null, null, e), !0);
          const r = a <= 23 ? 1 : 2;
          t =
            b >= 64 && b <= 95
              ? 1 === r
                ? bi[a]
                : Di[a]
              : 1 === r
                ? Ei[a]
                : Ti[a];
          const n = this.channels[r];
          return (
            !!n &&
            (n.setPAC(this.interpretPAC(t, b)),
            Oi(a, b, e),
            (this.currentChannel = r),
            !0)
          );
        }
        interpretPAC(t, e) {
          let r;
          const n = {
            color: null,
            italics: !1,
            indent: null,
            underline: !1,
            row: t,
          };
          return (
            (r = e > 95 ? e - 96 : e - 64),
            (n.underline = 1 == (1 & r)),
            r <= 13
              ? (n.color = [
                  "white",
                  "green",
                  "blue",
                  "cyan",
                  "red",
                  "yellow",
                  "magenta",
                  "white",
                ][Math.floor(r / 2)])
              : r <= 15
                ? ((n.italics = !0), (n.color = "white"))
                : (n.indent = 4 * Math.floor((r - 16) / 2)),
            n
          );
        }
        parseChars(a, b) {
          let t,
            e = null,
            r = null;
          if (
            (a >= 25 ? ((t = 2), (r = a - 8)) : ((t = 1), (r = a)),
            r >= 17 && r <= 19)
          ) {
            let n;
            ((n = 17 === r ? b + 80 : 18 === r ? b + 112 : b + 144),
              this.logger.log(
                2,
                "Special char '" + mi(n) + "' in channel " + t,
              ),
              (e = [n]));
          } else a >= 32 && a <= 127 && (e = 0 === b ? [a] : [a, b]);
          if (e) {
            const t = wi(e);
            (this.logger.log(3, "Char codes =  " + t.join(",")),
              Oi(a, b, this.cmdHistory));
          }
          return e;
        }
        parseBackgroundAttributes(a, b) {
          if (
            !((16 === a || 24 === a) && b >= 32 && b <= 47) &&
            !((23 === a || 31 === a) && b >= 45 && b <= 47)
          )
            return !1;
          let t;
          const e = {};
          16 === a || 24 === a
            ? ((t = Math.floor((b - 32) / 2)),
              (e.background = Si[t]),
              b % 2 == 1 && (e.background = e.background + "_semi"))
            : 45 === b
              ? (e.background = "transparent")
              : ((e.foreground = "black"), 47 === b && (e.underline = !0));
          const r = a <= 23 ? 1 : 2;
          return (
            this.channels[r].setBkgData(e),
            Oi(a, b, this.cmdHistory),
            !0
          );
        }
        reset() {
          for (let i = 0; i < Object.keys(this.channels).length; i++) {
            const t = this.channels[i];
            t && t.reset();
          }
          this.cmdHistory = { a: null, b: null };
        }
        cueSplitAtTime(t) {
          for (let i = 0; i < this.channels.length; i++) {
            const e = this.channels[i];
            e && e.cueSplitAtTime(t);
          }
        }
      }
      function Oi(a, b, t) {
        ((t.a = a), (t.b = b));
      }
      function Ii(a, b, t) {
        return t.a === a && t.b === b;
      }
      class Pi {
        constructor(t, e) {
          ((this.timelineController = void 0),
            (this.cueRanges = []),
            (this.trackName = void 0),
            (this.startTime = null),
            (this.endTime = null),
            (this.screen = null),
            (this.timelineController = t),
            (this.trackName = e));
        }
        dispatchCue() {
          null !== this.startTime &&
            (this.timelineController.addCues(
              this.trackName,
              this.startTime,
              this.endTime,
              this.screen,
              this.cueRanges,
            ),
            (this.startTime = null));
        }
        newCue(t, e, r) {
          ((null === this.startTime || this.startTime > t) &&
            (this.startTime = t),
            (this.endTime = e),
            (this.screen = r),
            this.timelineController.createCaptionsTrack(this.trackName));
        }
        reset() {
          ((this.cueRanges = []), (this.startTime = null));
        }
      }
      var Fi = (function () {
        if ("undefined" != typeof self && self.VTTCue) return self.VTTCue;
        const t = ["", "lr", "rl"],
          e = ["start", "middle", "end", "left", "right"];
        function r(t, e) {
          if ("string" != typeof e) return !1;
          if (!Array.isArray(t)) return !1;
          const r = e.toLowerCase();
          return !!~t.indexOf(r) && r;
        }
        function n(t) {
          return r(e, t);
        }
        function o(t, ...e) {
          let i = 1;
          for (; i < arguments.length; i++) {
            const e = arguments[i];
            for (const p in e) t[p] = e[p];
          }
          return t;
        }
        function l(e, l, text) {
          const c = this,
            h = { enumerable: !0 };
          c.hasBeenReset = !1;
          let d = "",
            f = !1,
            m = e,
            y = l,
            v = text,
            E = null,
            D = "",
            T = !0,
            S = "auto",
            _ = "start",
            w = 50,
            A = "middle",
            x = 50,
            L = "middle";
          (Object.defineProperty(
            c,
            "id",
            o({}, h, {
              get: function () {
                return d;
              },
              set: function (t) {
                d = "" + t;
              },
            }),
          ),
            Object.defineProperty(
              c,
              "pauseOnExit",
              o({}, h, {
                get: function () {
                  return f;
                },
                set: function (t) {
                  f = !!t;
                },
              }),
            ),
            Object.defineProperty(
              c,
              "startTime",
              o({}, h, {
                get: function () {
                  return m;
                },
                set: function (t) {
                  if ("number" != typeof t)
                    throw new TypeError("Start time must be set to a number.");
                  ((m = t), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "endTime",
              o({}, h, {
                get: function () {
                  return y;
                },
                set: function (t) {
                  if ("number" != typeof t)
                    throw new TypeError("End time must be set to a number.");
                  ((y = t), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "text",
              o({}, h, {
                get: function () {
                  return v;
                },
                set: function (t) {
                  ((v = "" + t), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "region",
              o({}, h, {
                get: function () {
                  return E;
                },
                set: function (t) {
                  ((E = t), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "vertical",
              o({}, h, {
                get: function () {
                  return D;
                },
                set: function (e) {
                  const n = (function (e) {
                    return r(t, e);
                  })(e);
                  if (!1 === n)
                    throw new SyntaxError(
                      "An invalid or illegal string was specified.",
                    );
                  ((D = n), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "snapToLines",
              o({}, h, {
                get: function () {
                  return T;
                },
                set: function (t) {
                  ((T = !!t), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "line",
              o({}, h, {
                get: function () {
                  return S;
                },
                set: function (t) {
                  if ("number" != typeof t && "auto" !== t)
                    throw new SyntaxError(
                      "An invalid number or illegal string was specified.",
                    );
                  ((S = t), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "lineAlign",
              o({}, h, {
                get: function () {
                  return _;
                },
                set: function (t) {
                  const e = n(t);
                  if (!e)
                    throw new SyntaxError(
                      "An invalid or illegal string was specified.",
                    );
                  ((_ = e), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "position",
              o({}, h, {
                get: function () {
                  return w;
                },
                set: function (t) {
                  if (t < 0 || t > 100)
                    throw new Error("Position must be between 0 and 100.");
                  ((w = t), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "positionAlign",
              o({}, h, {
                get: function () {
                  return A;
                },
                set: function (t) {
                  const e = n(t);
                  if (!e)
                    throw new SyntaxError(
                      "An invalid or illegal string was specified.",
                    );
                  ((A = e), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "size",
              o({}, h, {
                get: function () {
                  return x;
                },
                set: function (t) {
                  if (t < 0 || t > 100)
                    throw new Error("Size must be between 0 and 100.");
                  ((x = t), (this.hasBeenReset = !0));
                },
              }),
            ),
            Object.defineProperty(
              c,
              "align",
              o({}, h, {
                get: function () {
                  return L;
                },
                set: function (t) {
                  const e = n(t);
                  if (!e)
                    throw new SyntaxError(
                      "An invalid or illegal string was specified.",
                    );
                  ((L = e), (this.hasBeenReset = !0));
                },
              }),
            ),
            (c.displayState = void 0));
        }
        return (
          (l.prototype.getCueAsHTML = function () {
            return self.WebVTT.convertCueToDOMTree(self, this.text);
          }),
          l
        );
      })();
      class Mi {
        decode(data, t) {
          if (!data) return "";
          if ("string" != typeof data)
            throw new Error("Error - expected string data.");
          return decodeURIComponent(encodeURIComponent(data));
        }
      }
      function Ni(input) {
        function t(t, e, s, r) {
          return 3600 * (0 | t) + 60 * (0 | e) + (0 | s) + parseFloat(r || 0);
        }
        const e = input.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);
        return e
          ? parseFloat(e[2]) > 59
            ? t(e[2], e[3], 0, e[4])
            : t(e[1], e[2], e[3], e[4])
          : null;
      }
      class Bi {
        constructor() {
          this.values = Object.create(null);
        }
        set(t, e) {
          this.get(t) || "" === e || (this.values[t] = e);
        }
        get(t, e, r) {
          return r
            ? this.has(t)
              ? this.values[t]
              : e[r]
            : this.has(t)
              ? this.values[t]
              : e;
        }
        has(t) {
          return t in this.values;
        }
        alt(t, e, a) {
          for (let r = 0; r < a.length; ++r)
            if (e === a[r]) {
              this.set(t, e);
              break;
            }
        }
        integer(t, e) {
          /^-?\d+$/.test(e) && this.set(t, parseInt(e, 10));
        }
        percent(t, e) {
          if (/^([\d]{1,3})(\.[\d]*)?%$/.test(e)) {
            const r = parseFloat(e);
            if (r >= 0 && r <= 100) return (this.set(t, r), !0);
          }
          return !1;
        }
      }
      function Ui(input, t, e, r) {
        const n = r ? input.split(r) : [input];
        for (const i in n) {
          if ("string" != typeof n[i]) continue;
          const r = n[i].split(e);
          if (2 !== r.length) continue;
          t(r[0], r[1]);
        }
      }
      const ji = new Fi(0, 0, ""),
        $i = "middle" === ji.align ? "middle" : "center";
      function Gi(input, t, e) {
        const r = input;
        function n() {
          const t = Ni(input);
          if (null === t) throw new Error("Malformed timestamp: " + r);
          return ((input = input.replace(/^[^\sa-zA-Z-]+/, "")), t);
        }
        function o() {
          input = input.replace(/^\s+/, "");
        }
        if ((o(), (t.startTime = n()), o(), "--\x3e" !== input.slice(0, 3)))
          throw new Error(
            "Malformed time stamp (time stamps must be separated by '--\x3e'): " +
              r,
          );
        ((input = input.slice(3)),
          o(),
          (t.endTime = n()),
          o(),
          (function (input, t) {
            const r = new Bi();
            (Ui(
              input,
              function (t, n) {
                let o;
                switch (t) {
                  case "region":
                    for (let i = e.length - 1; i >= 0; i--)
                      if (e[i].id === n) {
                        r.set(t, e[i].region);
                        break;
                      }
                    break;
                  case "vertical":
                    r.alt(t, n, ["rl", "lr"]);
                    break;
                  case "line":
                    ((o = n.split(",")),
                      r.integer(t, o[0]),
                      r.percent(t, o[0]) && r.set("snapToLines", !1),
                      r.alt(t, o[0], ["auto"]),
                      2 === o.length &&
                        r.alt("lineAlign", o[1], ["start", $i, "end"]));
                    break;
                  case "position":
                    ((o = n.split(",")),
                      r.percent(t, o[0]),
                      2 === o.length &&
                        r.alt("positionAlign", o[1], [
                          "start",
                          $i,
                          "end",
                          "line-left",
                          "line-right",
                          "auto",
                        ]));
                    break;
                  case "size":
                    r.percent(t, n);
                    break;
                  case "align":
                    r.alt(t, n, ["start", $i, "end", "left", "right"]);
                }
              },
              /:/,
              /\s/,
            ),
              (t.region = r.get("region", null)),
              (t.vertical = r.get("vertical", "")));
            let line = r.get("line", "auto");
            ("auto" === line && -1 === ji.line && (line = -1),
              (t.line = line),
              (t.lineAlign = r.get("lineAlign", "start")),
              (t.snapToLines = r.get("snapToLines", !0)),
              (t.size = r.get("size", 100)),
              (t.align = r.get("align", $i)));
            let n = r.get("position", "auto");
            ("auto" === n &&
              50 === ji.position &&
              (n =
                "start" === t.align || "left" === t.align
                  ? 0
                  : "end" === t.align || "right" === t.align
                    ? 100
                    : 50),
              (t.position = n));
          })(input, t));
      }
      function Ki(input) {
        return input.replace(/<br(?: \/)?>/gi, "\n");
      }
      class Hi {
        constructor() {
          ((this.state = "INITIAL"),
            (this.buffer = ""),
            (this.decoder = new Mi()),
            (this.regionList = []),
            (this.cue = null),
            (this.oncue = void 0),
            (this.onparsingerror = void 0),
            (this.onflush = void 0));
        }
        parse(data) {
          const t = this;
          function e() {
            let e = t.buffer,
              r = 0;
            for (e = Ki(e); r < e.length && "\r" !== e[r] && "\n" !== e[r]; )
              ++r;
            const line = e.slice(0, r);
            return (
              "\r" === e[r] && ++r,
              "\n" === e[r] && ++r,
              (t.buffer = e.slice(r)),
              line
            );
          }
          data && (t.buffer += t.decoder.decode(data, { stream: !0 }));
          try {
            let line = "";
            if ("INITIAL" === t.state) {
              if (!/\r\n|\n/.test(t.buffer)) return this;
              line = e();
              const r = line.match(/^()?WEBVTT([ \t].*)?$/);
              if (null == r || !r[0])
                throw new Error("Malformed WebVTT signature.");
              t.state = "HEADER";
            }
            let r = !1;
            for (; t.buffer; ) {
              if (!/\r\n|\n/.test(t.buffer)) return this;
              switch ((r ? (r = !1) : (line = e()), t.state)) {
                case "HEADER":
                  /:/.test(line)
                    ? Ui(line, function (t, e) {}, /:/)
                    : line || (t.state = "ID");
                  continue;
                case "NOTE":
                  line || (t.state = "ID");
                  continue;
                case "ID":
                  if (/^NOTE($|[ \t])/.test(line)) {
                    t.state = "NOTE";
                    break;
                  }
                  if (!line) continue;
                  if (
                    ((t.cue = new Fi(0, 0, "")),
                    (t.state = "CUE"),
                    -1 === line.indexOf("--\x3e"))
                  ) {
                    t.cue.id = line;
                    continue;
                  }
                case "CUE":
                  if (!t.cue) {
                    t.state = "BADCUE";
                    continue;
                  }
                  try {
                    Gi(line, t.cue, t.regionList);
                  } catch (e) {
                    ((t.cue = null), (t.state = "BADCUE"));
                    continue;
                  }
                  t.state = "CUETEXT";
                  continue;
                case "CUETEXT":
                  {
                    const e = -1 !== line.indexOf("--\x3e");
                    if (!line || (e && (r = !0))) {
                      (t.oncue && t.cue && t.oncue(t.cue),
                        (t.cue = null),
                        (t.state = "ID"));
                      continue;
                    }
                    if (null === t.cue) continue;
                    (t.cue.text && (t.cue.text += "\n"), (t.cue.text += line));
                  }
                  continue;
                case "BADCUE":
                  line || (t.state = "ID");
              }
            }
          } catch (e) {
            ("CUETEXT" === t.state && t.cue && t.oncue && t.oncue(t.cue),
              (t.cue = null),
              (t.state = "INITIAL" === t.state ? "BADWEBVTT" : "BADCUE"));
          }
          return this;
        }
        flush() {
          const t = this;
          try {
            if (
              ((t.cue || "HEADER" === t.state) &&
                ((t.buffer += "\n\n"), t.parse()),
              "INITIAL" === t.state || "BADWEBVTT" === t.state)
            )
              throw new Error("Malformed WebVTT signature.");
          } catch (e) {
            t.onparsingerror && t.onparsingerror(e);
          }
          return (t.onflush && t.onflush(), this);
        }
      }
      const Vi = /\r\n|\n\r|\n|\r/g,
        Yi = function (t, e, r = 0) {
          return t.slice(r, r + e.length) === e;
        },
        zi = function (text) {
          let t = 5381,
            i = text.length;
          for (; i; ) t = (33 * t) ^ text.charCodeAt(--i);
          return (t >>> 0).toString();
        };
      function Wi(t, e, text) {
        return zi(t.toString()) + zi(e.toString()) + zi(text);
      }
      function qi(t, e, r, n, o, l, c) {
        const h = new Hi(),
          d = vt(new Uint8Array(t)).trim().replace(Vi, "\n").split("\n"),
          f = [],
          m = e
            ? (function (t, e = 1) {
                return Pn(t, In, 1 / e);
              })(e.baseTime, e.timescale)
            : 0;
        let y,
          v = "00:00.000",
          E = 0,
          D = 0,
          S = !0;
        ((h.oncue = function (t) {
          const l = r[n];
          let c = r.ccOffset;
          const h = (E - m) / 9e4;
          if (
            (null != l &&
              l.new &&
              (void 0 !== D
                ? (c = r.ccOffset = l.start)
                : (function (t, e, r) {
                    let n = t[e],
                      o = t[n.prevCC];
                    if (!o || (!o.new && n.new))
                      return (
                        (t.ccOffset = t.presentationOffset = n.start),
                        void (n.new = !1)
                      );
                    for (; null != (l = o) && l.new; ) {
                      var l;
                      ((t.ccOffset += n.start - o.start),
                        (n.new = !1),
                        (n = o),
                        (o = t[n.prevCC]));
                    }
                    t.presentationOffset = r;
                  })(r, n, h)),
            h)
          ) {
            if (!e)
              return void (y = new Error("Missing initPTS for VTT MPEGTS"));
            c = h - r.presentationOffset;
          }
          const d = t.endTime - t.startTime,
            v = jn(9e4 * (t.startTime + c - D), 9e4 * o) / 9e4;
          ((t.startTime = Math.max(v, 0)), (t.endTime = Math.max(v + d, 0)));
          const text = t.text.trim();
          ((t.text = decodeURIComponent(encodeURIComponent(text))),
            t.id || (t.id = Wi(t.startTime, t.endTime, text)),
            t.endTime > 0 && f.push(t));
        }),
          (h.onparsingerror = function (t) {
            y = t;
          }),
          (h.onflush = function () {
            y ? c(y) : l(f);
          }),
          d.forEach((line) => {
            if (S) {
              if (Yi(line, "X-TIMESTAMP-MAP=")) {
                ((S = !1),
                  line
                    .slice(16)
                    .split(",")
                    .forEach((t) => {
                      Yi(t, "LOCAL:")
                        ? (v = t.slice(6))
                        : Yi(t, "MPEGTS:") && (E = parseInt(t.slice(7)));
                    }));
                try {
                  D =
                    (function (t) {
                      let e = parseInt(t.slice(-3));
                      const r = parseInt(t.slice(-6, -4)),
                        n = parseInt(t.slice(-9, -7)),
                        o =
                          t.length > 9
                            ? parseInt(t.substring(0, t.indexOf(":")))
                            : 0;
                      if (!(T(e) && T(r) && T(n) && T(o)))
                        throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);
                      return (
                        (e += 1e3 * r),
                        (e += 6e4 * n),
                        (e += 36e5 * o),
                        e
                      );
                    })(v) / 1e3;
                } catch (t) {
                  y = t;
                }
                return;
              }
              "" === line && (S = !1);
            }
            h.parse(line + "\n");
          }),
          h.flush());
      }
      const Xi = "stpp.ttml.im1t",
        Qi = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,
        Ji = /^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,
        Zi = {
          left: "start",
          center: "center",
          right: "end",
          start: "start",
          end: "end",
        };
      function ts(t, e, r, n) {
        const o = Ct(new Uint8Array(t), ["mdat"]);
        if (0 === o.length)
          return void n(new Error("Could not parse IMSC1 mdat"));
        const l = o.map((t) => vt(t)),
          c = (function (t, e, r = 1, n = !1) {
            return Pn(t, e, 1 / r, n);
          })(e.baseTime, 1, e.timescale);
        try {
          l.forEach((t) =>
            r(
              (function (t, e) {
                const r = new DOMParser().parseFromString(t, "text/xml"),
                  n = r.getElementsByTagName("tt")[0];
                if (!n) throw new Error("Invalid ttml");
                const o = {
                    frameRate: 30,
                    subFrameRate: 1,
                    frameRateMultiplier: 0,
                    tickRate: 0,
                  },
                  l = Object.keys(o).reduce(
                    (t, e) => ((t[e] = n.getAttribute(`ttp:${e}`) || o[e]), t),
                    {},
                  ),
                  c = "preserve" !== n.getAttribute("xml:space"),
                  h = rs(es(n, "styling", "style")),
                  d = rs(es(n, "layout", "region")),
                  f = es(n, "body", "[begin]");
                return [].map
                  .call(f, (t) => {
                    const r = ns(t, c);
                    if (!r || !t.hasAttribute("begin")) return null;
                    const n = as(t.getAttribute("begin"), l),
                      o = as(t.getAttribute("dur"), l);
                    let f = as(t.getAttribute("end"), l);
                    if (null === n) throw ss(t);
                    if (null === f) {
                      if (null === o) throw ss(t);
                      f = n + o;
                    }
                    const m = new Fi(n - e, f - e, r);
                    m.id = Wi(m.startTime, m.endTime, m.text);
                    const y = (function (t, style, e) {
                        const r = "http://www.w3.org/ns/ttml#styling";
                        let n = null;
                        const o = [
                            "displayAlign",
                            "textAlign",
                            "color",
                            "backgroundColor",
                            "fontSize",
                            "fontFamily",
                          ],
                          l =
                            null != t && t.hasAttribute("style")
                              ? t.getAttribute("style")
                              : null;
                        l && e.hasOwnProperty(l) && (n = e[l]);
                        return o.reduce((e, o) => {
                          const l =
                            is(style, r, o) || is(t, r, o) || is(n, r, o);
                          return (l && (e[o] = l), e);
                        }, {});
                      })(
                        d[t.getAttribute("region")],
                        h[t.getAttribute("style")],
                        h,
                      ),
                      { textAlign: v } = y;
                    if (v) {
                      const t = Zi[v];
                      (t && (m.lineAlign = t), (m.align = v));
                    }
                    return (D(m, y), m);
                  })
                  .filter((t) => null !== t);
              })(t, c),
            ),
          );
        } catch (t) {
          n(t);
        }
      }
      function es(t, e, r) {
        const n = t.getElementsByTagName(e)[0];
        return n ? [].slice.call(n.querySelectorAll(r)) : [];
      }
      function rs(t) {
        return t.reduce((t, element) => {
          const e = element.getAttribute("xml:id");
          return (e && (t[e] = element), t);
        }, {});
      }
      function ns(element, t) {
        return [].slice.call(element.childNodes).reduce((e, r, i) => {
          var n;
          return "br" === r.nodeName && i
            ? e + "\n"
            : null != (n = r.childNodes) && n.length
              ? ns(r, t)
              : t
                ? e + r.textContent.trim().replace(/\s+/g, " ")
                : e + r.textContent;
        }, "");
      }
      function is(element, t, e) {
        return element && element.hasAttributeNS(t, e)
          ? element.getAttributeNS(t, e)
          : null;
      }
      function ss(t) {
        return new Error(`Could not parse ttml timestamp ${t}`);
      }
      function as(t, e) {
        if (!t) return null;
        let r = Ni(t);
        return (
          null === r &&
            (Qi.test(t)
              ? (r = (function (t, e) {
                  const r = Qi.exec(t),
                    n = (0 | r[4]) + (0 | r[5]) / e.subFrameRate;
                  return (
                    3600 * (0 | r[1]) +
                    60 * (0 | r[2]) +
                    (0 | r[3]) +
                    n / e.frameRate
                  );
                })(t, e))
              : Ji.test(t) &&
                (r = (function (t, e) {
                  const r = Ji.exec(t),
                    n = Number(r[1]);
                  switch (r[2]) {
                    case "h":
                      return 3600 * n;
                    case "m":
                      return 60 * n;
                    case "ms":
                      return 1e3 * n;
                    case "f":
                      return n / e.frameRate;
                    case "t":
                      return n / e.tickRate;
                  }
                  return n;
                })(t, e))),
          r
        );
      }
      function os(t, e) {
        return !!t && t.label === e.name && !(t.textTrack1 || t.textTrack2);
      }
      class ls {
        constructor(t) {
          ((this.hls = void 0),
            (this.autoLevelCapping = void 0),
            (this.firstLevel = void 0),
            (this.media = void 0),
            (this.restrictedLevels = void 0),
            (this.timer = void 0),
            (this.clientRect = void 0),
            (this.streamController = void 0),
            (this.hls = t),
            (this.autoLevelCapping = Number.POSITIVE_INFINITY),
            (this.firstLevel = -1),
            (this.media = null),
            (this.restrictedLevels = []),
            (this.timer = void 0),
            (this.clientRect = null),
            this.registerListeners());
        }
        setStreamController(t) {
          this.streamController = t;
        }
        destroy() {
          (this.unregisterListener(),
            this.hls.config.capLevelToPlayerSize && this.stopCapping(),
            (this.media = null),
            (this.clientRect = null),
            (this.hls = this.streamController = null));
        }
        registerListeners() {
          const { hls: t } = this;
          (t.on(S.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this),
            t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this),
            t.on(S.MANIFEST_PARSED, this.onManifestParsed, this),
            t.on(S.BUFFER_CODECS, this.onBufferCodecs, this),
            t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this));
        }
        unregisterListener() {
          const { hls: t } = this;
          (t.off(S.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this),
            t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this),
            t.off(S.MANIFEST_PARSED, this.onManifestParsed, this),
            t.off(S.BUFFER_CODECS, this.onBufferCodecs, this),
            t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this));
        }
        onFpsDropLevelCapping(t, data) {
          const e = this.hls.levels[data.droppedLevel];
          this.isLevelAllowed(e) &&
            this.restrictedLevels.push({
              bitrate: e.bitrate,
              height: e.height,
              width: e.width,
            });
        }
        onMediaAttaching(t, data) {
          ((this.media =
            data.media instanceof HTMLVideoElement ? data.media : null),
            (this.clientRect = null));
        }
        onManifestParsed(t, data) {
          const e = this.hls;
          ((this.restrictedLevels = []),
            (this.firstLevel = data.firstLevel),
            e.config.capLevelToPlayerSize && data.video && this.startCapping());
        }
        onBufferCodecs(t, data) {
          this.hls.config.capLevelToPlayerSize &&
            data.video &&
            this.startCapping();
        }
        onMediaDetaching() {
          this.stopCapping();
        }
        detectPlayerSize() {
          if (this.media && this.mediaHeight > 0 && this.mediaWidth > 0) {
            const t = this.hls.levels;
            if (t.length) {
              const e = this.hls;
              ((e.autoLevelCapping = this.getMaxLevel(t.length - 1)),
                e.autoLevelCapping > this.autoLevelCapping &&
                  this.streamController &&
                  this.streamController.nextLevelSwitch(),
                (this.autoLevelCapping = e.autoLevelCapping));
            }
          }
        }
        getMaxLevel(t) {
          const e = this.hls.levels;
          if (!e.length) return -1;
          const r = e.filter((e, r) => this.isLevelAllowed(e) && r <= t);
          return (
            (this.clientRect = null),
            ls.getMaxLevelByMediaSize(r, this.mediaWidth, this.mediaHeight)
          );
        }
        startCapping() {
          this.timer ||
            ((this.autoLevelCapping = Number.POSITIVE_INFINITY),
            (this.hls.firstLevel = this.getMaxLevel(this.firstLevel)),
            self.clearInterval(this.timer),
            (this.timer = self.setInterval(
              this.detectPlayerSize.bind(this),
              1e3,
            )),
            this.detectPlayerSize());
        }
        stopCapping() {
          ((this.restrictedLevels = []),
            (this.firstLevel = -1),
            (this.autoLevelCapping = Number.POSITIVE_INFINITY),
            this.timer &&
              (self.clearInterval(this.timer), (this.timer = void 0)));
        }
        getDimensions() {
          if (this.clientRect) return this.clientRect;
          const t = this.media,
            e = { width: 0, height: 0 };
          if (t) {
            const r = t.getBoundingClientRect();
            ((e.width = r.width),
              (e.height = r.height),
              e.width ||
                e.height ||
                ((e.width = r.right - r.left || t.width || 0),
                (e.height = r.bottom - r.top || t.height || 0)));
          }
          return ((this.clientRect = e), e);
        }
        get mediaWidth() {
          return this.getDimensions().width * this.contentScaleFactor;
        }
        get mediaHeight() {
          return this.getDimensions().height * this.contentScaleFactor;
        }
        get contentScaleFactor() {
          let t = 1;
          if (!this.hls.config.ignoreDevicePixelRatio)
            try {
              t = self.devicePixelRatio;
            } catch (t) {}
          return t;
        }
        isLevelAllowed(t) {
          return !this.restrictedLevels.some(
            (e) =>
              t.bitrate === e.bitrate &&
              t.width === e.width &&
              t.height === e.height,
          );
        }
        static getMaxLevelByMediaSize(t, e, r) {
          if (null == t || !t.length) return -1;
          let n = t.length - 1;
          for (let i = 0; i < t.length; i += 1) {
            const c = t[i];
            if (
              (c.width >= e || c.height >= r) &&
              ((o = c),
              !(l = t[i + 1]) || o.width !== l.width || o.height !== l.height)
            ) {
              n = i;
              break;
            }
          }
          var o, l;
          return n;
        }
      }
      const us = "[eme]";
      class cs {
        constructor(t) {
          ((this.hls = void 0),
            (this.config = void 0),
            (this.media = null),
            (this.keyFormatPromise = null),
            (this.keySystemAccessPromises = {}),
            (this._requestLicenseFailureCount = 0),
            (this.mediaKeySessions = []),
            (this.keyIdToKeySessionPromise = {}),
            (this.setMediaKeysQueue = cs.CDMCleanupPromise
              ? [cs.CDMCleanupPromise]
              : []),
            (this.onMediaEncrypted = this._onMediaEncrypted.bind(this)),
            (this.onWaitingForKey = this._onWaitingForKey.bind(this)),
            (this.debug = C.debug.bind(C, us)),
            (this.log = C.log.bind(C, us)),
            (this.warn = C.warn.bind(C, us)),
            (this.error = C.error.bind(C, us)),
            (this.hls = t),
            (this.config = t.config),
            this.registerListeners());
        }
        destroy() {
          (this.unregisterListeners(), this.onMediaDetached());
          const t = this.config;
          ((t.requestMediaKeySystemAccessFunc = null),
            (t.licenseXhrSetup = t.licenseResponseCallback = void 0),
            (t.drmSystems = t.drmSystemOptions = {}),
            (this.hls =
              this.onMediaEncrypted =
              this.onWaitingForKey =
              this.keyIdToKeySessionPromise =
                null),
            (this.config = null));
        }
        registerListeners() {
          (this.hls.on(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            this.hls.on(S.MEDIA_DETACHED, this.onMediaDetached, this),
            this.hls.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
            this.hls.on(S.MANIFEST_LOADED, this.onManifestLoaded, this));
        }
        unregisterListeners() {
          (this.hls.off(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            this.hls.off(S.MEDIA_DETACHED, this.onMediaDetached, this),
            this.hls.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
            this.hls.off(S.MANIFEST_LOADED, this.onManifestLoaded, this));
        }
        getLicenseServerUrl(t) {
          const { drmSystems: e, widevineLicenseUrl: r } = this.config,
            n = e[t];
          if (n) return n.licenseUrl;
          if (t === V.WIDEVINE && r) return r;
          throw new Error(
            `no license server URL configured for key-system "${t}"`,
          );
        }
        getServerCertificateUrl(t) {
          const { drmSystems: e } = this.config,
            r = e[t];
          if (r) return r.serverCertificateUrl;
          this.log(`No Server Certificate in config.drmSystems["${t}"]`);
        }
        attemptKeySystemAccess(t) {
          const e = this.hls.levels,
            r = (t, i, a) => !!t && a.indexOf(t) === i,
            n = e.map((t) => t.audioCodec).filter(r),
            o = e.map((t) => t.videoCodec).filter(r);
          return (
            n.length + o.length === 0 && o.push("avc1.42e01e"),
            new Promise((e, r) => {
              const l = (t) => {
                const c = t.shift();
                this.getMediaKeysPromise(c, n, o)
                  .then((t) => e({ keySystem: c, mediaKeys: t }))
                  .catch((e) => {
                    t.length
                      ? l(t)
                      : r(
                          e instanceof hs
                            ? e
                            : new hs(
                                {
                                  type: _.KEY_SYSTEM_ERROR,
                                  details: w.KEY_SYSTEM_NO_ACCESS,
                                  error: e,
                                  fatal: !0,
                                },
                                e.message,
                              ),
                        );
                  });
              };
              l(t);
            })
          );
        }
        requestMediaKeySystemAccess(t, e) {
          const { requestMediaKeySystemAccessFunc: r } = this.config;
          if ("function" != typeof r) {
            let t = `Configured requestMediaKeySystemAccess is not a function ${r}`;
            return (
              null === et &&
                "http:" === self.location.protocol &&
                (t = `navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),
              Promise.reject(new Error(t))
            );
          }
          return r(t, e);
        }
        getMediaKeysPromise(t, e, r) {
          const n = (function (t, e, r, n) {
              let o;
              switch (t) {
                case V.FAIRPLAY:
                  o = ["cenc", "sinf"];
                  break;
                case V.WIDEVINE:
                case V.PLAYREADY:
                  o = ["cenc"];
                  break;
                case V.CLEARKEY:
                  o = ["cenc", "keyids"];
                  break;
                default:
                  throw new Error(`Unknown key-system: ${t}`);
              }
              return (function (t, e, r, n) {
                return [
                  {
                    initDataTypes: t,
                    persistentState: n.persistentState || "not-allowed",
                    distinctiveIdentifier:
                      n.distinctiveIdentifier || "not-allowed",
                    sessionTypes: n.sessionTypes || [
                      n.sessionType || "temporary",
                    ],
                    audioCapabilities: e.map((t) => ({
                      contentType: `audio/mp4; codecs="${t}"`,
                      robustness: n.audioRobustness || "",
                      encryptionScheme: n.audioEncryptionScheme || null,
                    })),
                    videoCapabilities: r.map((t) => ({
                      contentType: `video/mp4; codecs="${t}"`,
                      robustness: n.videoRobustness || "",
                      encryptionScheme: n.videoEncryptionScheme || null,
                    })),
                  },
                ];
              })(o, e, r, n);
            })(t, e, r, this.config.drmSystemOptions),
            o = this.keySystemAccessPromises[t];
          let l = null == o ? void 0 : o.keySystemAccess;
          if (!l) {
            (this.log(
              `Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(n)}`,
            ),
              (l = this.requestMediaKeySystemAccess(t, n)));
            const e = (this.keySystemAccessPromises[t] = {
              keySystemAccess: l,
            });
            return (
              l.catch((e) => {
                this.log(`Failed to obtain access to key-system "${t}": ${e}`);
              }),
              l.then((r) => {
                this.log(`Access for key-system "${r.keySystem}" obtained`);
                const n = this.fetchServerCertificate(t);
                return (
                  this.log(`Create media-keys for "${t}"`),
                  (e.mediaKeys = r
                    .createMediaKeys()
                    .then(
                      (e) => (
                        this.log(`Media-keys created for "${t}"`),
                        n.then((r) =>
                          r ? this.setMediaKeysServerCertificate(e, t, r) : e,
                        )
                      ),
                    )),
                  e.mediaKeys.catch((e) => {
                    this.error(`Failed to create media-keys for "${t}"}: ${e}`);
                  }),
                  e.mediaKeys
                );
              })
            );
          }
          return l.then(() => o.mediaKeys);
        }
        createMediaKeySessionContext({
          decryptdata: t,
          keySystem: e,
          mediaKeys: r,
        }) {
          this.log(
            `Creating key-system session "${e}" keyId: ${Dt.hexDump(t.keyId || [])}`,
          );
          const n = r.createSession(),
            o = {
              decryptdata: t,
              keySystem: e,
              mediaKeys: r,
              mediaKeysSession: n,
              keyStatus: "status-pending",
            };
          return (this.mediaKeySessions.push(o), o);
        }
        renewKeySession(t) {
          const e = t.decryptdata;
          if (e.pssh) {
            const r = this.createMediaKeySessionContext(t),
              n = this.getKeyIdString(e),
              o = "cenc";
            this.keyIdToKeySessionPromise[n] =
              this.generateRequestWithPreferredKeySession(
                r,
                o,
                e.pssh,
                "expired",
              );
          } else
            this.warn(
              "Could not renew expired session. Missing pssh initData.",
            );
          this.removeSession(t);
        }
        getKeyIdString(t) {
          if (!t)
            throw new Error("Could not read keyId of undefined decryptdata");
          if (null === t.keyId) throw new Error("keyId is null");
          return Dt.hexDump(t.keyId);
        }
        updateKeySession(t, data) {
          var e;
          const r = t.mediaKeysSession;
          return (
            this.log(
              `Updating key-session "${r.sessionId}" for keyID ${Dt.hexDump((null == (e = t.decryptdata) ? void 0 : e.keyId) || [])}\n      } (data length: ${data ? data.byteLength : data})`,
            ),
            r.update(data)
          );
        }
        selectKeySystemFormat(t) {
          const e = Object.keys(t.levelkeys || {});
          return (
            this.keyFormatPromise ||
              (this.log(
                `Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`,
              ),
              (this.keyFormatPromise = this.getKeyFormatPromise(e))),
            this.keyFormatPromise
          );
        }
        getKeyFormatPromise(t) {
          return new Promise((e, r) => {
            const n = tt(this.config),
              o = t.map(Q).filter((t) => !!t && -1 !== n.indexOf(t));
            return this.getKeySystemSelectionPromise(o)
              .then(({ keySystem: t }) => {
                const n = Z(t);
                n
                  ? e(n)
                  : r(new Error(`Unable to find format for key-system "${t}"`));
              })
              .catch(r);
          });
        }
        loadKey(data) {
          const t = data.keyInfo.decryptdata,
            e = this.getKeyIdString(t),
            r = `(keyId: ${e} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;
          this.log(`Starting session for key ${r}`);
          let n = this.keyIdToKeySessionPromise[e];
          return (
            n ||
              ((n = this.keyIdToKeySessionPromise[e] =
                this.getKeySystemForKeyPromise(t).then(
                  ({ keySystem: e, mediaKeys: n }) => (
                    this.throwIfDestroyed(),
                    this.log(
                      `Handle encrypted media sn: ${data.frag.sn} ${data.frag.type}: ${data.frag.level} using key ${r}`,
                    ),
                    this.attemptSetMediaKeys(e, n).then(() => {
                      this.throwIfDestroyed();
                      const r = this.createMediaKeySessionContext({
                        keySystem: e,
                        mediaKeys: n,
                        decryptdata: t,
                      });
                      return this.generateRequestWithPreferredKeySession(
                        r,
                        "cenc",
                        t.pssh,
                        "playlist-key",
                      );
                    })
                  ),
                )),
              n.catch((t) => this.handleError(t))),
            n
          );
        }
        throwIfDestroyed(t = "Invalid state") {
          if (!this.hls) throw new Error("invalid state");
        }
        handleError(t) {
          this.hls &&
            (this.error(t.message),
            t instanceof hs
              ? this.hls.trigger(S.ERROR, t.data)
              : this.hls.trigger(S.ERROR, {
                  type: _.KEY_SYSTEM_ERROR,
                  details: w.KEY_SYSTEM_NO_KEYS,
                  error: t,
                  fatal: !0,
                }));
        }
        getKeySystemForKeyPromise(t) {
          const e = this.getKeyIdString(t),
            r = this.keyIdToKeySessionPromise[e];
          if (!r) {
            const e = Q(t.keyFormat),
              r = e ? [e] : tt(this.config);
            return this.attemptKeySystemAccess(r);
          }
          return r;
        }
        getKeySystemSelectionPromise(t) {
          if ((t.length || (t = tt(this.config)), 0 === t.length))
            throw new hs(
              {
                type: _.KEY_SYSTEM_ERROR,
                details: w.KEY_SYSTEM_NO_CONFIGURED_LICENSE,
                fatal: !0,
              },
              `Missing key-system license configuration options ${JSON.stringify({ drmSystems: this.config.drmSystems })}`,
            );
          return this.attemptKeySystemAccess(t);
        }
        _onMediaEncrypted(t) {
          const { initDataType: e, initData: r } = t;
          if (
            (this.debug(`"${t.type}" event: init data type: "${e}"`),
            null === r)
          )
            return;
          let n, o;
          if ("sinf" === e && this.config.drmSystems[V.FAIRPLAY]) {
            const t = wt(new Uint8Array(r));
            try {
              const e = G(JSON.parse(t).sinf),
                r = It(new Uint8Array(e));
              if (!r) return;
              ((n = r.subarray(8, 24)), (o = V.FAIRPLAY));
            } catch (t) {
              return void this.warn(
                'Failed to parse sinf "encrypted" event message initData',
              );
            }
          } else {
            const t = (function (t) {
              if (!(t instanceof ArrayBuffer) || t.byteLength < 32) return null;
              const e = { version: 0, systemId: "", kids: null, data: null },
                view = new DataView(t),
                r = view.getUint32(0);
              if (t.byteLength !== r && r > 44) return null;
              if (1886614376 !== view.getUint32(4)) return null;
              if (((e.version = view.getUint32(8) >>> 24), e.version > 1))
                return null;
              e.systemId = Dt.hexDump(new Uint8Array(t, 12, 16));
              const n = view.getUint32(28);
              if (0 === e.version) {
                if (r - 32 < n) return null;
                e.data = new Uint8Array(t, 32, n);
              } else if (1 === e.version) {
                e.kids = [];
                for (let i = 0; i < n; i++)
                  e.kids.push(new Uint8Array(t, 32 + 16 * i, 16));
              }
              return e;
            })(r);
            if (null === t) return;
            (0 === t.version &&
              t.systemId === J &&
              t.data &&
              (n = t.data.subarray(8, 24)),
              (o = (function (t) {
                if (t === J) return V.WIDEVINE;
              })(t.systemId)));
          }
          if (!o || !n) return;
          const l = Dt.hexDump(n),
            { keyIdToKeySessionPromise: c, mediaKeySessions: h } = this;
          let d = c[l];
          for (let i = 0; i < h.length; i++) {
            const t = h[i],
              o = t.decryptdata;
            if (o.pssh || !o.keyId) continue;
            const f = Dt.hexDump(o.keyId);
            if (l === f || -1 !== o.uri.replace(/-/g, "").indexOf(l)) {
              ((d = c[f]),
                delete c[f],
                (o.pssh = new Uint8Array(r)),
                (o.keyId = n),
                (d = c[l] =
                  d.then(() =>
                    this.generateRequestWithPreferredKeySession(
                      t,
                      e,
                      r,
                      "encrypted-event-key-match",
                    ),
                  )));
              break;
            }
          }
          (d ||
            (d = c[l] =
              this.getKeySystemSelectionPromise([o]).then(
                ({ keySystem: t, mediaKeys: o }) => {
                  var c;
                  this.throwIfDestroyed();
                  const h = new Gt(
                    "ISO-23001-7",
                    l,
                    null != (c = Z(t)) ? c : "",
                  );
                  return (
                    (h.pssh = new Uint8Array(r)),
                    (h.keyId = n),
                    this.attemptSetMediaKeys(t, o).then(() => {
                      this.throwIfDestroyed();
                      const n = this.createMediaKeySessionContext({
                        decryptdata: h,
                        keySystem: t,
                        mediaKeys: o,
                      });
                      return this.generateRequestWithPreferredKeySession(
                        n,
                        e,
                        r,
                        "encrypted-event-no-match",
                      );
                    })
                  );
                },
              )),
            d.catch((t) => this.handleError(t)));
        }
        _onWaitingForKey(t) {
          this.log(`"${t.type}" event`);
        }
        attemptSetMediaKeys(t, e) {
          const r = this.setMediaKeysQueue.slice();
          this.log(`Setting media-keys for "${t}"`);
          const n = Promise.all(r).then(() => {
            if (!this.media)
              throw new Error(
                "Attempted to set mediaKeys without media element attached",
              );
            return this.media.setMediaKeys(e);
          });
          return (
            this.setMediaKeysQueue.push(n),
            n.then(() => {
              (this.log(`Media-keys set for "${t}"`),
                r.push(n),
                (this.setMediaKeysQueue = this.setMediaKeysQueue.filter(
                  (p) => -1 === r.indexOf(p),
                )));
            })
          );
        }
        generateRequestWithPreferredKeySession(t, e, r, n) {
          var o, l;
          const c =
            null == (o = this.config.drmSystems) || null == (l = o[t.keySystem])
              ? void 0
              : l.generateRequest;
          if (c)
            try {
              const n = c.call(this.hls, e, r, t);
              if (!n)
                throw new Error(
                  "Invalid response from configured generateRequest filter",
                );
              ((e = n.initDataType),
                (r = t.decryptdata.pssh =
                  n.initData ? new Uint8Array(n.initData) : null));
            } catch (t) {
              var h;
              if (
                (this.warn(t.message), null != (h = this.hls) && h.config.debug)
              )
                throw t;
            }
          if (null === r)
            return (
              this.log(`Skipping key-session request for "${n}" (no initData)`),
              Promise.resolve(t)
            );
          const d = this.getKeyIdString(t.decryptdata);
          this.log(
            `Generating key-session request for "${n}": ${d} (init data type: ${e} length: ${r ? r.byteLength : null})`,
          );
          const f = new Zn();
          ((t.mediaKeysSession.onmessage = (e) => {
            const r = t.mediaKeysSession;
            if (!r) return void f.emit("error", new Error("invalid state"));
            const { messageType: n, message: o } = e;
            (this.log(
              `"${n}" message event for session "${r.sessionId}" message size: ${o.byteLength}`,
            ),
              "license-request" === n || "license-renewal" === n
                ? this.renewLicense(t, o).catch((t) => {
                    (this.handleError(t), f.emit("error", t));
                  })
                : "license-release" === n
                  ? t.keySystem === V.FAIRPLAY &&
                    (this.updateKeySession(t, H("acknowledged")),
                    this.removeSession(t))
                  : this.warn(`unhandled media key message type "${n}"`));
          }),
            (t.mediaKeysSession.onkeystatuseschange = (e) => {
              if (!t.mediaKeysSession)
                return void f.emit("error", new Error("invalid state"));
              this.onKeyStatusChange(t);
              const r = t.keyStatus;
              (f.emit("keyStatus", r),
                "expired" === r &&
                  (this.warn(`${t.keySystem} expired for key ${d}`),
                  this.renewKeySession(t)));
            }));
          const m = new Promise((t, e) => {
            (f.on("error", e),
              f.on("keyStatus", (r) => {
                r.startsWith("usable")
                  ? t()
                  : "output-restricted" === r
                    ? e(
                        new hs(
                          {
                            type: _.KEY_SYSTEM_ERROR,
                            details: w.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,
                            fatal: !1,
                          },
                          "HDCP level output restricted",
                        ),
                      )
                    : "internal-error" === r
                      ? e(
                          new hs(
                            {
                              type: _.KEY_SYSTEM_ERROR,
                              details: w.KEY_SYSTEM_STATUS_INTERNAL_ERROR,
                              fatal: !0,
                            },
                            `key status changed to "${r}"`,
                          ),
                        )
                      : "expired" === r
                        ? e(new Error("key expired while generating request"))
                        : this.warn(`unhandled key status change "${r}"`);
              }));
          });
          return t.mediaKeysSession
            .generateRequest(e, r)
            .then(() => {
              var e;
              this.log(
                `Request generated for key-session "${null == (e = t.mediaKeysSession) ? void 0 : e.sessionId}" keyId: ${d}`,
              );
            })
            .catch((t) => {
              throw new hs(
                {
                  type: _.KEY_SYSTEM_ERROR,
                  details: w.KEY_SYSTEM_NO_SESSION,
                  error: t,
                  fatal: !1,
                },
                `Error generating key-session request: ${t}`,
              );
            })
            .then(() => m)
            .catch((e) => {
              throw (f.removeAllListeners(), this.removeSession(t), e);
            })
            .then(() => (f.removeAllListeners(), t));
        }
        onKeyStatusChange(t) {
          t.mediaKeysSession.keyStatuses.forEach((e, r) => {
            (this.log(
              `key status change "${e}" for keyStatuses keyId: ${Dt.hexDump("buffer" in r ? new Uint8Array(r.buffer, r.byteOffset, r.byteLength) : new Uint8Array(r))} session keyId: ${Dt.hexDump(new Uint8Array(t.decryptdata.keyId || []))} uri: ${t.decryptdata.uri}`,
            ),
              (t.keyStatus = e));
          });
        }
        fetchServerCertificate(t) {
          const e = this.config,
            r = new (0, e.loader)(e),
            n = this.getServerCertificateUrl(t);
          return n
            ? (this.log(`Fetching serverCertificate for "${t}"`),
              new Promise((o, l) => {
                const c = { responseType: "arraybuffer", url: n },
                  h = e.certLoadPolicy.default,
                  d = {
                    loadPolicy: h,
                    timeout: h.maxLoadTimeMs,
                    maxRetry: 0,
                    retryDelay: 0,
                    maxRetryDelay: 0,
                  },
                  f = {
                    onSuccess: (t, e, r, n) => {
                      o(t.data);
                    },
                    onError: (e, r, o, h) => {
                      l(
                        new hs(
                          {
                            type: _.KEY_SYSTEM_ERROR,
                            details:
                              w.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,
                            fatal: !0,
                            networkDetails: o,
                            response: v({ url: c.url, data: void 0 }, e),
                          },
                          `"${t}" certificate request failed (${n}). Status: ${e.code} (${e.text})`,
                        ),
                      );
                    },
                    onTimeout: (e, r, o) => {
                      l(
                        new hs(
                          {
                            type: _.KEY_SYSTEM_ERROR,
                            details:
                              w.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,
                            fatal: !0,
                            networkDetails: o,
                            response: { url: c.url, data: void 0 },
                          },
                          `"${t}" certificate request timed out (${n})`,
                        ),
                      );
                    },
                    onAbort: (t, e, r) => {
                      l(new Error("aborted"));
                    },
                  };
                r.load(c, d, f);
              }))
            : Promise.resolve();
        }
        setMediaKeysServerCertificate(t, e, r) {
          return new Promise((n, o) => {
            t.setServerCertificate(r)
              .then((o) => {
                (this.log(
                  `setServerCertificate ${o ? "success" : "not supported by CDM"} (${null == r ? void 0 : r.byteLength}) on "${e}"`,
                ),
                  n(t));
              })
              .catch((t) => {
                o(
                  new hs(
                    {
                      type: _.KEY_SYSTEM_ERROR,
                      details: w.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,
                      error: t,
                      fatal: !0,
                    },
                    t.message,
                  ),
                );
              });
          });
        }
        renewLicense(t, e) {
          return this.requestLicense(t, new Uint8Array(e)).then((data) =>
            this.updateKeySession(t, new Uint8Array(data)).catch((t) => {
              throw new hs(
                {
                  type: _.KEY_SYSTEM_ERROR,
                  details: w.KEY_SYSTEM_SESSION_UPDATE_FAILED,
                  error: t,
                  fatal: !0,
                },
                t.message,
              );
            }),
          );
        }
        setupLicenseXHR(t, e, r, n) {
          const o = this.config.licenseXhrSetup;
          return o
            ? Promise.resolve()
                .then(() => {
                  if (!r.decryptdata) throw new Error("Key removed");
                  return o.call(this.hls, t, e, r, n);
                })
                .catch((l) => {
                  if (!r.decryptdata) throw l;
                  return (t.open("POST", e, !0), o.call(this.hls, t, e, r, n));
                })
                .then((r) => {
                  t.readyState || t.open("POST", e, !0);
                  return { xhr: t, licenseChallenge: r || n };
                })
            : (t.open("POST", e, !0),
              Promise.resolve({ xhr: t, licenseChallenge: n }));
        }
        requestLicense(t, e) {
          const r = this.config.keyLoadPolicy.default;
          return new Promise((n, o) => {
            const l = this.getLicenseServerUrl(t.keySystem);
            this.log(`Sending license request to URL: ${l}`);
            const c = new XMLHttpRequest();
            ((c.responseType = "arraybuffer"),
              (c.onreadystatechange = () => {
                if (!this.hls || !t.mediaKeysSession)
                  return o(new Error("invalid state"));
                if (4 === c.readyState)
                  if (200 === c.status) {
                    this._requestLicenseFailureCount = 0;
                    let data = c.response;
                    this.log(
                      `License received ${data instanceof ArrayBuffer ? data.byteLength : data}`,
                    );
                    const e = this.config.licenseResponseCallback;
                    if (e)
                      try {
                        data = e.call(this.hls, c, l, t);
                      } catch (t) {
                        this.error(t);
                      }
                    n(data);
                  } else {
                    const h = r.errorRetry,
                      d = h ? h.maxNumRetry : 0;
                    if (
                      (this._requestLicenseFailureCount++,
                      this._requestLicenseFailureCount > d ||
                        (c.status >= 400 && c.status < 500))
                    )
                      o(
                        new hs(
                          {
                            type: _.KEY_SYSTEM_ERROR,
                            details: w.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                            fatal: !0,
                            networkDetails: c,
                            response: {
                              url: l,
                              data: void 0,
                              code: c.status,
                              text: c.statusText,
                            },
                          },
                          `License Request XHR failed (${l}). Status: ${c.status} (${c.statusText})`,
                        ),
                      );
                    else {
                      const r = d - this._requestLicenseFailureCount + 1;
                      (this.warn(
                        `Retrying license request, ${r} attempts left`,
                      ),
                        this.requestLicense(t, e).then(n, o));
                    }
                  }
              }),
              t.licenseXhr &&
                t.licenseXhr.readyState !== XMLHttpRequest.DONE &&
                t.licenseXhr.abort(),
              (t.licenseXhr = c),
              this.setupLicenseXHR(c, l, t, e).then(
                ({ xhr: t, licenseChallenge: e }) => {
                  t.send(e);
                },
              ));
          });
        }
        onMediaAttached(t, data) {
          if (!this.config.emeEnabled) return;
          const e = data.media;
          ((this.media = e),
            e.addEventListener("encrypted", this.onMediaEncrypted),
            e.addEventListener("waitingforkey", this.onWaitingForKey));
        }
        onMediaDetached() {
          const t = this.media,
            e = this.mediaKeySessions;
          (t &&
            (t.removeEventListener("encrypted", this.onMediaEncrypted),
            t.removeEventListener("waitingforkey", this.onWaitingForKey),
            (this.media = null)),
            (this._requestLicenseFailureCount = 0),
            (this.setMediaKeysQueue = []),
            (this.mediaKeySessions = []),
            (this.keyIdToKeySessionPromise = {}),
            Gt.clearKeyUriToKeyIdMap());
          const r = e.length;
          cs.CDMCleanupPromise = Promise.all(
            e
              .map((t) => this.removeSession(t))
              .concat(
                null == t
                  ? void 0
                  : t.setMediaKeys(null).catch((e) => {
                      this.log(
                        `Could not clear media keys: ${e}. media.src: ${null == t ? void 0 : t.src}`,
                      );
                    }),
              ),
          )
            .then(() => {
              r &&
                (this.log(
                  "finished closing key sessions and clearing media keys",
                ),
                (e.length = 0));
            })
            .catch((e) => {
              this.log(
                `Could not close sessions and clear media keys: ${e}. media.src: ${null == t ? void 0 : t.src}`,
              );
            });
        }
        onManifestLoading() {
          this.keyFormatPromise = null;
        }
        onManifestLoaded(t, { sessionKeys: e }) {
          if (e && this.config.emeEnabled && !this.keyFormatPromise) {
            const t = e.reduce(
              (t, e) => (
                -1 === t.indexOf(e.keyFormat) && t.push(e.keyFormat),
                t
              ),
              [],
            );
            (this.log(`Selecting key-system from session-keys ${t.join(", ")}`),
              (this.keyFormatPromise = this.getKeyFormatPromise(t)));
          }
        }
        removeSession(t) {
          const { mediaKeysSession: e, licenseXhr: r } = t;
          if (e) {
            (this.log(
              `Remove licenses and keys and close session ${e.sessionId}`,
            ),
              (e.onmessage = null),
              (e.onkeystatuseschange = null),
              r && r.readyState !== XMLHttpRequest.DONE && r.abort(),
              (t.mediaKeysSession = t.decryptdata = t.licenseXhr = void 0));
            const n = this.mediaKeySessions.indexOf(t);
            return (
              n > -1 && this.mediaKeySessions.splice(n, 1),
              e
                .remove()
                .catch((t) => {
                  this.log(`Could not remove session: ${t}`);
                })
                .then(() => e.close())
                .catch((t) => {
                  this.log(`Could not close session: ${t}`);
                })
            );
          }
        }
      }
      cs.CDMCleanupPromise = void 0;
      class hs extends Error {
        constructor(data, t) {
          (super(t),
            (this.data = void 0),
            data.error || (data.error = new Error(t)),
            (this.data = data),
            (data.err = data.error));
        }
      }
      var ds = "m",
        fs = "a",
        ps = "v",
        gs = "av",
        ms = "i",
        ys = "tt";
      class vs {
        constructor(t) {
          ((this.hls = void 0),
            (this.config = void 0),
            (this.media = void 0),
            (this.sid = void 0),
            (this.cid = void 0),
            (this.useHeaders = !1),
            (this.initialized = !1),
            (this.starved = !1),
            (this.buffering = !0),
            (this.audioBuffer = void 0),
            (this.videoBuffer = void 0),
            (this.onWaiting = () => {
              (this.initialized && (this.starved = !0), (this.buffering = !0));
            }),
            (this.onPlaying = () => {
              (this.initialized || (this.initialized = !0),
                (this.buffering = !1));
            }),
            (this.applyPlaylistData = (t) => {
              try {
                this.apply(t, { ot: ds, su: !this.initialized });
              } catch (t) {
                C.warn("Could not generate manifest CMCD data.", t);
              }
            }),
            (this.applyFragmentData = (t) => {
              try {
                const e = t.frag,
                  r = this.hls.levels[e.level],
                  n = this.getObjectType(e),
                  data = { d: 1e3 * e.duration, ot: n };
                ((n !== ps && n !== fs && n != gs) ||
                  ((data.br = r.bitrate / 1e3),
                  (data.tb = this.getTopBandwidth(n) / 1e3),
                  (data.bl = this.getBufferLength(n))),
                  this.apply(t, data));
              } catch (t) {
                C.warn("Could not generate segment CMCD data.", t);
              }
            }),
            (this.hls = t));
          const e = (this.config = t.config),
            { cmcd: r } = e;
          null != r &&
            ((e.pLoader = this.createPlaylistLoader()),
            (e.fLoader = this.createFragmentLoader()),
            (this.sid = r.sessionId || vs.uuid()),
            (this.cid = r.contentId),
            (this.useHeaders = !0 === r.useHeaders),
            this.registerListeners());
        }
        registerListeners() {
          const t = this.hls;
          (t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            t.on(S.MEDIA_DETACHED, this.onMediaDetached, this),
            t.on(S.BUFFER_CREATED, this.onBufferCreated, this));
        }
        unregisterListeners() {
          const t = this.hls;
          (t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this),
            t.off(S.MEDIA_DETACHED, this.onMediaDetached, this),
            t.off(S.BUFFER_CREATED, this.onBufferCreated, this));
        }
        destroy() {
          (this.unregisterListeners(),
            this.onMediaDetached(),
            (this.hls =
              this.config =
              this.audioBuffer =
              this.videoBuffer =
                null));
        }
        onMediaAttached(t, data) {
          ((this.media = data.media),
            this.media.addEventListener("waiting", this.onWaiting),
            this.media.addEventListener("playing", this.onPlaying));
        }
        onMediaDetached() {
          this.media &&
            (this.media.removeEventListener("waiting", this.onWaiting),
            this.media.removeEventListener("playing", this.onPlaying),
            (this.media = null));
        }
        onBufferCreated(t, data) {
          var e, r;
          ((this.audioBuffer =
            null == (e = data.tracks.audio) ? void 0 : e.buffer),
            (this.videoBuffer =
              null == (r = data.tracks.video) ? void 0 : r.buffer));
        }
        createData() {
          var t;
          return {
            v: 1,
            sf: "h",
            sid: this.sid,
            cid: this.cid,
            pr: null == (t = this.media) ? void 0 : t.playbackRate,
            mtp: this.hls.bandwidthEstimate / 1e3,
          };
        }
        apply(t, data = {}) {
          D(data, this.createData());
          const e = data.ot === ms || data.ot === ps || data.ot === gs;
          if (
            (this.starved &&
              e &&
              ((data.bs = !0), (data.su = !0), (this.starved = !1)),
            null == data.su && (data.su = this.buffering),
            this.useHeaders)
          ) {
            const e = vs.toHeaders(data);
            if (!Object.keys(e).length) return;
            (t.headers || (t.headers = {}), D(t.headers, e));
          } else {
            const e = vs.toQuery(data);
            if (!e) return;
            t.url = vs.appendQueryToUri(t.url, e);
          }
        }
        getObjectType(t) {
          const { type: e } = t;
          return "subtitle" === e
            ? ys
            : "initSegment" === t.sn
              ? ms
              : "audio" === e
                ? fs
                : "main" === e
                  ? this.hls.audioTracks.length
                    ? ps
                    : gs
                  : void 0;
        }
        getTopBandwidth(t) {
          let e,
            r = 0;
          const n = this.hls;
          if (t === fs) e = n.audioTracks;
          else {
            const t = n.maxAutoLevel,
              r = t > -1 ? t + 1 : n.levels.length;
            e = n.levels.slice(0, r);
          }
          for (const t of e) t.bitrate > r && (r = t.bitrate);
          return r > 0 ? r : NaN;
        }
        getBufferLength(t) {
          const e = this.hls.media,
            r = t === fs ? this.audioBuffer : this.videoBuffer;
          if (!r || !e) return NaN;
          return (
            1e3 * wr.bufferInfo(r, e.currentTime, this.config.maxBufferHole).len
          );
        }
        createPlaylistLoader() {
          const { pLoader: t } = this.config,
            e = this.applyPlaylistData,
            r = t || this.config.loader;
          return class {
            constructor(t) {
              ((this.loader = void 0), (this.loader = new r(t)));
            }
            get stats() {
              return this.loader.stats;
            }
            get context() {
              return this.loader.context;
            }
            destroy() {
              this.loader.destroy();
            }
            abort() {
              this.loader.abort();
            }
            load(t, r, n) {
              (e(t), this.loader.load(t, r, n));
            }
          };
        }
        createFragmentLoader() {
          const { fLoader: t } = this.config,
            e = this.applyFragmentData,
            r = t || this.config.loader;
          return class {
            constructor(t) {
              ((this.loader = void 0), (this.loader = new r(t)));
            }
            get stats() {
              return this.loader.stats;
            }
            get context() {
              return this.loader.context;
            }
            destroy() {
              this.loader.destroy();
            }
            abort() {
              this.loader.abort();
            }
            load(t, r, n) {
              (e(t), this.loader.load(t, r, n));
            }
          };
        }
        static uuid() {
          const t = URL.createObjectURL(new Blob()),
            e = t.toString();
          return (URL.revokeObjectURL(t), e.slice(e.lastIndexOf("/") + 1));
        }
        static serialize(data) {
          const t = [],
            e = (t) => !Number.isNaN(t) && null != t && "" !== t && !1 !== t,
            r = (t) => Math.round(t),
            n = (t) => 100 * r(t / 100),
            o = {
              br: r,
              d: r,
              bl: n,
              dl: n,
              mtp: n,
              nor: (t) => encodeURIComponent(t),
              rtp: n,
              tb: r,
            },
            l = Object.keys(data || {}).sort();
          for (const r of l) {
            let n = data[r];
            if (!e(n)) continue;
            if ("v" === r && 1 === n) continue;
            if ("pr" == r && 1 === n) continue;
            const l = o[r];
            l && (n = l(n));
            const c = typeof n;
            let h;
            ((h =
              "ot" === r || "sf" === r || "st" === r
                ? `${r}=${n}`
                : "boolean" === c
                  ? r
                  : "number" === c
                    ? `${r}=${n}`
                    : `${r}=${JSON.stringify(n)}`),
              t.push(h));
          }
          return t.join(",");
        }
        static toHeaders(data) {
          const t = Object.keys(data),
            e = {},
            r = ["Object", "Request", "Session", "Status"],
            n = [{}, {}, {}, {}],
            o = {
              br: 0,
              d: 0,
              ot: 0,
              tb: 0,
              bl: 1,
              dl: 1,
              mtp: 1,
              nor: 1,
              nrr: 1,
              su: 1,
              cid: 2,
              pr: 2,
              sf: 2,
              sid: 2,
              st: 2,
              v: 2,
              bs: 3,
              rtp: 3,
            };
          for (const e of t) {
            n[null != o[e] ? o[e] : 1][e] = data[e];
          }
          for (let i = 0; i < n.length; i++) {
            const t = vs.serialize(n[i]);
            t && (e[`CMCD-${r[i]}`] = t);
          }
          return e;
        }
        static toQuery(data) {
          return `CMCD=${encodeURIComponent(vs.serialize(data))}`;
        }
        static appendQueryToUri(t, e) {
          if (!e) return t;
          const r = t.includes("?") ? "&" : "?";
          return `${t}${r}${e}`;
        }
      }
      function bs(t, e, r, n) {
        t &&
          Object.keys(e).forEach((o) => {
            const l = t
              .filter((track) => track.groupId === o)
              .map((track) => {
                const t = D({}, track);
                return (
                  (t.details = void 0),
                  (t.attrs = new I(t.attrs)),
                  (t.url = t.attrs.URI =
                    Es(
                      track.url,
                      track.attrs["STABLE-RENDITION-ID"],
                      "PER-RENDITION-URIS",
                      r,
                    )),
                  (t.groupId = t.attrs["GROUP-ID"] = e[o]),
                  (t.attrs["PATHWAY-ID"] = n),
                  t
                );
              });
            t.push(...l);
          });
      }
      function Es(t, e, r, n) {
        const { HOST: o, PARAMS: l, [r]: c } = n;
        let h;
        e && ((h = null == c ? void 0 : c[e]), h && (t = h));
        const d = new self.URL(t);
        return (
          o && !h && (d.host = o),
          l &&
            Object.keys(l)
              .sort()
              .forEach((t) => {
                t && d.searchParams.set(t, l[t]);
              }),
          d.href
        );
      }
      const Ds = /^age:\s*[\d.]+\s*$/im;
      class Ts {
        constructor(t) {
          ((this.xhrSetup = void 0),
            (this.requestTimeout = void 0),
            (this.retryTimeout = void 0),
            (this.retryDelay = void 0),
            (this.config = null),
            (this.callbacks = null),
            (this.context = void 0),
            (this.loader = null),
            (this.stats = void 0),
            (this.xhrSetup = (t && t.xhrSetup) || null),
            (this.stats = new M()),
            (this.retryDelay = 0));
        }
        destroy() {
          ((this.callbacks = null),
            this.abortInternal(),
            (this.loader = null),
            (this.config = null));
        }
        abortInternal() {
          const t = this.loader;
          (self.clearTimeout(this.requestTimeout),
            self.clearTimeout(this.retryTimeout),
            t &&
              ((t.onreadystatechange = null),
              (t.onprogress = null),
              4 !== t.readyState && ((this.stats.aborted = !0), t.abort())));
        }
        abort() {
          var t;
          (this.abortInternal(),
            null != (t = this.callbacks) &&
              t.onAbort &&
              this.callbacks.onAbort(this.stats, this.context, this.loader));
        }
        load(t, e, r) {
          if (this.stats.loading.start)
            throw new Error("Loader can only be used once.");
          ((this.stats.loading.start = self.performance.now()),
            (this.context = t),
            (this.config = e),
            (this.callbacks = r),
            this.loadInternal());
        }
        loadInternal() {
          const { config: t, context: e } = this;
          if (!t) return;
          const r = (this.loader = new self.XMLHttpRequest()),
            n = this.stats;
          ((n.loading.first = 0), (n.loaded = 0), (n.aborted = !1));
          const o = this.xhrSetup;
          o
            ? Promise.resolve()
                .then(() => {
                  if (!this.stats.aborted) return o(r, e.url);
                })
                .catch((t) => (r.open("GET", e.url, !0), o(r, e.url)))
                .then(() => {
                  this.stats.aborted || this.openAndSendXhr(r, e, t);
                })
                .catch((t) => {
                  this.callbacks.onError(
                    { code: r.status, text: t.message },
                    e,
                    r,
                    n,
                  );
                })
            : this.openAndSendXhr(r, e, t);
        }
        openAndSendXhr(t, e, r) {
          t.readyState || t.open("GET", e.url, !0);
          const n = this.context.headers,
            { maxTimeToFirstByteMs: o, maxLoadTimeMs: l } = r.loadPolicy;
          if (n) for (const header in n) t.setRequestHeader(header, n[header]);
          (e.rangeEnd &&
            t.setRequestHeader(
              "Range",
              "bytes=" + e.rangeStart + "-" + (e.rangeEnd - 1),
            ),
            (t.onreadystatechange = this.readystatechange.bind(this)),
            (t.onprogress = this.loadprogress.bind(this)),
            (t.responseType = e.responseType),
            self.clearTimeout(this.requestTimeout),
            (r.timeout = o && T(o) ? o : l),
            (this.requestTimeout = self.setTimeout(
              this.loadtimeout.bind(this),
              r.timeout,
            )),
            t.send());
        }
        readystatechange() {
          const { context: t, loader: e, stats: r } = this;
          if (!t || !e) return;
          const n = e.readyState,
            o = this.config;
          if (
            !r.aborted &&
            n >= 2 &&
            (0 === r.loading.first &&
              ((r.loading.first = Math.max(
                self.performance.now(),
                r.loading.start,
              )),
              o.timeout !== o.loadPolicy.maxLoadTimeMs &&
                (self.clearTimeout(this.requestTimeout),
                (o.timeout = o.loadPolicy.maxLoadTimeMs),
                (this.requestTimeout = self.setTimeout(
                  this.loadtimeout.bind(this),
                  o.loadPolicy.maxLoadTimeMs -
                    (r.loading.first - r.loading.start),
                )))),
            4 === n)
          ) {
            (self.clearTimeout(this.requestTimeout),
              (e.onreadystatechange = null),
              (e.onprogress = null));
            const n = e.status,
              l = "text" !== e.responseType;
            if (
              n >= 200 &&
              n < 300 &&
              ((l && e.response) || null !== e.responseText)
            ) {
              r.loading.end = Math.max(self.performance.now(), r.loading.first);
              const data = l ? e.response : e.responseText,
                o =
                  "arraybuffer" === e.responseType
                    ? data.byteLength
                    : data.length;
              if (
                ((r.loaded = r.total = o),
                (r.bwEstimate =
                  (8e3 * r.total) / (r.loading.end - r.loading.first)),
                !this.callbacks)
              )
                return;
              const c = this.callbacks.onProgress;
              if ((c && c(r, t, data, e), !this.callbacks)) return;
              const h = { url: e.responseURL, data: data, code: n };
              this.callbacks.onSuccess(h, r, t, e);
            } else {
              const l = o.loadPolicy.errorRetry;
              He(l, r.retry, !1, n)
                ? this.retry(l)
                : (C.error(`${n} while loading ${t.url}`),
                  this.callbacks.onError(
                    { code: n, text: e.statusText },
                    t,
                    e,
                    r,
                  ));
            }
          }
        }
        loadtimeout() {
          var t;
          const e =
            null == (t = this.config) ? void 0 : t.loadPolicy.timeoutRetry;
          if (He(e, this.stats.retry, !0)) this.retry(e);
          else {
            C.warn(`timeout while loading ${this.context.url}`);
            const t = this.callbacks;
            t &&
              (this.abortInternal(),
              t.onTimeout(this.stats, this.context, this.loader));
          }
        }
        retry(t) {
          const { context: e, stats: r } = this;
          ((this.retryDelay = Ge(t, r.retry)),
            r.retry++,
            C.warn(
              `${status ? "HTTP Status " + status : "Timeout"} while loading ${e.url}, retrying ${r.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`,
            ),
            this.abortInternal(),
            (this.loader = null),
            self.clearTimeout(this.retryTimeout),
            (this.retryTimeout = self.setTimeout(
              this.loadInternal.bind(this),
              this.retryDelay,
            )));
        }
        loadprogress(t) {
          const e = this.stats;
          ((e.loaded = t.loaded), t.lengthComputable && (e.total = t.total));
        }
        getCacheAge() {
          let t = null;
          if (this.loader && Ds.test(this.loader.getAllResponseHeaders())) {
            const e = this.loader.getResponseHeader("age");
            t = e ? parseFloat(e) : null;
          }
          return t;
        }
        getResponseHeader(t) {
          return this.loader &&
            new RegExp(`^${t}:\\s*[\\d.]+\\s*$`, "im").test(
              this.loader.getAllResponseHeaders(),
            )
            ? this.loader.getResponseHeader(t)
            : null;
        }
      }
      const Ss = /(\d+)-(\d+)\/(\d+)/;
      class _s {
        constructor(t) {
          ((this.fetchSetup = void 0),
            (this.requestTimeout = void 0),
            (this.request = void 0),
            (this.response = void 0),
            (this.controller = void 0),
            (this.context = void 0),
            (this.config = null),
            (this.callbacks = null),
            (this.stats = void 0),
            (this.loader = null),
            (this.fetchSetup = t.fetchSetup || ws),
            (this.controller = new self.AbortController()),
            (this.stats = new M()));
        }
        destroy() {
          ((this.loader = this.callbacks = null), this.abortInternal());
        }
        abortInternal() {
          const t = this.response;
          (null != t && t.ok) ||
            ((this.stats.aborted = !0), this.controller.abort());
        }
        abort() {
          var t;
          (this.abortInternal(),
            null != (t = this.callbacks) &&
              t.onAbort &&
              this.callbacks.onAbort(this.stats, this.context, this.response));
        }
        load(t, e, r) {
          const n = this.stats;
          if (n.loading.start) throw new Error("Loader can only be used once.");
          n.loading.start = self.performance.now();
          const o = (function (t, e) {
              const r = {
                method: "GET",
                mode: "cors",
                credentials: "same-origin",
                signal: e,
                headers: new self.Headers(D({}, t.headers)),
              };
              t.rangeEnd &&
                r.headers.set(
                  "Range",
                  "bytes=" + t.rangeStart + "-" + String(t.rangeEnd - 1),
                );
              return r;
            })(t, this.controller.signal),
            l = r.onProgress,
            c = "arraybuffer" === t.responseType,
            h = c ? "byteLength" : "length",
            { maxTimeToFirstByteMs: d, maxLoadTimeMs: f } = e.loadPolicy;
          ((this.context = t),
            (this.config = e),
            (this.callbacks = r),
            (this.request = this.fetchSetup(t, o)),
            self.clearTimeout(this.requestTimeout),
            (e.timeout = d && T(d) ? d : f),
            (this.requestTimeout = self.setTimeout(() => {
              (this.abortInternal(), r.onTimeout(n, t, this.response));
            }, e.timeout)),
            self
              .fetch(this.request)
              .then((o) => {
                this.response = this.loader = o;
                const h = Math.max(self.performance.now(), n.loading.start);
                if (
                  (self.clearTimeout(this.requestTimeout),
                  (e.timeout = f),
                  (this.requestTimeout = self.setTimeout(
                    () => {
                      (this.abortInternal(), r.onTimeout(n, t, this.response));
                    },
                    f - (h - n.loading.start),
                  )),
                  !o.ok)
                ) {
                  const { status: t, statusText: e } = o;
                  throw new As(e || "fetch, bad network response", t, o);
                }
                return (
                  (n.loading.first = h),
                  (n.total =
                    (function (t) {
                      const e = t.get("Content-Range");
                      if (e) {
                        const t = (function (t) {
                          const e = Ss.exec(t);
                          if (e) return parseInt(e[2]) - parseInt(e[1]) + 1;
                        })(e);
                        if (T(t)) return t;
                      }
                      const r = t.get("Content-Length");
                      if (r) return parseInt(r);
                    })(o.headers) || n.total),
                  l && T(e.highWaterMark)
                    ? this.loadProgressively(o, n, t, e.highWaterMark, l)
                    : c
                      ? o.arrayBuffer()
                      : "json" === t.responseType
                        ? o.json()
                        : o.text()
                );
              })
              .then((o) => {
                const { response: c } = this;
                (self.clearTimeout(this.requestTimeout),
                  (n.loading.end = Math.max(
                    self.performance.now(),
                    n.loading.first,
                  )));
                const d = o[h];
                d && (n.loaded = n.total = d);
                const f = { url: c.url, data: o, code: c.status };
                (l && !T(e.highWaterMark) && l(n, t, o, c),
                  r.onSuccess(f, n, t, c));
              })
              .catch((e) => {
                if ((self.clearTimeout(this.requestTimeout), n.aborted)) return;
                const code = (e && e.code) || 0,
                  text = e ? e.message : null;
                r.onError(
                  { code: code, text: text },
                  t,
                  e ? e.details : null,
                  n,
                );
              }));
        }
        getCacheAge() {
          let t = null;
          if (this.response) {
            const e = this.response.headers.get("age");
            t = e ? parseFloat(e) : null;
          }
          return t;
        }
        getResponseHeader(t) {
          return this.response ? this.response.headers.get(t) : null;
        }
        loadProgressively(t, e, r, n = 0, o) {
          const l = new ai(),
            c = t.body.getReader(),
            h = () =>
              c
                .read()
                .then((data) => {
                  if (data.done)
                    return (
                      l.dataLength && o(e, r, l.flush(), t),
                      Promise.resolve(new ArrayBuffer(0))
                    );
                  const c = data.value,
                    d = c.length;
                  return (
                    (e.loaded += d),
                    d < n || l.dataLength
                      ? (l.push(c), l.dataLength >= n && o(e, r, l.flush(), t))
                      : o(e, r, c, t),
                    h()
                  );
                })
                .catch(() => Promise.reject());
          return h();
        }
      }
      function ws(t, e) {
        return new self.Request(t.url, e);
      }
      class As extends Error {
        constructor(t, code, details) {
          (super(t),
            (this.code = void 0),
            (this.details = void 0),
            (this.code = code),
            (this.details = details));
        }
      }
      const xs = /\s/,
        Ls = {
          newCue(track, t, e, r) {
            const n = [];
            let o, l, c, h, text;
            const d = self.VTTCue || self.TextTrackCue;
            for (let m = 0; m < r.rows.length; m++)
              if (
                ((o = r.rows[m]), (c = !0), (h = 0), (text = ""), !o.isEmpty())
              ) {
                var f;
                for (let t = 0; t < o.chars.length; t++)
                  xs.test(o.chars[t].uchar) && c
                    ? h++
                    : ((text += o.chars[t].uchar), (c = !1));
                ((o.cueStartTime = t),
                  t === e && (e += 1e-4),
                  h >= 16 ? h-- : h++);
                const r = Ki(text.trim()),
                  y = Wi(t, e, r);
                (null != track &&
                  null != (f = track.cues) &&
                  f.getCueById(y)) ||
                  ((l = new d(t, e, r)),
                  (l.id = y),
                  (l.line = m + 1),
                  (l.align = "left"),
                  (l.position =
                    10 + Math.min(80, 10 * Math.floor((8 * h) / 32))),
                  n.push(l));
              }
            return (
              track &&
                n.length &&
                (n.sort((t, e) =>
                  "auto" === t.line || "auto" === e.line
                    ? 0
                    : t.line > 8 && e.line > 8
                      ? e.line - t.line
                      : t.line - e.line,
                ),
                n.forEach((t) => ve(track, t))),
              n
            );
          },
        },
        ks = v(
          v(
            {
              autoStartLoad: !0,
              startPosition: -1,
              defaultAudioCodec: void 0,
              debug: !1,
              capLevelOnFPSDrop: !1,
              capLevelToPlayerSize: !1,
              ignoreDevicePixelRatio: !1,
              initialLiveManifestSize: 1,
              maxBufferLength: 30,
              backBufferLength: 1 / 0,
              maxBufferSize: 6e7,
              maxBufferHole: 0.1,
              highBufferWatchdogPeriod: 2,
              nudgeOffset: 0.1,
              nudgeMaxRetry: 3,
              maxFragLookUpTolerance: 0.25,
              liveSyncDurationCount: 3,
              liveMaxLatencyDurationCount: 1 / 0,
              liveSyncDuration: void 0,
              liveMaxLatencyDuration: void 0,
              maxLiveSyncPlaybackRate: 1,
              liveDurationInfinity: !1,
              liveBackBufferLength: null,
              maxMaxBufferLength: 600,
              enableWorker: !0,
              workerPath: null,
              enableSoftwareAES: !0,
              startLevel: void 0,
              startFragPrefetch: !1,
              fpsDroppedMonitoringPeriod: 5e3,
              fpsDroppedMonitoringThreshold: 0.2,
              appendErrorMaxRetry: 3,
              loader: Ts,
              fLoader: void 0,
              pLoader: void 0,
              xhrSetup: void 0,
              licenseXhrSetup: void 0,
              licenseResponseCallback: void 0,
              abrController: class {
                constructor(t) {
                  ((this.hls = void 0),
                    (this.lastLevelLoadSec = 0),
                    (this.lastLoadedFragLevel = 0),
                    (this._nextAutoLevel = -1),
                    (this.timer = -1),
                    (this.onCheck = this._abandonRulesCheck.bind(this)),
                    (this.fragCurrent = null),
                    (this.partCurrent = null),
                    (this.bitrateTestDelay = 0),
                    (this.bwEstimator = void 0),
                    (this.hls = t));
                  const e = t.config;
                  ((this.bwEstimator = new si(
                    e.abrEwmaSlowVoD,
                    e.abrEwmaFastVoD,
                    e.abrEwmaDefaultEstimate,
                  )),
                    this.registerListeners());
                }
                registerListeners() {
                  const { hls: t } = this;
                  (t.on(S.FRAG_LOADING, this.onFragLoading, this),
                    t.on(S.FRAG_LOADED, this.onFragLoaded, this),
                    t.on(S.FRAG_BUFFERED, this.onFragBuffered, this),
                    t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this),
                    t.on(S.LEVEL_LOADED, this.onLevelLoaded, this));
                }
                unregisterListeners() {
                  const { hls: t } = this;
                  (t.off(S.FRAG_LOADING, this.onFragLoading, this),
                    t.off(S.FRAG_LOADED, this.onFragLoaded, this),
                    t.off(S.FRAG_BUFFERED, this.onFragBuffered, this),
                    t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this),
                    t.off(S.LEVEL_LOADED, this.onLevelLoaded, this));
                }
                destroy() {
                  (this.unregisterListeners(),
                    this.clearTimer(),
                    (this.hls = this.onCheck = null),
                    (this.fragCurrent = this.partCurrent = null));
                }
                onFragLoading(t, data) {
                  var e;
                  const r = data.frag;
                  this.ignoreFragment(r) ||
                    ((this.fragCurrent = r),
                    (this.partCurrent = null != (e = data.part) ? e : null),
                    this.clearTimer(),
                    (this.timer = self.setInterval(this.onCheck, 100)));
                }
                onLevelSwitching(t, data) {
                  this.clearTimer();
                }
                getTimeToLoadFrag(t, e, r, n) {
                  return t + r / e + (n ? this.lastLevelLoadSec : 0);
                }
                onLevelLoaded(t, data) {
                  const e = this.hls.config,
                    { total: r, bwEstimate: n } = data.stats;
                  (T(r) && T(n) && (this.lastLevelLoadSec = (8 * r) / n),
                    data.details.live
                      ? this.bwEstimator.update(
                          e.abrEwmaSlowLive,
                          e.abrEwmaFastLive,
                        )
                      : this.bwEstimator.update(
                          e.abrEwmaSlowVoD,
                          e.abrEwmaFastVoD,
                        ));
                }
                _abandonRulesCheck() {
                  const { fragCurrent: t, partCurrent: e, hls: r } = this,
                    { autoLevelEnabled: n, media: o } = r;
                  if (!t || !o) return;
                  const l = performance.now(),
                    c = e ? e.stats : t.stats,
                    h = e ? e.duration : t.duration,
                    d = l - c.loading.start;
                  if (
                    c.aborted ||
                    (c.loaded && c.loaded === c.total) ||
                    0 === t.level
                  )
                    return (this.clearTimer(), void (this._nextAutoLevel = -1));
                  if (!n || o.paused || !o.playbackRate || !o.readyState)
                    return;
                  const f = r.mainForwardBufferInfo;
                  if (null === f) return;
                  const m = this.bwEstimator.getEstimateTTFB(),
                    y = Math.abs(o.playbackRate);
                  if (d <= Math.max(m, (h / (2 * y)) * 1e3)) return;
                  const v = f.len / y;
                  if (v >= (2 * h) / y) return;
                  const E = c.loading.first
                      ? c.loading.first - c.loading.start
                      : -1,
                    D = c.loaded && E > -1,
                    _ = this.bwEstimator.getEstimate(),
                    { levels: w, minAutoLevel: A } = r,
                    x = w[t.level],
                    L =
                      c.total ||
                      Math.max(c.loaded, Math.round((h * x.maxBitrate) / 8));
                  let k = d - E;
                  k < 1 && D && (k = Math.min(d, (8 * c.loaded) / _));
                  const R = D ? (1e3 * c.loaded) / k : 0,
                    O = R ? (L - c.loaded) / R : (8 * L) / _ + m / 1e3;
                  if (O <= v) return;
                  const I = R ? 8 * R : _;
                  let P,
                    F = Number.POSITIVE_INFINITY;
                  for (P = t.level - 1; P > A; P--) {
                    const t = w[P].maxBitrate;
                    if (
                      ((F = this.getTimeToLoadFrag(
                        m / 1e3,
                        I,
                        h * t,
                        !w[P].details,
                      )),
                      F < v)
                    )
                      break;
                  }
                  F >= O ||
                    F > 10 * h ||
                    ((r.nextLoadLevel = P),
                    D
                      ? this.bwEstimator.sample(d - Math.min(m, E), c.loaded)
                      : this.bwEstimator.sampleTTFB(d),
                    this.clearTimer(),
                    C.warn(
                      `[abr] Fragment ${t.sn}${e ? " part " + e.index : ""} of level ${t.level} is loading too slowly;\n      Time to underbuffer: ${v.toFixed(3)} s\n      Estimated load time for current fragment: ${O.toFixed(3)} s\n      Estimated load time for down switch fragment: ${F.toFixed(3)} s\n      TTFB estimate: ${E}\n      Current BW estimate: ${T(_) ? (_ / 1024).toFixed(3) : "Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate() / 1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${P}`,
                    ),
                    t.loader &&
                      ((this.fragCurrent = this.partCurrent = null),
                      t.abortRequests()),
                    r.trigger(S.FRAG_LOAD_EMERGENCY_ABORTED, {
                      frag: t,
                      part: e,
                      stats: c,
                    }));
                }
                onFragLoaded(t, { frag: e, part: r }) {
                  const n = r ? r.stats : e.stats;
                  if (
                    (e.type === fe.MAIN &&
                      this.bwEstimator.sampleTTFB(
                        n.loading.first - n.loading.start,
                      ),
                    !this.ignoreFragment(e))
                  ) {
                    if (
                      (this.clearTimer(),
                      (this.lastLoadedFragLevel = e.level),
                      (this._nextAutoLevel = -1),
                      this.hls.config.abrMaxWithRealBitrate)
                    ) {
                      const t = r ? r.duration : e.duration,
                        o = this.hls.levels[e.level],
                        l = (o.loaded ? o.loaded.bytes : 0) + n.loaded,
                        c = (o.loaded ? o.loaded.duration : 0) + t;
                      ((o.loaded = { bytes: l, duration: c }),
                        (o.realBitrate = Math.round((8 * l) / c)));
                    }
                    if (e.bitrateTest) {
                      const t = { stats: n, frag: e, part: r, id: e.type };
                      (this.onFragBuffered(S.FRAG_BUFFERED, t),
                        (e.bitrateTest = !1));
                    }
                  }
                }
                onFragBuffered(t, data) {
                  const { frag: e, part: r } = data,
                    n = null != r && r.stats.loaded ? r.stats : e.stats;
                  if (n.aborted) return;
                  if (this.ignoreFragment(e)) return;
                  const o =
                    n.parsing.end -
                    n.loading.start -
                    Math.min(
                      n.loading.first - n.loading.start,
                      this.bwEstimator.getEstimateTTFB(),
                    );
                  (this.bwEstimator.sample(o, n.loaded),
                    (n.bwEstimate = this.bwEstimator.getEstimate()),
                    e.bitrateTest
                      ? (this.bitrateTestDelay = o / 1e3)
                      : (this.bitrateTestDelay = 0));
                }
                ignoreFragment(t) {
                  return t.type !== fe.MAIN || "initSegment" === t.sn;
                }
                clearTimer() {
                  self.clearInterval(this.timer);
                }
                get nextAutoLevel() {
                  const t = this._nextAutoLevel,
                    e = this.bwEstimator;
                  if (-1 !== t && !e.canEstimate()) return t;
                  let r = this.getNextABRAutoLevel();
                  if (-1 !== t) {
                    const e = this.hls.levels;
                    if (
                      e.length > Math.max(t, r) &&
                      e[t].loadError <= e[r].loadError
                    )
                      return t;
                  }
                  return (-1 !== t && (r = Math.min(t, r)), r);
                }
                getNextABRAutoLevel() {
                  const { fragCurrent: t, partCurrent: e, hls: r } = this,
                    {
                      maxAutoLevel: n,
                      config: o,
                      minAutoLevel: l,
                      media: c,
                    } = r,
                    h = e ? e.duration : t ? t.duration : 0,
                    d =
                      c && 0 !== c.playbackRate ? Math.abs(c.playbackRate) : 1,
                    f = this.bwEstimator
                      ? this.bwEstimator.getEstimate()
                      : o.abrEwmaDefaultEstimate,
                    m = r.mainForwardBufferInfo,
                    y = (m ? m.len : 0) / d;
                  let v = this.findBestLevel(
                    f,
                    l,
                    n,
                    y,
                    o.abrBandWidthFactor,
                    o.abrBandWidthUpFactor,
                  );
                  if (v >= 0) return v;
                  C.trace(
                    `[abr] ${y ? "rebuffering expected" : "buffer is empty"}, finding optimal quality level`,
                  );
                  let E = h
                      ? Math.min(h, o.maxStarvationDelay)
                      : o.maxStarvationDelay,
                    D = o.abrBandWidthFactor,
                    T = o.abrBandWidthUpFactor;
                  if (!y) {
                    const t = this.bitrateTestDelay;
                    if (t) {
                      ((E =
                        (h
                          ? Math.min(h, o.maxLoadingDelay)
                          : o.maxLoadingDelay) - t),
                        C.trace(
                          `[abr] bitrate test took ${Math.round(1e3 * t)}ms, set first fragment max fetchDuration to ${Math.round(1e3 * E)} ms`,
                        ),
                        (D = T = 1));
                    }
                  }
                  return (
                    (v = this.findBestLevel(f, l, n, y + E, D, T)),
                    Math.max(v, 0)
                  );
                }
                findBestLevel(t, e, r, n, o, l) {
                  var c;
                  const {
                      fragCurrent: h,
                      partCurrent: d,
                      lastLoadedFragLevel: f,
                    } = this,
                    { levels: m } = this.hls,
                    y = m[f],
                    v = !(null == y || null == (c = y.details) || !c.live),
                    E = null == y ? void 0 : y.codecSet,
                    D = d ? d.duration : h ? h.duration : 0,
                    S = this.bwEstimator.getEstimateTTFB() / 1e3;
                  let _ = e,
                    w = -1;
                  for (let i = r; i >= e; i--) {
                    const e = m[i];
                    if (!e || (E && e.codecSet !== E)) {
                      e && ((_ = Math.min(i, _)), (w = Math.max(i, w)));
                      continue;
                    }
                    -1 !== w &&
                      C.trace(
                        `[abr] Skipped level(s) ${_}-${w} with CODECS:"${m[w].attrs.CODECS}"; not compatible with "${y.attrs.CODECS}"`,
                      );
                    const r = e.details,
                      c =
                        (d
                          ? null == r
                            ? void 0
                            : r.partTarget
                          : null == r
                            ? void 0
                            : r.averagetargetduration) || D;
                    let h;
                    h = i <= f ? o * t : l * t;
                    const A = m[i].maxBitrate,
                      x = this.getTimeToLoadFrag(S, h, A * c, void 0 === r);
                    if (
                      (C.trace(
                        `[abr] level:${i} adjustedbw-bitrate:${Math.round(h - A)} avgDuration:${c.toFixed(1)} maxFetchDuration:${n.toFixed(1)} fetchDuration:${x.toFixed(1)}`,
                      ),
                      h > A &&
                        (0 === x ||
                          !T(x) ||
                          (v && !this.bitrateTestDelay) ||
                          x < n))
                    )
                      return i;
                  }
                  return -1;
                }
                set nextAutoLevel(t) {
                  this._nextAutoLevel = t;
                }
              },
              bufferController: class {
                constructor(t) {
                  ((this.details = null),
                    (this._objectUrl = null),
                    (this.operationQueue = void 0),
                    (this.listeners = void 0),
                    (this.hls = void 0),
                    (this.bufferCodecEventsExpected = 0),
                    (this._bufferCodecEventsTotal = 0),
                    (this.media = null),
                    (this.mediaSource = null),
                    (this.lastMpegAudioChunk = null),
                    (this.appendError = 0),
                    (this.tracks = {}),
                    (this.pendingTracks = {}),
                    (this.sourceBuffer = void 0),
                    (this._onMediaSourceOpen = () => {
                      const { media: t, mediaSource: e } = this;
                      (C.log("[buffer-controller]: Media source opened"),
                        t &&
                          (t.removeEventListener(
                            "emptied",
                            this._onMediaEmptied,
                          ),
                          this.updateMediaElementDuration(),
                          this.hls.trigger(S.MEDIA_ATTACHED, { media: t })),
                        e &&
                          e.removeEventListener(
                            "sourceopen",
                            this._onMediaSourceOpen,
                          ),
                        this.checkPendingTracks());
                    }),
                    (this._onMediaSourceClose = () => {
                      C.log("[buffer-controller]: Media source closed");
                    }),
                    (this._onMediaSourceEnded = () => {
                      C.log("[buffer-controller]: Media source ended");
                    }),
                    (this._onMediaEmptied = () => {
                      const { media: t, _objectUrl: e } = this;
                      t &&
                        t.src !== e &&
                        C.error(
                          `Media element src was set while attaching MediaSource (${e} > ${t.src})`,
                        );
                    }),
                    (this.hls = t),
                    this._initSourceBuffer(),
                    this.registerListeners());
                }
                hasSourceTypes() {
                  return (
                    this.getSourceBufferTypes().length > 0 ||
                    Object.keys(this.pendingTracks).length > 0
                  );
                }
                destroy() {
                  (this.unregisterListeners(),
                    (this.details = null),
                    (this.lastMpegAudioChunk = null));
                }
                registerListeners() {
                  const { hls: t } = this;
                  (t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this),
                    t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                    t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
                    t.on(S.MANIFEST_PARSED, this.onManifestParsed, this),
                    t.on(S.BUFFER_RESET, this.onBufferReset, this),
                    t.on(S.BUFFER_APPENDING, this.onBufferAppending, this),
                    t.on(S.BUFFER_CODECS, this.onBufferCodecs, this),
                    t.on(S.BUFFER_EOS, this.onBufferEos, this),
                    t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this),
                    t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this),
                    t.on(S.FRAG_PARSED, this.onFragParsed, this),
                    t.on(S.FRAG_CHANGED, this.onFragChanged, this));
                }
                unregisterListeners() {
                  const { hls: t } = this;
                  (t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this),
                    t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                    t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
                    t.off(S.MANIFEST_PARSED, this.onManifestParsed, this),
                    t.off(S.BUFFER_RESET, this.onBufferReset, this),
                    t.off(S.BUFFER_APPENDING, this.onBufferAppending, this),
                    t.off(S.BUFFER_CODECS, this.onBufferCodecs, this),
                    t.off(S.BUFFER_EOS, this.onBufferEos, this),
                    t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this),
                    t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this),
                    t.off(S.FRAG_PARSED, this.onFragParsed, this),
                    t.off(S.FRAG_CHANGED, this.onFragChanged, this));
                }
                _initSourceBuffer() {
                  ((this.sourceBuffer = {}),
                    (this.operationQueue = new di(this.sourceBuffer)),
                    (this.listeners = { audio: [], video: [], audiovideo: [] }),
                    (this.lastMpegAudioChunk = null));
                }
                onManifestLoading() {
                  ((this.bufferCodecEventsExpected =
                    this._bufferCodecEventsTotal =
                      0),
                    (this.details = null));
                }
                onManifestParsed(t, data) {
                  let e = 2;
                  (((data.audio && !data.video) || !data.altAudio) && (e = 1),
                    (this.bufferCodecEventsExpected =
                      this._bufferCodecEventsTotal =
                        e),
                    C.log(
                      `${this.bufferCodecEventsExpected} bufferCodec event(s) expected`,
                    ));
                }
                onMediaAttaching(t, data) {
                  const e = (this.media = data.media);
                  if (e && fi) {
                    const t = (this.mediaSource = new fi());
                    (t.addEventListener("sourceopen", this._onMediaSourceOpen),
                      t.addEventListener(
                        "sourceended",
                        this._onMediaSourceEnded,
                      ),
                      t.addEventListener(
                        "sourceclose",
                        this._onMediaSourceClose,
                      ),
                      (e.src = self.URL.createObjectURL(t)),
                      (this._objectUrl = e.src),
                      e.addEventListener("emptied", this._onMediaEmptied));
                  }
                }
                onMediaDetaching() {
                  const { media: t, mediaSource: e, _objectUrl: r } = this;
                  if (e) {
                    if (
                      (C.log("[buffer-controller]: media source detaching"),
                      "open" === e.readyState)
                    )
                      try {
                        e.endOfStream();
                      } catch (t) {
                        C.warn(
                          `[buffer-controller]: onMediaDetaching: ${t.message} while calling endOfStream`,
                        );
                      }
                    (this.onBufferReset(),
                      e.removeEventListener(
                        "sourceopen",
                        this._onMediaSourceOpen,
                      ),
                      e.removeEventListener(
                        "sourceended",
                        this._onMediaSourceEnded,
                      ),
                      e.removeEventListener(
                        "sourceclose",
                        this._onMediaSourceClose,
                      ),
                      t &&
                        (t.removeEventListener("emptied", this._onMediaEmptied),
                        r && self.URL.revokeObjectURL(r),
                        t.src === r
                          ? (t.removeAttribute("src"), t.load())
                          : C.warn(
                              "[buffer-controller]: media.src was changed by a third party - skip cleanup",
                            )),
                      (this.mediaSource = null),
                      (this.media = null),
                      (this._objectUrl = null),
                      (this.bufferCodecEventsExpected =
                        this._bufferCodecEventsTotal),
                      (this.pendingTracks = {}),
                      (this.tracks = {}));
                  }
                  this.hls.trigger(S.MEDIA_DETACHED, void 0);
                }
                onBufferReset() {
                  (this.getSourceBufferTypes().forEach((t) => {
                    const e = this.sourceBuffer[t];
                    try {
                      e &&
                        (this.removeBufferListeners(t),
                        this.mediaSource &&
                          this.mediaSource.removeSourceBuffer(e),
                        (this.sourceBuffer[t] = void 0));
                    } catch (e) {
                      C.warn(
                        `[buffer-controller]: Failed to reset the ${t} buffer`,
                        e,
                      );
                    }
                  }),
                    this._initSourceBuffer());
                }
                onBufferCodecs(t, data) {
                  const e = this.getSourceBufferTypes().length;
                  (Object.keys(data).forEach((t) => {
                    if (e) {
                      const track = this.tracks[t];
                      if (
                        track &&
                        "function" == typeof track.buffer.changeType
                      ) {
                        const {
                            id: e,
                            codec: r,
                            levelCodec: n,
                            container: o,
                            metadata: l,
                          } = data[t],
                          c = (track.levelCodec || track.codec).replace(
                            pi,
                            "$1",
                          ),
                          h = (n || r).replace(pi, "$1");
                        if (c !== h) {
                          const d = `${o};codecs=${n || r}`;
                          (this.appendChangeType(t, d),
                            C.log(
                              `[buffer-controller]: switching codec ${c} to ${h}`,
                            ),
                            (this.tracks[t] = {
                              buffer: track.buffer,
                              codec: r,
                              container: o,
                              levelCodec: n,
                              metadata: l,
                              id: e,
                            }));
                        }
                      }
                    } else this.pendingTracks[t] = data[t];
                  }),
                    e ||
                      ((this.bufferCodecEventsExpected = Math.max(
                        this.bufferCodecEventsExpected - 1,
                        0,
                      )),
                      this.mediaSource &&
                        "open" === this.mediaSource.readyState &&
                        this.checkPendingTracks()));
                }
                appendChangeType(t, e) {
                  const { operationQueue: r } = this,
                    n = {
                      execute: () => {
                        const n = this.sourceBuffer[t];
                        (n &&
                          (C.log(
                            `[buffer-controller]: changing ${t} sourceBuffer type to ${e}`,
                          ),
                          n.changeType(e)),
                          r.shiftAndExecuteNext(t));
                      },
                      onStart: () => {},
                      onComplete: () => {},
                      onError: (e) => {
                        C.warn(
                          `[buffer-controller]: Failed to change ${t} SourceBuffer type`,
                          e,
                        );
                      },
                    };
                  r.append(n, t);
                }
                onBufferAppending(t, e) {
                  const { hls: r, operationQueue: n, tracks: o } = this,
                    { data: data, type: l, frag: c, part: h, chunkMeta: d } = e,
                    f = d.buffering[l],
                    m = self.performance.now();
                  f.start = m;
                  const y = c.stats.buffering,
                    v = h ? h.stats.buffering : null;
                  (0 === y.start && (y.start = m),
                    v && 0 === v.start && (v.start = m));
                  const E = o.audio;
                  let D = !1;
                  "audio" === l &&
                    "audio/mpeg" === (null == E ? void 0 : E.container) &&
                    ((D =
                      !this.lastMpegAudioChunk ||
                      1 === d.id ||
                      this.lastMpegAudioChunk.sn !== d.sn),
                    (this.lastMpegAudioChunk = d));
                  const T = c.start,
                    A = {
                      execute: () => {
                        if (((f.executeStart = self.performance.now()), D)) {
                          const t = this.sourceBuffer[l];
                          if (t) {
                            const e = T - t.timestampOffset;
                            Math.abs(e) >= 0.1 &&
                              (C.log(
                                `[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${T} (delta: ${e}) sn: ${c.sn})`,
                              ),
                              (t.timestampOffset = T));
                          }
                        }
                        this.appendExecutor(data, l);
                      },
                      onStart: () => {},
                      onComplete: () => {
                        const t = self.performance.now();
                        ((f.executeEnd = f.end = t),
                          0 === y.first && (y.first = t),
                          v && 0 === v.first && (v.first = t));
                        const { sourceBuffer: e } = this,
                          r = {};
                        for (const t in e) r[t] = wr.getBuffered(e[t]);
                        ((this.appendError = 0),
                          this.hls.trigger(S.BUFFER_APPENDED, {
                            type: l,
                            frag: c,
                            part: h,
                            chunkMeta: d,
                            parent: c.type,
                            timeRanges: r,
                          }));
                      },
                      onError: (t) => {
                        C.error(
                          `[buffer-controller]: Error encountered while trying to append to the ${l} SourceBuffer`,
                          t,
                        );
                        const e = {
                          type: _.MEDIA_ERROR,
                          parent: c.type,
                          details: w.BUFFER_APPEND_ERROR,
                          frag: c,
                          part: h,
                          chunkMeta: d,
                          error: t,
                          err: t,
                          fatal: !1,
                        };
                        (t.code === DOMException.QUOTA_EXCEEDED_ERR
                          ? (e.details = w.BUFFER_FULL_ERROR)
                          : (this.appendError++,
                            (e.details = w.BUFFER_APPEND_ERROR),
                            this.appendError > r.config.appendErrorMaxRetry &&
                              (C.error(
                                `[buffer-controller]: Failed ${r.config.appendErrorMaxRetry} times to append segment in sourceBuffer`,
                              ),
                              (e.fatal = !0))),
                          r.trigger(S.ERROR, e));
                      },
                    };
                  n.append(A, l);
                }
                onBufferFlushing(t, data) {
                  const { operationQueue: e } = this,
                    r = (t) => ({
                      execute: this.removeExecutor.bind(
                        this,
                        t,
                        data.startOffset,
                        data.endOffset,
                      ),
                      onStart: () => {},
                      onComplete: () => {
                        this.hls.trigger(S.BUFFER_FLUSHED, { type: t });
                      },
                      onError: (e) => {
                        C.warn(
                          `[buffer-controller]: Failed to remove from ${t} SourceBuffer`,
                          e,
                        );
                      },
                    });
                  data.type
                    ? e.append(r(data.type), data.type)
                    : this.getSourceBufferTypes().forEach((t) => {
                        e.append(r(t), t);
                      });
                }
                onFragParsed(t, data) {
                  const { frag: e, part: r } = data,
                    n = [],
                    o = r ? r.elementaryStreams : e.elementaryStreams;
                  o[N.AUDIOVIDEO]
                    ? n.push("audiovideo")
                    : (o[N.AUDIO] && n.push("audio"),
                      o[N.VIDEO] && n.push("video"));
                  (0 === n.length &&
                    C.warn(
                      `Fragments must have at least one ElementaryStreamType set. type: ${e.type} level: ${e.level} sn: ${e.sn}`,
                    ),
                    this.blockBuffers(() => {
                      const t = self.performance.now();
                      ((e.stats.buffering.end = t),
                        r && (r.stats.buffering.end = t));
                      const n = r ? r.stats : e.stats;
                      this.hls.trigger(S.FRAG_BUFFERED, {
                        frag: e,
                        part: r,
                        stats: n,
                        id: e.type,
                      });
                    }, n));
                }
                onFragChanged(t, data) {
                  this.flushBackBuffer();
                }
                onBufferEos(t, data) {
                  this.getSourceBufferTypes().reduce((t, e) => {
                    const r = this.sourceBuffer[e];
                    return (
                      !r ||
                        (data.type && data.type !== e) ||
                        ((r.ending = !0),
                        r.ended ||
                          ((r.ended = !0),
                          C.log(
                            `[buffer-controller]: ${e} sourceBuffer now EOS`,
                          ))),
                      t && !(r && !r.ended)
                    );
                  }, !0) &&
                    (C.log(
                      "[buffer-controller]: Queueing mediaSource.endOfStream()",
                    ),
                    this.blockBuffers(() => {
                      this.getSourceBufferTypes().forEach((t) => {
                        const e = this.sourceBuffer[t];
                        e && (e.ending = !1);
                      });
                      const { mediaSource: t } = this;
                      t && "open" === t.readyState
                        ? (C.log(
                            "[buffer-controller]: Calling mediaSource.endOfStream()",
                          ),
                          t.endOfStream())
                        : t &&
                          C.info(
                            `[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`,
                          );
                    }));
                }
                onLevelUpdated(t, { details: details }) {
                  details.fragments.length &&
                    ((this.details = details),
                    this.getSourceBufferTypes().length
                      ? this.blockBuffers(
                          this.updateMediaElementDuration.bind(this),
                        )
                      : this.updateMediaElementDuration());
                }
                flushBackBuffer() {
                  const {
                    hls: t,
                    details: details,
                    media: e,
                    sourceBuffer: r,
                  } = this;
                  if (!e || null === details) return;
                  const n = this.getSourceBufferTypes();
                  if (!n.length) return;
                  const o =
                    details.live && null !== t.config.liveBackBufferLength
                      ? t.config.liveBackBufferLength
                      : t.config.backBufferLength;
                  if (!T(o) || o < 0) return;
                  const l = e.currentTime,
                    c = details.levelTargetDuration,
                    h = Math.max(o, c),
                    d = Math.floor(l / c) * c - h;
                  n.forEach((e) => {
                    const n = r[e];
                    if (n) {
                      const r = wr.getBuffered(n);
                      if (r.length > 0 && d > r.start(0)) {
                        if (
                          (t.trigger(S.BACK_BUFFER_REACHED, { bufferEnd: d }),
                          details.live)
                        )
                          t.trigger(S.LIVE_BACK_BUFFER_REACHED, {
                            bufferEnd: d,
                          });
                        else if (n.ended && r.end(r.length - 1) - l < 2 * c)
                          return void C.info(
                            `[buffer-controller]: Cannot flush ${e} back buffer while SourceBuffer is in ended state`,
                          );
                        t.trigger(S.BUFFER_FLUSHING, {
                          startOffset: 0,
                          endOffset: d,
                          type: e,
                        });
                      }
                    }
                  });
                }
                updateMediaElementDuration() {
                  if (
                    !this.details ||
                    !this.media ||
                    !this.mediaSource ||
                    "open" !== this.mediaSource.readyState
                  )
                    return;
                  const {
                      details: details,
                      hls: t,
                      media: e,
                      mediaSource: r,
                    } = this,
                    n = details.fragments[0].start + details.totalduration,
                    o = e.duration,
                    l = T(r.duration) ? r.duration : 0;
                  details.live && t.config.liveDurationInfinity
                    ? (C.log(
                        "[buffer-controller]: Media Source duration is set to Infinity",
                      ),
                      (r.duration = 1 / 0),
                      this.updateSeekableRange(details))
                    : ((n > l && n > o) || !T(o)) &&
                      (C.log(
                        `[buffer-controller]: Updating Media Source duration to ${n.toFixed(3)}`,
                      ),
                      (r.duration = n));
                }
                updateSeekableRange(t) {
                  const e = this.mediaSource,
                    r = t.fragments;
                  if (
                    r.length &&
                    t.live &&
                    null != e &&
                    e.setLiveSeekableRange
                  ) {
                    const n = Math.max(0, r[0].start),
                      o = Math.max(n, n + t.totalduration);
                    e.setLiveSeekableRange(n, o);
                  }
                }
                checkPendingTracks() {
                  const {
                      bufferCodecEventsExpected: t,
                      operationQueue: e,
                      pendingTracks: r,
                    } = this,
                    n = Object.keys(r).length;
                  if ((n && !t) || 2 === n) {
                    (this.createSourceBuffers(r), (this.pendingTracks = {}));
                    const t = this.getSourceBufferTypes();
                    if (t.length)
                      (this.hls.trigger(S.BUFFER_CREATED, {
                        tracks: this.tracks,
                      }),
                        t.forEach((t) => {
                          e.executeNext(t);
                        }));
                    else {
                      const t = new Error(
                        "could not create source buffer for media codec(s)",
                      );
                      this.hls.trigger(S.ERROR, {
                        type: _.MEDIA_ERROR,
                        details: w.BUFFER_INCOMPATIBLE_CODECS_ERROR,
                        fatal: !0,
                        error: t,
                        reason: t.message,
                      });
                    }
                  }
                }
                createSourceBuffers(t) {
                  const { sourceBuffer: e, mediaSource: r } = this;
                  if (!r)
                    throw Error(
                      "createSourceBuffers called when mediaSource was null",
                    );
                  for (const n in t)
                    if (!e[n]) {
                      const track = t[n];
                      if (!track)
                        throw Error(
                          `source buffer exists for track ${n}, however track does not`,
                        );
                      const o = track.levelCodec || track.codec,
                        l = `${track.container};codecs=${o}`;
                      C.log(`[buffer-controller]: creating sourceBuffer(${l})`);
                      try {
                        const t = (e[n] = r.addSourceBuffer(l)),
                          c = n;
                        (this.addBufferListener(
                          c,
                          "updatestart",
                          this._onSBUpdateStart,
                        ),
                          this.addBufferListener(
                            c,
                            "updateend",
                            this._onSBUpdateEnd,
                          ),
                          this.addBufferListener(
                            c,
                            "error",
                            this._onSBUpdateError,
                          ),
                          (this.tracks[n] = {
                            buffer: t,
                            codec: o,
                            container: track.container,
                            levelCodec: track.levelCodec,
                            metadata: track.metadata,
                            id: track.id,
                          }));
                      } catch (t) {
                        (C.error(
                          `[buffer-controller]: error while trying to add sourceBuffer: ${t.message}`,
                        ),
                          this.hls.trigger(S.ERROR, {
                            type: _.MEDIA_ERROR,
                            details: w.BUFFER_ADD_CODEC_ERROR,
                            fatal: !1,
                            error: t,
                            mimeType: l,
                          }));
                      }
                    }
                }
                _onSBUpdateStart(t) {
                  const { operationQueue: e } = this;
                  e.current(t).onStart();
                }
                _onSBUpdateEnd(t) {
                  const { operationQueue: e } = this;
                  (e.current(t).onComplete(), e.shiftAndExecuteNext(t));
                }
                _onSBUpdateError(t, e) {
                  const r = new Error(`${t} SourceBuffer error`);
                  (C.error(`[buffer-controller]: ${r}`, e),
                    this.hls.trigger(S.ERROR, {
                      type: _.MEDIA_ERROR,
                      details: w.BUFFER_APPENDING_ERROR,
                      error: r,
                      fatal: !1,
                    }));
                  const n = this.operationQueue.current(t);
                  n && n.onError(e);
                }
                removeExecutor(t, e, r) {
                  const {
                      media: n,
                      mediaSource: o,
                      operationQueue: l,
                      sourceBuffer: c,
                    } = this,
                    h = c[t];
                  if (!n || !o || !h)
                    return (
                      C.warn(
                        `[buffer-controller]: Attempting to remove from the ${t} SourceBuffer, but it does not exist`,
                      ),
                      void l.shiftAndExecuteNext(t)
                    );
                  const d = T(n.duration) ? n.duration : 1 / 0,
                    f = T(o.duration) ? o.duration : 1 / 0,
                    m = Math.max(0, e),
                    y = Math.min(r, d, f);
                  y > m && !h.ending
                    ? ((h.ended = !1),
                      C.log(
                        `[buffer-controller]: Removing [${m},${y}] from the ${t} SourceBuffer`,
                      ),
                      h.remove(m, y))
                    : l.shiftAndExecuteNext(t);
                }
                appendExecutor(data, t) {
                  const { operationQueue: e, sourceBuffer: r } = this,
                    n = r[t];
                  if (!n)
                    return (
                      C.warn(
                        `[buffer-controller]: Attempting to append to the ${t} SourceBuffer, but it does not exist`,
                      ),
                      void e.shiftAndExecuteNext(t)
                    );
                  ((n.ended = !1), n.appendBuffer(data));
                }
                blockBuffers(t, e = this.getSourceBufferTypes()) {
                  if (!e.length)
                    return (
                      C.log(
                        "[buffer-controller]: Blocking operation requested, but no SourceBuffers exist",
                      ),
                      void Promise.resolve().then(t)
                    );
                  const { operationQueue: r } = this,
                    n = e.map((t) => r.appendBlocker(t));
                  Promise.all(n).then(() => {
                    (t(),
                      e.forEach((t) => {
                        const e = this.sourceBuffer[t];
                        (null != e && e.updating) || r.shiftAndExecuteNext(t);
                      }));
                  });
                }
                getSourceBufferTypes() {
                  return Object.keys(this.sourceBuffer);
                }
                addBufferListener(t, e, r) {
                  const n = this.sourceBuffer[t];
                  if (!n) return;
                  const o = r.bind(this, t);
                  (this.listeners[t].push({ event: e, listener: o }),
                    n.addEventListener(e, o));
                }
                removeBufferListeners(t) {
                  const e = this.sourceBuffer[t];
                  e &&
                    this.listeners[t].forEach((t) => {
                      e.removeEventListener(t.event, t.listener);
                    });
                }
              },
              capLevelController: ls,
              errorController: class {
                constructor(t) {
                  ((this.hls = void 0),
                    (this.playlistError = 0),
                    (this.penalizedRenditions = {}),
                    (this.log = void 0),
                    (this.warn = void 0),
                    (this.error = void 0),
                    (this.hls = t),
                    (this.log = C.log.bind(C, "[info]:")),
                    (this.warn = C.warn.bind(C, "[warning]:")),
                    (this.error = C.error.bind(C, "[error]:")),
                    this.registerListeners());
                }
                registerListeners() {
                  const t = this.hls;
                  (t.on(S.ERROR, this.onError, this),
                    t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
                    t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this));
                }
                unregisterListeners() {
                  const t = this.hls;
                  t &&
                    (t.off(S.ERROR, this.onError, this),
                    t.off(S.ERROR, this.onErrorOut, this),
                    t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
                    t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this));
                }
                destroy() {
                  (this.unregisterListeners(),
                    (this.hls = null),
                    (this.penalizedRenditions = {}));
                }
                startLoad(t) {
                  this.playlistError = 0;
                }
                stopLoad() {}
                getVariantLevelIndex(t) {
                  return (null == t ? void 0 : t.type) === fe.MAIN
                    ? t.level
                    : this.hls.loadLevel;
                }
                onManifestLoading() {
                  ((this.playlistError = 0), (this.penalizedRenditions = {}));
                }
                onLevelUpdated() {
                  this.playlistError = 0;
                }
                onError(t, data) {
                  var e, r;
                  if (data.fatal) return;
                  const n = this.hls,
                    o = data.context;
                  switch (data.details) {
                    case w.FRAG_LOAD_ERROR:
                    case w.FRAG_LOAD_TIMEOUT:
                    case w.KEY_LOAD_ERROR:
                    case w.KEY_LOAD_TIMEOUT:
                      return void (data.errorAction =
                        this.getFragRetryOrSwitchAction(data));
                    case w.FRAG_PARSING_ERROR:
                      if (null != (e = data.frag) && e.gap)
                        return void (data.errorAction = {
                          action: qe,
                          flags: Je,
                        });
                    case w.FRAG_GAP:
                    case w.FRAG_DECRYPT_ERROR:
                      return (
                        (data.errorAction =
                          this.getFragRetryOrSwitchAction(data)),
                        void (data.errorAction.action = Xe)
                      );
                    case w.LEVEL_EMPTY_ERROR:
                    case w.LEVEL_PARSING_ERROR:
                      {
                        var l, c;
                        const t =
                          data.parent === fe.MAIN ? data.level : n.loadLevel;
                        data.details === w.LEVEL_EMPTY_ERROR &&
                        null != (l = data.context) &&
                        null != (c = l.levelDetails) &&
                        c.live
                          ? (data.errorAction =
                              this.getPlaylistRetryOrSwitchAction(data, t))
                          : ((data.levelRetry = !1),
                            (data.errorAction = this.getLevelSwitchAction(
                              data,
                              t,
                            )));
                      }
                      return;
                    case w.LEVEL_LOAD_ERROR:
                    case w.LEVEL_LOAD_TIMEOUT:
                      return void (
                        "number" == typeof (null == o ? void 0 : o.level) &&
                        (data.errorAction = this.getPlaylistRetryOrSwitchAction(
                          data,
                          o.level,
                        ))
                      );
                    case w.AUDIO_TRACK_LOAD_ERROR:
                    case w.AUDIO_TRACK_LOAD_TIMEOUT:
                    case w.SUBTITLE_LOAD_ERROR:
                    case w.SUBTITLE_TRACK_LOAD_TIMEOUT:
                      if (o) {
                        const t = n.levels[n.loadLevel];
                        if (
                          t &&
                          ((o.type === de.AUDIO_TRACK &&
                            o.groupId === t.audioGroupId) ||
                            (o.type === de.SUBTITLE_TRACK &&
                              o.groupId === t.textGroupId))
                        )
                          return (
                            (data.errorAction =
                              this.getPlaylistRetryOrSwitchAction(
                                data,
                                n.loadLevel,
                              )),
                            (data.errorAction.action = Xe),
                            void (data.errorAction.flags = Ze)
                          );
                      }
                      return;
                    case w.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:
                      {
                        const t = n.levels[n.loadLevel],
                          e = null == t ? void 0 : t.attrs["HDCP-LEVEL"];
                        e &&
                          (data.errorAction = {
                            action: Xe,
                            flags: er,
                            hdcpLevel: e,
                          });
                      }
                      return;
                    case w.BUFFER_ADD_CODEC_ERROR:
                    case w.REMUX_ALLOC_ERROR:
                      return void (data.errorAction = this.getLevelSwitchAction(
                        data,
                        null != (r = data.level) ? r : n.loadLevel,
                      ));
                    case w.INTERNAL_EXCEPTION:
                    case w.BUFFER_APPENDING_ERROR:
                    case w.BUFFER_APPEND_ERROR:
                    case w.BUFFER_FULL_ERROR:
                    case w.LEVEL_SWITCH_ERROR:
                    case w.BUFFER_STALLED_ERROR:
                    case w.BUFFER_SEEK_OVER_HOLE:
                    case w.BUFFER_NUDGE_ON_STALL:
                      return void (data.errorAction = {
                        action: qe,
                        flags: Je,
                      });
                  }
                  if (data.type === _.KEY_SYSTEM_ERROR) {
                    const t = this.getVariantLevelIndex(data.frag);
                    return (
                      (data.levelRetry = !1),
                      void (data.errorAction = this.getLevelSwitchAction(
                        data,
                        t,
                      ))
                    );
                  }
                }
                getPlaylistRetryOrSwitchAction(data, t) {
                  var e;
                  const r = $e(this.hls.config.playlistLoadPolicy, data),
                    n = this.playlistError++,
                    o = null == (e = data.response) ? void 0 : e.code;
                  if (He(r, n, je(data), o))
                    return {
                      action: Qe,
                      flags: Je,
                      retryConfig: r,
                      retryCount: n,
                    };
                  const l = this.getLevelSwitchAction(data, t);
                  return (r && ((l.retryConfig = r), (l.retryCount = n)), l);
                }
                getFragRetryOrSwitchAction(data) {
                  const t = this.hls,
                    e = this.getVariantLevelIndex(data.frag),
                    r = t.levels[e],
                    { fragLoadPolicy: n, keyLoadPolicy: o } = t.config,
                    l = $e(data.details.startsWith("key") ? o : n, data),
                    c = t.levels.reduce((t, e) => t + e.fragmentError, 0);
                  if (r) {
                    var h;
                    data.details !== w.FRAG_GAP && r.fragmentError++;
                    const t = null == (h = data.response) ? void 0 : h.code;
                    if (He(l, c, je(data), t))
                      return {
                        action: Qe,
                        flags: Je,
                        retryConfig: l,
                        retryCount: c,
                      };
                  }
                  const d = this.getLevelSwitchAction(data, e);
                  return (l && ((d.retryConfig = l), (d.retryCount = c)), d);
                }
                getLevelSwitchAction(data, t) {
                  const e = this.hls;
                  null == t && (t = e.loadLevel);
                  const r = this.hls.levels[t];
                  if (r && (r.loadError++, e.autoLevelEnabled)) {
                    var n, o;
                    let t = -1;
                    const {
                        levels: l,
                        loadLevel: c,
                        minAutoLevel: h,
                        maxAutoLevel: d,
                      } = e,
                      f = null == (n = data.frag) ? void 0 : n.type,
                      { type: m, groupId: y } =
                        null != (o = data.context) ? o : {};
                    for (let i = l.length; i--; ) {
                      const e = (i + c) % l.length;
                      if (e !== c && e >= h && e <= d && 0 === l[e].loadError) {
                        const n = l[e];
                        if (data.details === w.FRAG_GAP && data.frag) {
                          const t = l[e].details;
                          if (t) {
                            const e = Ye(
                              data.frag,
                              t.fragments,
                              data.frag.start,
                            );
                            if (null != e && e.gap) continue;
                          }
                        } else {
                          if (
                            (m === de.AUDIO_TRACK && y === n.audioGroupId) ||
                            (m === de.SUBTITLE_TRACK && y === n.textGroupId)
                          )
                            continue;
                          if (
                            (f === fe.AUDIO &&
                              r.audioGroupId === n.audioGroupId) ||
                            (f === fe.SUBTITLE &&
                              r.textGroupId === n.textGroupId)
                          )
                            continue;
                        }
                        t = e;
                        break;
                      }
                    }
                    if (t > -1 && e.loadLevel !== t)
                      return (
                        (data.levelRetry = !0),
                        (this.playlistError = 0),
                        { action: Xe, flags: Je, nextAutoLevel: t }
                      );
                  }
                  return { action: Xe, flags: Ze };
                }
                onErrorOut(t, data) {
                  var e;
                  switch (null == (e = data.errorAction) ? void 0 : e.action) {
                    case qe:
                      break;
                    case Xe:
                      (this.sendAlternateToPenaltyBox(data),
                        data.errorAction.resolved ||
                          data.details === w.FRAG_GAP ||
                          (data.fatal = !0));
                  }
                  data.fatal && this.hls.stopLoad();
                }
                sendAlternateToPenaltyBox(data) {
                  const t = this.hls,
                    e = data.errorAction;
                  if (!e) return;
                  const { flags: r, hdcpLevel: n, nextAutoLevel: o } = e;
                  switch (r) {
                    case Je:
                      this.switchLevel(data, o);
                      break;
                    case Ze:
                      e.resolved || (e.resolved = this.redundantFailover(data));
                      break;
                    case er:
                      (n &&
                        ((t.maxHdcpLevel = ke[ke.indexOf(n) - 1]),
                        (e.resolved = !0)),
                        this.warn(
                          `Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`,
                        ));
                  }
                  e.resolved || this.switchLevel(data, o);
                }
                switchLevel(data, t) {
                  void 0 !== t &&
                    data.errorAction &&
                    (this.warn(`switching to level ${t} after ${data.details}`),
                    (this.hls.nextAutoLevel = t),
                    (data.errorAction.resolved = !0),
                    (this.hls.nextLoadLevel = this.hls.nextAutoLevel));
                }
                redundantFailover(data) {
                  const { hls: t, penalizedRenditions: e } = this,
                    r = data.parent === fe.MAIN ? data.level : t.loadLevel,
                    n = t.levels[r],
                    o = n.url.length,
                    l = data.frag ? data.frag.urlId : n.urlId;
                  n.urlId !== l ||
                    (data.frag && !n.details) ||
                    this.penalizeRendition(n, data);
                  for (let i = 1; i < o; i++) {
                    const c = (l + i) % o,
                      h = e[c];
                    if (!h || rr(h, data, e[l]))
                      return (
                        this.warn(
                          `Switching to Redundant Stream ${c + 1}/${o}: "${n.url[c]}" after ${data.details}`,
                        ),
                        (this.playlistError = 0),
                        t.levels.forEach((t) => {
                          t.urlId = c;
                        }),
                        (t.nextLoadLevel = r),
                        !0
                      );
                  }
                  return !1;
                }
                penalizeRendition(t, data) {
                  const { penalizedRenditions: e } = this,
                    r = e[t.urlId] || {
                      lastErrorPerfMs: 0,
                      errors: [],
                      details: void 0,
                    };
                  ((r.lastErrorPerfMs = performance.now()),
                    r.errors.push(data),
                    (r.details = t.details),
                    (e[t.urlId] = r));
                }
              },
              fpsController: class {
                constructor(t) {
                  ((this.hls = void 0),
                    (this.isVideoPlaybackQualityAvailable = !1),
                    (this.timer = void 0),
                    (this.media = null),
                    (this.lastTime = void 0),
                    (this.lastDroppedFrames = 0),
                    (this.lastDecodedFrames = 0),
                    (this.streamController = void 0),
                    (this.hls = t),
                    this.registerListeners());
                }
                setStreamController(t) {
                  this.streamController = t;
                }
                registerListeners() {
                  this.hls.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this);
                }
                unregisterListeners() {
                  this.hls.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this);
                }
                destroy() {
                  (this.timer && clearInterval(this.timer),
                    this.unregisterListeners(),
                    (this.isVideoPlaybackQualityAvailable = !1),
                    (this.media = null));
                }
                onMediaAttaching(t, data) {
                  const e = this.hls.config;
                  if (e.capLevelOnFPSDrop) {
                    const t =
                      data.media instanceof self.HTMLVideoElement
                        ? data.media
                        : null;
                    ((this.media = t),
                      t &&
                        "function" == typeof t.getVideoPlaybackQuality &&
                        (this.isVideoPlaybackQualityAvailable = !0),
                      self.clearInterval(this.timer),
                      (this.timer = self.setInterval(
                        this.checkFPSInterval.bind(this),
                        e.fpsDroppedMonitoringPeriod,
                      )));
                  }
                }
                checkFPS(video, t, e) {
                  const r = performance.now();
                  if (t) {
                    if (this.lastTime) {
                      const n = r - this.lastTime,
                        o = e - this.lastDroppedFrames,
                        l = t - this.lastDecodedFrames,
                        c = (1e3 * o) / n,
                        h = this.hls;
                      if (
                        (h.trigger(S.FPS_DROP, {
                          currentDropped: o,
                          currentDecoded: l,
                          totalDroppedFrames: e,
                        }),
                        c > 0 && o > h.config.fpsDroppedMonitoringThreshold * l)
                      ) {
                        let t = h.currentLevel;
                        (C.warn(
                          "drop FPS ratio greater than max allowed value for currentLevel: " +
                            t,
                        ),
                          t > 0 &&
                            (-1 === h.autoLevelCapping ||
                              h.autoLevelCapping >= t) &&
                            ((t -= 1),
                            h.trigger(S.FPS_DROP_LEVEL_CAPPING, {
                              level: t,
                              droppedLevel: h.currentLevel,
                            }),
                            (h.autoLevelCapping = t),
                            this.streamController.nextLevelSwitch()));
                      }
                    }
                    ((this.lastTime = r),
                      (this.lastDroppedFrames = e),
                      (this.lastDecodedFrames = t));
                  }
                }
                checkFPSInterval() {
                  const video = this.media;
                  if (video)
                    if (this.isVideoPlaybackQualityAvailable) {
                      const t = video.getVideoPlaybackQuality();
                      this.checkFPS(
                        video,
                        t.totalVideoFrames,
                        t.droppedVideoFrames,
                      );
                    } else
                      this.checkFPS(
                        video,
                        video.webkitDecodedFrameCount,
                        video.webkitDroppedFrameCount,
                      );
                }
              },
              stretchShortVideoTrack: !1,
              maxAudioFramesDrift: 1,
              forceKeyFrameOnDiscontinuity: !0,
              abrEwmaFastLive: 3,
              abrEwmaSlowLive: 9,
              abrEwmaFastVoD: 3,
              abrEwmaSlowVoD: 9,
              abrEwmaDefaultEstimate: 5e5,
              abrBandWidthFactor: 0.95,
              abrBandWidthUpFactor: 0.7,
              abrMaxWithRealBitrate: !1,
              maxStarvationDelay: 4,
              maxLoadingDelay: 4,
              minAutoBitrate: 0,
              emeEnabled: !1,
              widevineLicenseUrl: void 0,
              drmSystems: {},
              drmSystemOptions: {},
              requestMediaKeySystemAccessFunc: et,
              testBandwidth: !0,
              progressive: !1,
              lowLatencyMode: !0,
              cmcd: void 0,
              enableDateRangeMetadataCues: !0,
              enableEmsgMetadataCues: !0,
              enableID3MetadataCues: !0,
              certLoadPolicy: {
                default: {
                  maxTimeToFirstByteMs: 8e3,
                  maxLoadTimeMs: 2e4,
                  timeoutRetry: null,
                  errorRetry: null,
                },
              },
              keyLoadPolicy: {
                default: {
                  maxTimeToFirstByteMs: 8e3,
                  maxLoadTimeMs: 2e4,
                  timeoutRetry: {
                    maxNumRetry: 1,
                    retryDelayMs: 1e3,
                    maxRetryDelayMs: 2e4,
                    backoff: "linear",
                  },
                  errorRetry: {
                    maxNumRetry: 8,
                    retryDelayMs: 1e3,
                    maxRetryDelayMs: 2e4,
                    backoff: "linear",
                  },
                },
              },
              manifestLoadPolicy: {
                default: {
                  maxTimeToFirstByteMs: 1 / 0,
                  maxLoadTimeMs: 2e4,
                  timeoutRetry: {
                    maxNumRetry: 2,
                    retryDelayMs: 0,
                    maxRetryDelayMs: 0,
                  },
                  errorRetry: {
                    maxNumRetry: 1,
                    retryDelayMs: 1e3,
                    maxRetryDelayMs: 8e3,
                  },
                },
              },
              playlistLoadPolicy: {
                default: {
                  maxTimeToFirstByteMs: 1e4,
                  maxLoadTimeMs: 2e4,
                  timeoutRetry: {
                    maxNumRetry: 2,
                    retryDelayMs: 0,
                    maxRetryDelayMs: 0,
                  },
                  errorRetry: {
                    maxNumRetry: 2,
                    retryDelayMs: 1e3,
                    maxRetryDelayMs: 8e3,
                  },
                },
              },
              fragLoadPolicy: {
                default: {
                  maxTimeToFirstByteMs: 1e4,
                  maxLoadTimeMs: 12e4,
                  timeoutRetry: {
                    maxNumRetry: 4,
                    retryDelayMs: 0,
                    maxRetryDelayMs: 0,
                  },
                  errorRetry: {
                    maxNumRetry: 6,
                    retryDelayMs: 1e3,
                    maxRetryDelayMs: 8e3,
                  },
                },
              },
              steeringManifestLoadPolicy: {
                default: {
                  maxTimeToFirstByteMs: 1e4,
                  maxLoadTimeMs: 2e4,
                  timeoutRetry: {
                    maxNumRetry: 2,
                    retryDelayMs: 0,
                    maxRetryDelayMs: 0,
                  },
                  errorRetry: {
                    maxNumRetry: 1,
                    retryDelayMs: 1e3,
                    maxRetryDelayMs: 8e3,
                  },
                },
              },
              manifestLoadingTimeOut: 1e4,
              manifestLoadingMaxRetry: 1,
              manifestLoadingRetryDelay: 1e3,
              manifestLoadingMaxRetryTimeout: 64e3,
              levelLoadingTimeOut: 1e4,
              levelLoadingMaxRetry: 4,
              levelLoadingRetryDelay: 1e3,
              levelLoadingMaxRetryTimeout: 64e3,
              fragLoadingTimeOut: 2e4,
              fragLoadingMaxRetry: 6,
              fragLoadingRetryDelay: 1e3,
              fragLoadingMaxRetryTimeout: 64e3,
            },
            {
              cueHandler: Ls,
              enableWebVTT: !0,
              enableIMSC1: !0,
              enableCEA708Captions: !0,
              captionsTextTrack1Label: "English",
              captionsTextTrack1LanguageCode: "en",
              captionsTextTrack2Label: "Spanish",
              captionsTextTrack2LanguageCode: "es",
              captionsTextTrack3Label: "Unknown CC",
              captionsTextTrack3LanguageCode: "",
              captionsTextTrack4Label: "Unknown CC",
              captionsTextTrack4LanguageCode: "",
              renderTextTracksNatively: !0,
            },
          ),
          {},
          {
            subtitleStreamController: class extends qr {
              constructor(t, e, r) {
                (super(t, e, r, "[subtitle-stream-controller]", fe.SUBTITLE),
                  (this.levels = []),
                  (this.currentTrackId = -1),
                  (this.tracksBuffered = []),
                  (this.mainDetails = null),
                  this._registerListeners());
              }
              onHandlerDestroying() {
                (this._unregisterListeners(), (this.mainDetails = null));
              }
              _registerListeners() {
                const { hls: t } = this;
                (t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this),
                  t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                  t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.on(S.LEVEL_LOADED, this.onLevelLoaded, this),
                  t.on(S.ERROR, this.onError, this),
                  t.on(
                    S.SUBTITLE_TRACKS_UPDATED,
                    this.onSubtitleTracksUpdated,
                    this,
                  ),
                  t.on(
                    S.SUBTITLE_TRACK_SWITCH,
                    this.onSubtitleTrackSwitch,
                    this,
                  ),
                  t.on(
                    S.SUBTITLE_TRACK_LOADED,
                    this.onSubtitleTrackLoaded,
                    this,
                  ),
                  t.on(
                    S.SUBTITLE_FRAG_PROCESSED,
                    this.onSubtitleFragProcessed,
                    this,
                  ),
                  t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this),
                  t.on(S.FRAG_BUFFERED, this.onFragBuffered, this));
              }
              _unregisterListeners() {
                const { hls: t } = this;
                (t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this),
                  t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                  t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.off(S.LEVEL_LOADED, this.onLevelLoaded, this),
                  t.off(S.ERROR, this.onError, this),
                  t.off(
                    S.SUBTITLE_TRACKS_UPDATED,
                    this.onSubtitleTracksUpdated,
                    this,
                  ),
                  t.off(
                    S.SUBTITLE_TRACK_SWITCH,
                    this.onSubtitleTrackSwitch,
                    this,
                  ),
                  t.off(
                    S.SUBTITLE_TRACK_LOADED,
                    this.onSubtitleTrackLoaded,
                    this,
                  ),
                  t.off(
                    S.SUBTITLE_FRAG_PROCESSED,
                    this.onSubtitleFragProcessed,
                    this,
                  ),
                  t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this),
                  t.off(S.FRAG_BUFFERED, this.onFragBuffered, this));
              }
              startLoad(t) {
                (this.stopLoad(),
                  (this.state = Br),
                  this.setInterval(500),
                  (this.nextLoadPosition =
                    this.startPosition =
                    this.lastCurrentTime =
                      t),
                  this.tick());
              }
              onManifestLoading() {
                ((this.mainDetails = null),
                  this.fragmentTracker.removeAllFragments());
              }
              onMediaDetaching() {
                ((this.tracksBuffered = []), super.onMediaDetaching());
              }
              onLevelLoaded(t, data) {
                this.mainDetails = data.details;
              }
              onSubtitleFragProcessed(t, data) {
                const { frag: e, success: r } = data;
                if (((this.fragPrevious = e), (this.state = Br), !r)) return;
                const n = this.tracksBuffered[this.currentTrackId];
                if (!n) return;
                let o;
                const l = e.start;
                for (let i = 0; i < n.length; i++)
                  if (l >= n[i].start && l <= n[i].end) {
                    o = n[i];
                    break;
                  }
                const c = e.start + e.duration;
                (o ? (o.end = c) : ((o = { start: l, end: c }), n.push(o)),
                  this.fragmentTracker.fragBuffered(e));
              }
              onBufferFlushing(t, data) {
                const { startOffset: e, endOffset: r } = data;
                if (0 === e && r !== Number.POSITIVE_INFINITY) {
                  const t = r - 1;
                  if (t <= 0) return;
                  ((data.endOffsetSubtitles = Math.max(0, t)),
                    this.tracksBuffered.forEach((e) => {
                      for (let i = 0; i < e.length; )
                        if (e[i].end <= t) e.shift();
                        else {
                          if (!(e[i].start < t)) break;
                          ((e[i].start = t), i++);
                        }
                    }),
                    this.fragmentTracker.removeFragmentsInRange(
                      e,
                      t,
                      fe.SUBTITLE,
                    ));
                }
              }
              onFragBuffered(t, data) {
                var e;
                this.loadedmetadata ||
                  data.frag.type !== fe.MAIN ||
                  (null != (e = this.media) &&
                    e.buffered.length &&
                    (this.loadedmetadata = !0));
              }
              onError(t, data) {
                const e = data.frag;
                (null == e ? void 0 : e.type) === fe.SUBTITLE &&
                  (this.fragCurrent && this.fragCurrent.abortRequests(),
                  this.state !== Nr && (this.state = Br));
              }
              onSubtitleTracksUpdated(t, { subtitleTracks: e }) {
                oi(this.levels, e)
                  ? (this.levels = e.map((t) => new Oe(t)))
                  : ((this.tracksBuffered = []),
                    (this.levels = e.map((t) => {
                      const e = new Oe(t);
                      return ((this.tracksBuffered[e.id] = []), e);
                    })),
                    this.fragmentTracker.removeFragmentsInRange(
                      0,
                      Number.POSITIVE_INFINITY,
                      fe.SUBTITLE,
                    ),
                    (this.fragPrevious = null),
                    (this.mediaBuffer = null));
              }
              onSubtitleTrackSwitch(t, data) {
                if (
                  ((this.currentTrackId = data.id),
                  !this.levels.length || -1 === this.currentTrackId)
                )
                  return void this.clearInterval();
                const e = this.levels[this.currentTrackId];
                (null != e && e.details
                  ? (this.mediaBuffer = this.mediaBufferTimeRanges)
                  : (this.mediaBuffer = null),
                  e && this.setInterval(500));
              }
              onSubtitleTrackLoaded(t, data) {
                var e;
                const { details: r, id: n } = data,
                  { currentTrackId: o, levels: l } = this;
                if (!l.length) return;
                const track = l[o];
                if (n >= l.length || n !== o || !track) return;
                this.mediaBuffer = this.mediaBufferTimeRanges;
                let c = 0;
                if (r.live || (null != (e = track.details) && e.live)) {
                  const t = this.mainDetails;
                  if (r.deltaUpdateFailed || !t) return;
                  const e = t.fragments[0];
                  track.details
                    ? ((c = this.alignPlaylists(r, track.details)),
                      0 === c && e && ((c = e.start), Ne(r, c)))
                    : r.hasProgramDateTime && t.hasProgramDateTime
                      ? (Rr(r, t), (c = r.fragments[0].start))
                      : e && ((c = e.start), Ne(r, c));
                }
                if (
                  ((track.details = r),
                  (this.levelLastLoaded = n),
                  this.startFragRequested ||
                    (!this.mainDetails && r.live) ||
                    this.setStartPosition(track.details, c),
                  this.tick(),
                  r.live &&
                    !this.fragCurrent &&
                    this.media &&
                    this.state === Br)
                ) {
                  Ye(null, r.fragments, this.media.currentTime, 0) ||
                    (this.warn("Subtitle playlist not aligned with playback"),
                    (track.details = void 0));
                }
              }
              _handleFragmentLoadComplete(t) {
                const { frag: e, payload: r } = t,
                  n = e.decryptdata,
                  o = this.hls;
                if (
                  !this.fragContextChanged(e) &&
                  r &&
                  r.byteLength > 0 &&
                  n &&
                  n.key &&
                  n.iv &&
                  "AES-128" === n.method
                ) {
                  const t = performance.now();
                  this.decrypter
                    .decrypt(new Uint8Array(r), n.key.buffer, n.iv.buffer)
                    .catch((t) => {
                      throw (
                        o.trigger(S.ERROR, {
                          type: _.MEDIA_ERROR,
                          details: w.FRAG_DECRYPT_ERROR,
                          fatal: !1,
                          error: t,
                          reason: t.message,
                          frag: e,
                        }),
                        t
                      );
                    })
                    .then((r) => {
                      const n = performance.now();
                      o.trigger(S.FRAG_DECRYPTED, {
                        frag: e,
                        payload: r,
                        stats: { tstart: t, tdecrypt: n },
                      });
                    })
                    .catch((t) => {
                      (this.warn(`${t.name}: ${t.message}`), (this.state = Br));
                    });
                }
              }
              doTick() {
                if (this.media) {
                  if (this.state === Br) {
                    const { currentTrackId: t, levels: e } = this,
                      track = e[t];
                    if (!e.length || !track || !track.details) return;
                    const { config: r } = this,
                      n = this.getLoadPosition(),
                      o = wr.bufferedInfo(
                        this.tracksBuffered[this.currentTrackId] || [],
                        n,
                        r.maxBufferHole,
                      ),
                      { end: l, len: c } = o,
                      h = this.getFwdBufferInfo(this.media, fe.MAIN),
                      d = track.details;
                    if (
                      c >
                      this.getMaxBufferLength(null == h ? void 0 : h.len) +
                        d.levelTargetDuration
                    )
                      return;
                    const f = d.fragments,
                      m = f.length,
                      y = d.edge;
                    let v = null;
                    const E = this.fragPrevious;
                    if (l < y) {
                      const t = r.maxFragLookUpTolerance,
                        e = l > y - t ? 0 : t;
                      ((v = Ye(E, f, Math.max(f[0].start, l), e)),
                        !v && E && E.start < f[0].start && (v = f[0]));
                    } else v = f[m - 1];
                    if (!v) return;
                    if (
                      ((v = this.mapToInitFragWhenRequired(v)),
                      "initSegment" !== v.sn)
                    ) {
                      const t = f[v.sn - d.startSN - 1];
                      t &&
                        t.cc === v.cc &&
                        this.fragmentTracker.getState(t) === lr &&
                        (v = t);
                    }
                    this.fragmentTracker.getState(v) === lr &&
                      this.loadFragment(v, track, l);
                  }
                } else this.state = Br;
              }
              getMaxBufferLength(t) {
                const e = super.getMaxBufferLength();
                return t ? Math.max(e, t) : e;
              }
              loadFragment(t, e, r) {
                ((this.fragCurrent = t),
                  "initSegment" === t.sn
                    ? this._loadInitSegment(t, e)
                    : ((this.startFragRequested = !0),
                      super.loadFragment(t, e, r)));
              }
              get mediaBufferTimeRanges() {
                return new ci(this.tracksBuffered[this.currentTrackId] || []);
              }
            },
            subtitleTrackController: class extends nr {
              constructor(t) {
                (super(t, "[subtitle-track-controller]"),
                  (this.media = null),
                  (this.tracks = []),
                  (this.groupId = null),
                  (this.tracksInGroup = []),
                  (this.trackId = -1),
                  (this.selectDefaultTrack = !0),
                  (this.queuedDefaultTrack = -1),
                  (this.trackChangeListener = () => this.onTextTracksChanged()),
                  (this.asyncPollTrackChange = () => this.pollTrackChange(0)),
                  (this.useTextTrackPolling = !1),
                  (this.subtitlePollingInterval = -1),
                  (this._subtitleDisplay = !0),
                  this.registerListeners());
              }
              destroy() {
                (this.unregisterListeners(),
                  (this.tracks.length = 0),
                  (this.tracksInGroup.length = 0),
                  (this.trackChangeListener = this.asyncPollTrackChange = null),
                  super.destroy());
              }
              get subtitleDisplay() {
                return this._subtitleDisplay;
              }
              set subtitleDisplay(t) {
                ((this._subtitleDisplay = t),
                  this.trackId > -1 && this.toggleTrackModes(this.trackId));
              }
              registerListeners() {
                const { hls: t } = this;
                (t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this),
                  t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                  t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.on(S.MANIFEST_PARSED, this.onManifestParsed, this),
                  t.on(S.LEVEL_LOADING, this.onLevelLoading, this),
                  t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this),
                  t.on(
                    S.SUBTITLE_TRACK_LOADED,
                    this.onSubtitleTrackLoaded,
                    this,
                  ),
                  t.on(S.ERROR, this.onError, this));
              }
              unregisterListeners() {
                const { hls: t } = this;
                (t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this),
                  t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                  t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.off(S.MANIFEST_PARSED, this.onManifestParsed, this),
                  t.off(S.LEVEL_LOADING, this.onLevelLoading, this),
                  t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this),
                  t.off(
                    S.SUBTITLE_TRACK_LOADED,
                    this.onSubtitleTrackLoaded,
                    this,
                  ),
                  t.off(S.ERROR, this.onError, this));
              }
              onMediaAttached(t, data) {
                ((this.media = data.media),
                  this.media &&
                    (this.queuedDefaultTrack > -1 &&
                      ((this.subtitleTrack = this.queuedDefaultTrack),
                      (this.queuedDefaultTrack = -1)),
                    (this.useTextTrackPolling = !(
                      this.media.textTracks &&
                      "onchange" in this.media.textTracks
                    )),
                    this.useTextTrackPolling
                      ? this.pollTrackChange(500)
                      : this.media.textTracks.addEventListener(
                          "change",
                          this.asyncPollTrackChange,
                        )));
              }
              pollTrackChange(t) {
                (self.clearInterval(this.subtitlePollingInterval),
                  (this.subtitlePollingInterval = self.setInterval(
                    this.trackChangeListener,
                    t,
                  )));
              }
              onMediaDetaching() {
                if (!this.media) return;
                (self.clearInterval(this.subtitlePollingInterval),
                  this.useTextTrackPolling ||
                    this.media.textTracks.removeEventListener(
                      "change",
                      this.asyncPollTrackChange,
                    ),
                  this.trackId > -1 &&
                    (this.queuedDefaultTrack = this.trackId));
                (hi(this.media.textTracks).forEach((track) => {
                  be(track);
                }),
                  (this.subtitleTrack = -1),
                  (this.media = null));
              }
              onManifestLoading() {
                ((this.tracks = []),
                  (this.groupId = null),
                  (this.tracksInGroup = []),
                  (this.trackId = -1),
                  (this.selectDefaultTrack = !0));
              }
              onManifestParsed(t, data) {
                this.tracks = data.subtitleTracks;
              }
              onSubtitleTrackLoaded(t, data) {
                const { id: e, details: details } = data,
                  { trackId: r } = this,
                  n = this.tracksInGroup[r];
                if (!n) return void this.warn(`Invalid subtitle track id ${e}`);
                const o = n.details;
                ((n.details = data.details),
                  this.log(
                    `subtitle track ${e} loaded [${details.startSN}-${details.endSN}]`,
                  ),
                  e === this.trackId && this.playlistLoaded(e, data, o));
              }
              onLevelLoading(t, data) {
                this.switchLevel(data.level);
              }
              onLevelSwitching(t, data) {
                this.switchLevel(data.level);
              }
              switchLevel(t) {
                const e = this.hls.levels[t];
                if (null == e || !e.textGroupIds) return;
                const r = e.textGroupIds[e.urlId],
                  n = this.tracksInGroup
                    ? this.tracksInGroup[this.trackId]
                    : void 0;
                if (this.groupId !== r) {
                  const t = this.tracks.filter(
                    (track) => !r || track.groupId === r,
                  );
                  this.tracksInGroup = t;
                  const e =
                    this.findTrackId(null == n ? void 0 : n.name) ||
                    this.findTrackId();
                  this.groupId = r || null;
                  const o = { subtitleTracks: t };
                  (this.log(
                    `Updating subtitle tracks, ${t.length} track(s) found in "${r}" group-id`,
                  ),
                    this.hls.trigger(S.SUBTITLE_TRACKS_UPDATED, o),
                    -1 !== e && this.setSubtitleTrack(e, n));
                } else
                  this.shouldReloadPlaylist(n) &&
                    this.setSubtitleTrack(this.trackId, n);
              }
              findTrackId(t) {
                const e = this.tracksInGroup;
                for (let i = 0; i < e.length; i++) {
                  const track = e[i];
                  if (
                    (!this.selectDefaultTrack || track.default) &&
                    (!t || t === track.name)
                  )
                    return track.id;
                }
                return -1;
              }
              onError(t, data) {
                !data.fatal &&
                  data.context &&
                  data.context.type === de.SUBTITLE_TRACK &&
                  data.context.id === this.trackId &&
                  data.context.groupId === this.groupId &&
                  this.checkRetry(data);
              }
              get subtitleTracks() {
                return this.tracksInGroup;
              }
              get subtitleTrack() {
                return this.trackId;
              }
              set subtitleTrack(t) {
                this.selectDefaultTrack = !1;
                const e = this.tracksInGroup
                  ? this.tracksInGroup[this.trackId]
                  : void 0;
                this.setSubtitleTrack(t, e);
              }
              loadPlaylist(t) {
                super.loadPlaylist();
                const e = this.tracksInGroup[this.trackId];
                if (this.shouldLoadPlaylist(e)) {
                  const r = e.id,
                    n = e.groupId;
                  let o = e.url;
                  if (t)
                    try {
                      o = t.addDirectives(o);
                    } catch (t) {
                      this.warn(
                        `Could not construct new URL with HLS Delivery Directives: ${t}`,
                      );
                    }
                  (this.log(`Loading subtitle playlist for id ${r}`),
                    this.hls.trigger(S.SUBTITLE_TRACK_LOADING, {
                      url: o,
                      id: r,
                      groupId: n,
                      deliveryDirectives: t || null,
                    }));
                }
              }
              toggleTrackModes(t) {
                const { media: e, trackId: r } = this;
                if (!e) return;
                const n = hi(e.textTracks),
                  o = n.filter((track) => track.groupId === this.groupId);
                if (-1 === t)
                  [].slice.call(n).forEach((track) => {
                    track.mode = "disabled";
                  });
                else {
                  const t = o[r];
                  t && (t.mode = "disabled");
                }
                const l = o[t];
                l && (l.mode = this.subtitleDisplay ? "showing" : "hidden");
              }
              setSubtitleTrack(t, e) {
                var r;
                const n = this.tracksInGroup;
                if (!this.media) return void (this.queuedDefaultTrack = t);
                if (
                  (this.trackId !== t && this.toggleTrackModes(t),
                  (this.trackId === t &&
                    (-1 === t || (null != (r = n[t]) && r.details))) ||
                    t < -1 ||
                    t >= n.length)
                )
                  return;
                this.clearTimer();
                const track = n[t];
                if (
                  (this.log(
                    `Switching to subtitle-track ${t}` +
                      (track
                        ? ` "${track.name}" lang:${track.lang} group:${track.groupId}`
                        : ""),
                  ),
                  (this.trackId = t),
                  track)
                ) {
                  const {
                    id: t,
                    groupId: r = "",
                    name: n,
                    type: o,
                    url: l,
                  } = track;
                  this.hls.trigger(S.SUBTITLE_TRACK_SWITCH, {
                    id: t,
                    groupId: r,
                    name: n,
                    type: o,
                    url: l,
                  });
                  const c = this.switchParams(
                    track.url,
                    null == e ? void 0 : e.details,
                  );
                  this.loadPlaylist(c);
                } else this.hls.trigger(S.SUBTITLE_TRACK_SWITCH, { id: t });
              }
              onTextTracksChanged() {
                if (
                  (this.useTextTrackPolling ||
                    self.clearInterval(this.subtitlePollingInterval),
                  !this.media || !this.hls.config.renderTextTracksNatively)
                )
                  return;
                let t = -1;
                const e = hi(this.media.textTracks);
                for (let r = 0; r < e.length; r++)
                  if ("hidden" === e[r].mode) t = r;
                  else if ("showing" === e[r].mode) {
                    t = r;
                    break;
                  }
                this.subtitleTrack !== t && (this.subtitleTrack = t);
              }
            },
            timelineController: class {
              constructor(t) {
                if (
                  ((this.hls = void 0),
                  (this.media = null),
                  (this.config = void 0),
                  (this.enabled = !0),
                  (this.Cues = void 0),
                  (this.textTracks = []),
                  (this.tracks = []),
                  (this.initPTS = []),
                  (this.unparsedVttFrags = []),
                  (this.captionsTracks = {}),
                  (this.nonNativeCaptionsTracks = {}),
                  (this.cea608Parser1 = void 0),
                  (this.cea608Parser2 = void 0),
                  (this.lastSn = -1),
                  (this.lastPartIndex = -1),
                  (this.prevCC = -1),
                  (this.vttCCs = {
                    ccOffset: 0,
                    presentationOffset: 0,
                    0: { start: 0, prevCC: -1, new: !0 },
                  }),
                  (this.captionsProperties = void 0),
                  (this.hls = t),
                  (this.config = t.config),
                  (this.Cues = t.config.cueHandler),
                  (this.captionsProperties = {
                    textTrack1: {
                      label: this.config.captionsTextTrack1Label,
                      languageCode: this.config.captionsTextTrack1LanguageCode,
                    },
                    textTrack2: {
                      label: this.config.captionsTextTrack2Label,
                      languageCode: this.config.captionsTextTrack2LanguageCode,
                    },
                    textTrack3: {
                      label: this.config.captionsTextTrack3Label,
                      languageCode: this.config.captionsTextTrack3LanguageCode,
                    },
                    textTrack4: {
                      label: this.config.captionsTextTrack4Label,
                      languageCode: this.config.captionsTextTrack4LanguageCode,
                    },
                  }),
                  this.config.enableCEA708Captions)
                ) {
                  const t = new Pi(this, "textTrack1"),
                    e = new Pi(this, "textTrack2"),
                    r = new Pi(this, "textTrack3"),
                    n = new Pi(this, "textTrack4");
                  ((this.cea608Parser1 = new Ri(1, t, e)),
                    (this.cea608Parser2 = new Ri(3, r, n)));
                }
                (t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this),
                  t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                  t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this),
                  t.on(
                    S.SUBTITLE_TRACKS_UPDATED,
                    this.onSubtitleTracksUpdated,
                    this,
                  ),
                  t.on(S.FRAG_LOADING, this.onFragLoading, this),
                  t.on(S.FRAG_LOADED, this.onFragLoaded, this),
                  t.on(
                    S.FRAG_PARSING_USERDATA,
                    this.onFragParsingUserdata,
                    this,
                  ),
                  t.on(S.FRAG_DECRYPTED, this.onFragDecrypted, this),
                  t.on(S.INIT_PTS_FOUND, this.onInitPtsFound, this),
                  t.on(
                    S.SUBTITLE_TRACKS_CLEARED,
                    this.onSubtitleTracksCleared,
                    this,
                  ),
                  t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this));
              }
              destroy() {
                const { hls: t } = this;
                (t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this),
                  t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                  t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this),
                  t.off(
                    S.SUBTITLE_TRACKS_UPDATED,
                    this.onSubtitleTracksUpdated,
                    this,
                  ),
                  t.off(S.FRAG_LOADING, this.onFragLoading, this),
                  t.off(S.FRAG_LOADED, this.onFragLoaded, this),
                  t.off(
                    S.FRAG_PARSING_USERDATA,
                    this.onFragParsingUserdata,
                    this,
                  ),
                  t.off(S.FRAG_DECRYPTED, this.onFragDecrypted, this),
                  t.off(S.INIT_PTS_FOUND, this.onInitPtsFound, this),
                  t.off(
                    S.SUBTITLE_TRACKS_CLEARED,
                    this.onSubtitleTracksCleared,
                    this,
                  ),
                  t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this),
                  (this.hls =
                    this.config =
                    this.cea608Parser1 =
                    this.cea608Parser2 =
                      null));
              }
              addCues(t, e, r, n, o) {
                let l = !1;
                for (let i = o.length; i--; ) {
                  const t = o[i],
                    n =
                      ((c = t[0]),
                      (h = t[1]),
                      (d = e),
                      (f = r),
                      Math.min(h, f) - Math.max(c, d));
                  if (
                    n >= 0 &&
                    ((t[0] = Math.min(t[0], e)),
                    (t[1] = Math.max(t[1], r)),
                    (l = !0),
                    n / (r - e) > 0.5)
                  )
                    return;
                }
                var c, h, d, f;
                if (
                  (l || o.push([e, r]), this.config.renderTextTracksNatively)
                ) {
                  const track = this.captionsTracks[t];
                  this.Cues.newCue(track, e, r, n);
                } else {
                  const o = this.Cues.newCue(null, e, r, n);
                  this.hls.trigger(S.CUES_PARSED, {
                    type: "captions",
                    cues: o,
                    track: t,
                  });
                }
              }
              onInitPtsFound(t, { frag: e, id: r, initPTS: n, timescale: o }) {
                const { unparsedVttFrags: l } = this;
                ("main" === r &&
                  (this.initPTS[e.cc] = { baseTime: n, timescale: o }),
                  l.length &&
                    ((this.unparsedVttFrags = []),
                    l.forEach((t) => {
                      this.onFragLoaded(S.FRAG_LOADED, t);
                    })));
              }
              getExistingTrack(t) {
                const { media: e } = this;
                if (e)
                  for (let i = 0; i < e.textTracks.length; i++) {
                    const r = e.textTracks[i];
                    if (r[t]) return r;
                  }
                return null;
              }
              createCaptionsTrack(t) {
                this.config.renderTextTracksNatively
                  ? this.createNativeTrack(t)
                  : this.createNonNativeTrack(t);
              }
              createNativeTrack(t) {
                if (this.captionsTracks[t]) return;
                const {
                    captionsProperties: e,
                    captionsTracks: r,
                    media: n,
                  } = this,
                  { label: label, languageCode: o } = e[t],
                  l = this.getExistingTrack(t);
                if (l) ((r[t] = l), be(r[t]), ye(r[t], n));
                else {
                  const e = this.createTextTrack("captions", label, o);
                  e && ((e[t] = !0), (r[t] = e));
                }
              }
              createNonNativeTrack(t) {
                if (this.nonNativeCaptionsTracks[t]) return;
                const e = this.captionsProperties[t];
                if (!e) return;
                const track = {
                  _id: t,
                  label: e.label,
                  kind: "captions",
                  default: !!e.media && !!e.media.default,
                  closedCaptions: e.media,
                };
                ((this.nonNativeCaptionsTracks[t] = track),
                  this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND, {
                    tracks: [track],
                  }));
              }
              createTextTrack(t, label, e) {
                const r = this.media;
                if (r) return r.addTextTrack(t, label, e);
              }
              onMediaAttaching(t, data) {
                ((this.media = data.media), this._cleanTracks());
              }
              onMediaDetaching() {
                const { captionsTracks: t } = this;
                (Object.keys(t).forEach((e) => {
                  (be(t[e]), delete t[e]);
                }),
                  (this.nonNativeCaptionsTracks = {}));
              }
              onManifestLoading() {
                ((this.lastSn = -1),
                  (this.lastPartIndex = -1),
                  (this.prevCC = -1),
                  (this.vttCCs = {
                    ccOffset: 0,
                    presentationOffset: 0,
                    0: { start: 0, prevCC: -1, new: !0 },
                  }),
                  this._cleanTracks(),
                  (this.tracks = []),
                  (this.captionsTracks = {}),
                  (this.nonNativeCaptionsTracks = {}),
                  (this.textTracks = []),
                  (this.unparsedVttFrags = []),
                  (this.initPTS = []),
                  this.cea608Parser1 &&
                    this.cea608Parser2 &&
                    (this.cea608Parser1.reset(), this.cea608Parser2.reset()));
              }
              _cleanTracks() {
                const { media: t } = this;
                if (!t) return;
                const e = t.textTracks;
                if (e) for (let i = 0; i < e.length; i++) be(e[i]);
              }
              onSubtitleTracksUpdated(t, data) {
                const e = data.subtitleTracks || [],
                  r = e.some((track) => track.textCodec === Xi);
                if (
                  this.config.enableWebVTT ||
                  (r && this.config.enableIMSC1)
                ) {
                  if (oi(this.tracks, e)) return void (this.tracks = e);
                  if (
                    ((this.textTracks = []),
                    (this.tracks = e),
                    this.config.renderTextTracksNatively)
                  ) {
                    const t = this.media ? this.media.textTracks : null;
                    this.tracks.forEach((track, e) => {
                      let r;
                      if (t && e < t.length) {
                        let e = null;
                        for (let i = 0; i < t.length; i++)
                          if (os(t[i], track)) {
                            e = t[i];
                            break;
                          }
                        e && (r = e);
                      }
                      if (r) be(r);
                      else {
                        const t =
                          this._captionsOrSubtitlesFromCharacteristics(track);
                        ((r = this.createTextTrack(t, track.name, track.lang)),
                          r && (r.mode = "disabled"));
                      }
                      r &&
                        ((r.groupId = track.groupId), this.textTracks.push(r));
                    });
                  } else if (this.tracks.length) {
                    const t = this.tracks.map((track) => ({
                      label: track.name,
                      kind: track.type.toLowerCase(),
                      default: track.default,
                      subtitleTrack: track,
                    }));
                    this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND, {
                      tracks: t,
                    });
                  }
                }
              }
              _captionsOrSubtitlesFromCharacteristics(track) {
                if (track.attrs.CHARACTERISTICS) {
                  const t = /transcribes-spoken-dialog/gi.test(
                      track.attrs.CHARACTERISTICS,
                    ),
                    e = /describes-music-and-sound/gi.test(
                      track.attrs.CHARACTERISTICS,
                    );
                  if (t && e) return "captions";
                }
                return "subtitles";
              }
              onManifestLoaded(t, data) {
                this.config.enableCEA708Captions &&
                  data.captions &&
                  data.captions.forEach((t) => {
                    const e = /(?:CC|SERVICE)([1-4])/.exec(t.instreamId);
                    if (!e) return;
                    const r = `textTrack${e[1]}`,
                      n = this.captionsProperties[r];
                    n &&
                      ((n.label = t.name),
                      t.lang && (n.languageCode = t.lang),
                      (n.media = t));
                  });
              }
              closedCaptionsForLevel(t) {
                const e = this.hls.levels[t.level];
                return null == e ? void 0 : e.attrs["CLOSED-CAPTIONS"];
              }
              onFragLoading(t, data) {
                const {
                  cea608Parser1: e,
                  cea608Parser2: r,
                  lastSn: n,
                  lastPartIndex: o,
                } = this;
                if (this.enabled && e && r && data.frag.type === fe.MAIN) {
                  var l, c;
                  const t = data.frag.sn,
                    h =
                      null !=
                      (l =
                        null == data || null == (c = data.part)
                          ? void 0
                          : c.index)
                        ? l
                        : -1;
                  (t === n + 1 ||
                    (t === n && h === o + 1) ||
                    (e.reset(), r.reset()),
                    (this.lastSn = t),
                    (this.lastPartIndex = h));
                }
              }
              onFragLoaded(t, data) {
                const { frag: e, payload: r } = data;
                if (e.type === fe.SUBTITLE)
                  if (r.byteLength) {
                    const t = e.decryptdata,
                      n = "stats" in data;
                    if (null == t || !t.encrypted || n) {
                      const t = this.tracks[e.level],
                        n = this.vttCCs;
                      (n[e.cc] ||
                        ((n[e.cc] = {
                          start: e.start,
                          prevCC: this.prevCC,
                          new: !0,
                        }),
                        (this.prevCC = e.cc)),
                        t && t.textCodec === Xi
                          ? this._parseIMSC1(e, r)
                          : this._parseVTTs(data));
                    }
                  } else
                    this.hls.trigger(S.SUBTITLE_FRAG_PROCESSED, {
                      success: !1,
                      frag: e,
                      error: new Error("Empty subtitle payload"),
                    });
              }
              _parseIMSC1(t, e) {
                const r = this.hls;
                ts(
                  e,
                  this.initPTS[t.cc],
                  (e) => {
                    (this._appendCues(e, t.level),
                      r.trigger(S.SUBTITLE_FRAG_PROCESSED, {
                        success: !0,
                        frag: t,
                      }));
                  },
                  (e) => {
                    (C.log(`Failed to parse IMSC1: ${e}`),
                      r.trigger(S.SUBTITLE_FRAG_PROCESSED, {
                        success: !1,
                        frag: t,
                        error: e,
                      }));
                  },
                );
              }
              _parseVTTs(data) {
                var t;
                const { frag: e, payload: r } = data,
                  { initPTS: n, unparsedVttFrags: o } = this,
                  l = n.length - 1;
                if (!n[e.cc] && -1 === l) return void o.push(data);
                const c = this.hls;
                qi(
                  null != (t = e.initSegment) && t.data
                    ? Ft(e.initSegment.data, new Uint8Array(r))
                    : r,
                  this.initPTS[e.cc],
                  this.vttCCs,
                  e.cc,
                  e.start,
                  (t) => {
                    (this._appendCues(t, e.level),
                      c.trigger(S.SUBTITLE_FRAG_PROCESSED, {
                        success: !0,
                        frag: e,
                      }));
                  },
                  (t) => {
                    const n = "Missing initPTS for VTT MPEGTS" === t.message;
                    (n ? o.push(data) : this._fallbackToIMSC1(e, r),
                      C.log(`Failed to parse VTT cue: ${t}`),
                      (n && l > e.cc) ||
                        c.trigger(S.SUBTITLE_FRAG_PROCESSED, {
                          success: !1,
                          frag: e,
                          error: t,
                        }));
                  },
                );
              }
              _fallbackToIMSC1(t, e) {
                const r = this.tracks[t.level];
                r.textCodec ||
                  ts(
                    e,
                    this.initPTS[t.cc],
                    () => {
                      ((r.textCodec = Xi), this._parseIMSC1(t, e));
                    },
                    () => {
                      r.textCodec = "wvtt";
                    },
                  );
              }
              _appendCues(t, e) {
                const r = this.hls;
                if (this.config.renderTextTracksNatively) {
                  const r = this.textTracks[e];
                  if (!r || "disabled" === r.mode) return;
                  t.forEach((t) => ve(r, t));
                } else {
                  const n = this.tracks[e];
                  if (!n) return;
                  const track = n.default ? "default" : "subtitles" + e;
                  r.trigger(S.CUES_PARSED, {
                    type: "subtitles",
                    cues: t,
                    track: track,
                  });
                }
              }
              onFragDecrypted(t, data) {
                const { frag: e } = data;
                e.type === fe.SUBTITLE &&
                  this.onFragLoaded(S.FRAG_LOADED, data);
              }
              onSubtitleTracksCleared() {
                ((this.tracks = []), (this.captionsTracks = {}));
              }
              onFragParsingUserdata(t, data) {
                const { cea608Parser1: e, cea608Parser2: r } = this;
                if (!this.enabled || !e || !r) return;
                const { frag: n, samples: o } = data;
                if (
                  n.type !== fe.MAIN ||
                  "NONE" !== this.closedCaptionsForLevel(n)
                )
                  for (let i = 0; i < o.length; i++) {
                    const t = o[i].bytes;
                    if (t) {
                      const n = this.extractCea608Data(t);
                      (e.addData(o[i].pts, n[0]), r.addData(o[i].pts, n[1]));
                    }
                  }
              }
              onBufferFlushing(
                t,
                {
                  startOffset: e,
                  endOffset: r,
                  endOffsetSubtitles: n,
                  type: o,
                },
              ) {
                const { media: l } = this;
                if (l && !(l.currentTime < r)) {
                  if (!o || "video" === o) {
                    const { captionsTracks: t } = this;
                    Object.keys(t).forEach((n) => Ee(t[n], e, r));
                  }
                  if (
                    this.config.renderTextTracksNatively &&
                    0 === e &&
                    void 0 !== n
                  ) {
                    const { textTracks: t } = this;
                    Object.keys(t).forEach((r) => Ee(t[r], e, n));
                  }
                }
              }
              extractCea608Data(t) {
                const e = [[], []],
                  r = 31 & t[0];
                let n = 2;
                for (let o = 0; o < r; o++) {
                  const r = t[n++],
                    o = 127 & t[n++],
                    l = 127 & t[n++];
                  if (0 === o && 0 === l) continue;
                  if (0 != (4 & r)) {
                    const t = 3 & r;
                    (0 !== t && 1 !== t) || (e[t].push(o), e[t].push(l));
                  }
                }
                return e;
              }
            },
            audioStreamController: class extends qr {
              constructor(t, e, r) {
                (super(t, e, r, "[audio-stream-controller]", fe.AUDIO),
                  (this.videoBuffer = null),
                  (this.videoTrackCC = -1),
                  (this.waitingVideoCC = -1),
                  (this.bufferedTrack = null),
                  (this.switchingTrack = null),
                  (this.trackId = -1),
                  (this.waitingData = null),
                  (this.mainDetails = null),
                  (this.bufferFlushed = !1),
                  (this.cachedTrackLoadedData = null),
                  this._registerListeners());
              }
              onHandlerDestroying() {
                (this._unregisterListeners(),
                  (this.mainDetails = null),
                  (this.bufferedTrack = null),
                  (this.switchingTrack = null));
              }
              _registerListeners() {
                const { hls: t } = this;
                (t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this),
                  t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                  t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.on(S.LEVEL_LOADED, this.onLevelLoaded, this),
                  t.on(S.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this),
                  t.on(
                    S.AUDIO_TRACK_SWITCHING,
                    this.onAudioTrackSwitching,
                    this,
                  ),
                  t.on(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
                  t.on(S.ERROR, this.onError, this),
                  t.on(S.BUFFER_RESET, this.onBufferReset, this),
                  t.on(S.BUFFER_CREATED, this.onBufferCreated, this),
                  t.on(S.BUFFER_FLUSHED, this.onBufferFlushed, this),
                  t.on(S.INIT_PTS_FOUND, this.onInitPtsFound, this),
                  t.on(S.FRAG_BUFFERED, this.onFragBuffered, this));
              }
              _unregisterListeners() {
                const { hls: t } = this;
                (t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this),
                  t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this),
                  t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.off(S.LEVEL_LOADED, this.onLevelLoaded, this),
                  t.off(
                    S.AUDIO_TRACKS_UPDATED,
                    this.onAudioTracksUpdated,
                    this,
                  ),
                  t.off(
                    S.AUDIO_TRACK_SWITCHING,
                    this.onAudioTrackSwitching,
                    this,
                  ),
                  t.off(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
                  t.off(S.ERROR, this.onError, this),
                  t.off(S.BUFFER_RESET, this.onBufferReset, this),
                  t.off(S.BUFFER_CREATED, this.onBufferCreated, this),
                  t.off(S.BUFFER_FLUSHED, this.onBufferFlushed, this),
                  t.off(S.INIT_PTS_FOUND, this.onInitPtsFound, this),
                  t.off(S.FRAG_BUFFERED, this.onFragBuffered, this));
              }
              onInitPtsFound(t, { frag: e, id: r, initPTS: n, timescale: o }) {
                if ("main" === r) {
                  const t = e.cc;
                  ((this.initPTS[e.cc] = { baseTime: n, timescale: o }),
                    this.log(`InitPTS for cc: ${t} found from main: ${n}`),
                    (this.videoTrackCC = t),
                    this.state === zr && this.tick());
                }
              }
              startLoad(t) {
                if (!this.levels)
                  return ((this.startPosition = t), void (this.state = Nr));
                const e = this.lastCurrentTime;
                (this.stopLoad(),
                  this.setInterval(100),
                  e > 0 && -1 === t
                    ? (this.log(
                        `Override startPosition with lastCurrentTime @${e.toFixed(3)}`,
                      ),
                      (t = e),
                      (this.state = Br))
                    : ((this.loadedmetadata = !1), (this.state = Gr)),
                  (this.nextLoadPosition =
                    this.startPosition =
                    this.lastCurrentTime =
                      t),
                  this.tick());
              }
              doTick() {
                switch (this.state) {
                  case Br:
                    this.doTickIdle();
                    break;
                  case Gr: {
                    var t;
                    const { levels: e, trackId: r } = this,
                      details =
                        null == e || null == (t = e[r]) ? void 0 : t.details;
                    if (details) {
                      if (this.waitForCdnTuneIn(details)) break;
                      this.state = zr;
                    }
                    break;
                  }
                  case $r: {
                    var e;
                    const t = performance.now(),
                      r = this.retryDate;
                    (!r || t >= r || (null != (e = this.media) && e.seeking)) &&
                      (this.log("RetryDate reached, switch back to IDLE state"),
                      this.resetStartWhenNotLoaded(this.trackId),
                      (this.state = Br));
                    break;
                  }
                  case zr: {
                    const t = this.waitingData;
                    if (t) {
                      const { frag: e, part: r, cache: n, complete: o } = t;
                      if (void 0 !== this.initPTS[e.cc]) {
                        ((this.waitingData = null),
                          (this.waitingVideoCC = -1),
                          (this.state = jr));
                        const data = {
                          frag: e,
                          part: r,
                          payload: n.flush(),
                          networkDetails: null,
                        };
                        (this._handleFragmentLoadProgress(data),
                          o && super._handleFragmentLoadComplete(data));
                      } else if (this.videoTrackCC !== this.waitingVideoCC)
                        (this.log(
                          `Waiting fragment cc (${e.cc}) cancelled because video is at cc ${this.videoTrackCC}`,
                        ),
                          this.clearWaitingFragment());
                      else {
                        const t = this.getLoadPosition(),
                          r = wr.bufferInfo(
                            this.mediaBuffer,
                            t,
                            this.config.maxBufferHole,
                          );
                        ze(r.end, this.config.maxFragLookUpTolerance, e) < 0 &&
                          (this.log(
                            `Waiting fragment cc (${e.cc}) @ ${e.start} cancelled because another fragment at ${r.end} is needed`,
                          ),
                          this.clearWaitingFragment());
                      }
                    } else this.state = Br;
                  }
                }
                this.onTickEnd();
              }
              clearWaitingFragment() {
                const t = this.waitingData;
                t &&
                  (this.fragmentTracker.removeFragment(t.frag),
                  (this.waitingData = null),
                  (this.waitingVideoCC = -1),
                  (this.state = Br));
              }
              resetLoadingState() {
                (this.clearWaitingFragment(), super.resetLoadingState());
              }
              onTickEnd() {
                const { media: t } = this;
                null != t &&
                  t.readyState &&
                  (this.lastCurrentTime = t.currentTime);
              }
              doTickIdle() {
                const { hls: t, levels: e, media: r, trackId: n } = this,
                  o = t.config;
                if (null == e || !e[n]) return;
                if (!r && (this.startFragRequested || !o.startFragPrefetch))
                  return;
                const l = e[n],
                  c = l.details;
                if (
                  !c ||
                  (c.live && this.levelLastLoaded !== n) ||
                  this.waitForCdnTuneIn(c)
                )
                  return void (this.state = Gr);
                const h = this.mediaBuffer ? this.mediaBuffer : this.media;
                this.bufferFlushed &&
                  h &&
                  ((this.bufferFlushed = !1),
                  this.afterBufferFlushed(h, N.AUDIO, fe.AUDIO));
                const d = this.getFwdBufferInfo(h, fe.AUDIO);
                if (null === d) return;
                const { bufferedTrack: f, switchingTrack: m } = this;
                if (!m && this._streamEnded(d, c))
                  return (
                    t.trigger(S.BUFFER_EOS, { type: "audio" }),
                    void (this.state = Vr)
                  );
                const y = this.getFwdBufferInfo(
                    this.videoBuffer ? this.videoBuffer : this.media,
                    fe.MAIN,
                  ),
                  v = d.len,
                  E = this.getMaxBufferLength(null == y ? void 0 : y.len);
                if (v >= E && !m) return;
                const D = c.fragments[0].start;
                let T = d.end;
                if (m && r) {
                  const t = this.getLoadPosition();
                  (f && m.attrs !== f.attrs && (T = t),
                    c.PTSKnown &&
                      t < D &&
                      (d.end > D || d.nextStart) &&
                      (this.log(
                        "Alt audio track ahead of main track, seek to start of alt audio track",
                      ),
                      (r.currentTime = D + 0.05)));
                }
                let _ = this.getNextFragment(T, c),
                  w = !1;
                if (
                  (_ &&
                    this.isLoopLoading(_, T) &&
                    ((w = !!_.gap),
                    (_ = this.getNextFragmentLoopLoading(_, c, d, fe.MAIN, E))),
                  !_)
                )
                  return void (this.bufferFlushed = !0);
                const A = y && _.start > y.end + c.targetduration;
                if (A || ((null == y || !y.len) && d.len)) {
                  const t = this.getAppendedFrag(_.start, fe.MAIN);
                  if (null === t) return;
                  if (
                    (w || (w = !!t.gap || (!!A && 0 === y.len)),
                    (A && !w) || (w && d.nextStart && d.nextStart < t.end))
                  )
                    return;
                }
                this.loadFragment(_, l, T);
              }
              getMaxBufferLength(t) {
                const e = super.getMaxBufferLength();
                return t
                  ? Math.min(Math.max(e, t), this.config.maxMaxBufferLength)
                  : e;
              }
              onMediaDetaching() {
                ((this.videoBuffer = null), super.onMediaDetaching());
              }
              onAudioTracksUpdated(t, { audioTracks: e }) {
                (this.resetTransmuxer(),
                  (this.levels = e.map((t) => new Oe(t))));
              }
              onAudioTrackSwitching(t, data) {
                const e = !!data.url;
                this.trackId = data.id;
                const { fragCurrent: r } = this;
                (r && (r.abortRequests(), this.removeUnbufferedFrags(r.start)),
                  this.resetLoadingState(),
                  e ? this.setInterval(100) : this.resetTransmuxer(),
                  e
                    ? ((this.switchingTrack = data), (this.state = Br))
                    : ((this.switchingTrack = null),
                      (this.bufferedTrack = data),
                      (this.state = Nr)),
                  this.tick());
              }
              onManifestLoading() {
                (this.fragmentTracker.removeAllFragments(),
                  (this.startPosition = this.lastCurrentTime = 0),
                  (this.bufferFlushed = !1),
                  (this.levels =
                    this.mainDetails =
                    this.waitingData =
                    this.bufferedTrack =
                    this.cachedTrackLoadedData =
                    this.switchingTrack =
                      null),
                  (this.startFragRequested = !1),
                  (this.trackId =
                    this.videoTrackCC =
                    this.waitingVideoCC =
                      -1));
              }
              onLevelLoaded(t, data) {
                ((this.mainDetails = data.details),
                  null !== this.cachedTrackLoadedData &&
                    (this.hls.trigger(
                      S.AUDIO_TRACK_LOADED,
                      this.cachedTrackLoadedData,
                    ),
                    (this.cachedTrackLoadedData = null)));
              }
              onAudioTrackLoaded(t, data) {
                var e;
                if (null == this.mainDetails)
                  return void (this.cachedTrackLoadedData = data);
                const { levels: r } = this,
                  { details: n, id: o } = data;
                if (!r)
                  return void this.warn(
                    `Audio tracks were reset while loading level ${o}`,
                  );
                this.log(
                  `Track ${o} loaded [${n.startSN},${n.endSN}]${n.lastPartSn ? `[part-${n.lastPartSn}-${n.lastPartIndex}]` : ""},duration:${n.totalduration}`,
                );
                const track = r[o];
                let l = 0;
                if (n.live || (null != (e = track.details) && e.live)) {
                  this.checkLiveUpdate(n);
                  const t = this.mainDetails;
                  if (n.deltaUpdateFailed || !t) return;
                  !track.details && n.hasProgramDateTime && t.hasProgramDateTime
                    ? (Rr(n, t), (l = n.fragments[0].start))
                    : (l = this.alignPlaylists(n, track.details));
                }
                ((track.details = n),
                  (this.levelLastLoaded = o),
                  this.startFragRequested ||
                    (!this.mainDetails && n.live) ||
                    this.setStartPosition(track.details, l),
                  this.state !== Gr ||
                    this.waitForCdnTuneIn(n) ||
                    (this.state = Br),
                  this.tick());
              }
              _handleFragmentLoadProgress(data) {
                var t;
                const { frag: e, part: r, payload: n } = data,
                  { config: o, trackId: l, levels: c } = this;
                if (!c)
                  return void this.warn(
                    `Audio tracks were reset while fragment load was in progress. Fragment ${e.sn} of level ${e.level} will not be buffered`,
                  );
                const track = c[l];
                if (!track)
                  return void this.warn(
                    "Audio track is undefined on fragment load progress",
                  );
                const details = track.details;
                if (!details)
                  return (
                    this.warn(
                      "Audio track details undefined on fragment load progress",
                    ),
                    void this.removeUnbufferedFrags(e.start)
                  );
                const h =
                  o.defaultAudioCodec || track.audioCodec || "mp4a.40.2";
                let d = this.transmuxer;
                d ||
                  (d = this.transmuxer =
                    new ei(
                      this.hls,
                      fe.AUDIO,
                      this._handleTransmuxComplete.bind(this),
                      this._handleTransmuxerFlush.bind(this),
                    ));
                const f = this.initPTS[e.cc],
                  m = null == (t = e.initSegment) ? void 0 : t.data;
                if (void 0 !== f) {
                  const t = !1,
                    o = r ? r.index : -1,
                    l = -1 !== o,
                    c = new Ar(
                      e.level,
                      e.sn,
                      e.stats.chunkCount,
                      n.byteLength,
                      o,
                      l,
                    );
                  d.push(n, m, h, "", e, r, details.totalduration, t, c, f);
                } else {
                  this.log(
                    `Unknown video PTS for cc ${e.cc}, waiting for video PTS before demuxing audio frag ${e.sn} of [${details.startSN} ,${details.endSN}],track ${l}`,
                  );
                  const { cache: t } = (this.waitingData = this.waitingData || {
                    frag: e,
                    part: r,
                    cache: new ai(),
                    complete: !1,
                  });
                  (t.push(new Uint8Array(n)),
                    (this.waitingVideoCC = this.videoTrackCC),
                    (this.state = zr));
                }
              }
              _handleFragmentLoadComplete(t) {
                this.waitingData
                  ? (this.waitingData.complete = !0)
                  : super._handleFragmentLoadComplete(t);
              }
              onBufferReset() {
                ((this.mediaBuffer = this.videoBuffer = null),
                  (this.loadedmetadata = !1));
              }
              onBufferCreated(t, data) {
                const e = data.tracks.audio;
                (e && (this.mediaBuffer = e.buffer || null),
                  data.tracks.video &&
                    (this.videoBuffer = data.tracks.video.buffer || null));
              }
              onFragBuffered(t, data) {
                const { frag: e, part: r } = data;
                if (e.type === fe.AUDIO)
                  if (this.fragContextChanged(e))
                    this.warn(
                      `Fragment ${e.sn}${r ? " p: " + r.index : ""} of level ${e.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack ? this.switchingTrack.name : "false"}`,
                    );
                  else {
                    if ("initSegment" !== e.sn) {
                      this.fragPrevious = e;
                      const track = this.switchingTrack;
                      track &&
                        ((this.bufferedTrack = track),
                        (this.switchingTrack = null),
                        this.hls.trigger(S.AUDIO_TRACK_SWITCHED, v({}, track)));
                    }
                    this.fragBufferedComplete(e, r);
                  }
                else if (!this.loadedmetadata && e.type === fe.MAIN) {
                  const t = this.videoBuffer || this.media;
                  if (t) {
                    wr.getBuffered(t).length && (this.loadedmetadata = !0);
                  }
                }
              }
              onError(t, data) {
                var e;
                if (data.fatal) this.state = Yr;
                else
                  switch (data.details) {
                    case w.FRAG_GAP:
                    case w.FRAG_PARSING_ERROR:
                    case w.FRAG_DECRYPT_ERROR:
                    case w.FRAG_LOAD_ERROR:
                    case w.FRAG_LOAD_TIMEOUT:
                    case w.KEY_LOAD_ERROR:
                    case w.KEY_LOAD_TIMEOUT:
                      this.onFragmentOrKeyLoadError(fe.AUDIO, data);
                      break;
                    case w.AUDIO_TRACK_LOAD_ERROR:
                    case w.AUDIO_TRACK_LOAD_TIMEOUT:
                    case w.LEVEL_PARSING_ERROR:
                      data.levelRetry ||
                        this.state !== Gr ||
                        (null == (e = data.context) ? void 0 : e.type) !==
                          de.AUDIO_TRACK ||
                        (this.state = Br);
                      break;
                    case w.BUFFER_FULL_ERROR:
                      if (!data.parent || "audio" !== data.parent) return;
                      this.reduceLengthAndFlushBuffer(data) &&
                        ((this.bufferedTrack = null),
                        super.flushMainBuffer(
                          0,
                          Number.POSITIVE_INFINITY,
                          "audio",
                        ));
                      break;
                    case w.INTERNAL_EXCEPTION:
                      this.recoverWorkerError(data);
                  }
              }
              onBufferFlushed(t, { type: e }) {
                e === N.AUDIO &&
                  ((this.bufferFlushed = !0),
                  this.state === Vr && (this.state = Br));
              }
              _handleTransmuxComplete(t) {
                var e;
                const r = "audio",
                  { hls: n } = this,
                  { remuxResult: o, chunkMeta: l } = t,
                  c = this.getCurrentContext(l);
                if (!c) return void this.resetWhenMissingContext(l);
                const { frag: h, part: d, level: f } = c,
                  { details: details } = f,
                  { audio: audio, text: text, id3: m, initSegment: y } = o;
                if (!this.fragContextChanged(h) && details) {
                  if (
                    ((this.state = Kr),
                    this.switchingTrack &&
                      audio &&
                      this.completeAudioSwitch(this.switchingTrack),
                    null != y && y.tracks)
                  ) {
                    const t = h.initSegment || h;
                    (this._bufferInitSegment(y.tracks, t, l),
                      n.trigger(S.FRAG_PARSING_INIT_SEGMENT, {
                        frag: t,
                        id: r,
                        tracks: y.tracks,
                      }));
                  }
                  if (audio) {
                    const {
                      startPTS: t,
                      endPTS: e,
                      startDTS: r,
                      endDTS: n,
                    } = audio;
                    (d &&
                      (d.elementaryStreams[N.AUDIO] = {
                        startPTS: t,
                        endPTS: e,
                        startDTS: r,
                        endDTS: n,
                      }),
                      h.setElementaryStreamInfo(N.AUDIO, t, e, r, n),
                      this.bufferFragmentData(audio, h, d, l));
                  }
                  if (null != m && null != (e = m.samples) && e.length) {
                    const t = D({ id: r, frag: h, details: details }, m);
                    n.trigger(S.FRAG_PARSING_METADATA, t);
                  }
                  if (text) {
                    const t = D({ id: r, frag: h, details: details }, text);
                    n.trigger(S.FRAG_PARSING_USERDATA, t);
                  }
                } else this.fragmentTracker.removeFragment(h);
              }
              _bufferInitSegment(t, e, r) {
                if (this.state !== Kr) return;
                t.video && delete t.video;
                const track = t.audio;
                if (!track) return;
                ((track.levelCodec = track.codec),
                  (track.id = "audio"),
                  this.log(
                    `Init audio buffer, container:${track.container}, codecs[parsed]=[${track.codec}]`,
                  ),
                  this.hls.trigger(S.BUFFER_CODECS, t));
                const n = track.initSegment;
                if (null != n && n.byteLength) {
                  const t = {
                    type: "audio",
                    frag: e,
                    part: null,
                    chunkMeta: r,
                    parent: e.type,
                    data: n,
                  };
                  this.hls.trigger(S.BUFFER_APPENDING, t);
                }
                this.tick();
              }
              loadFragment(t, track, e) {
                const r = this.fragmentTracker.getState(t);
                var n;
                ((this.fragCurrent = t),
                this.switchingTrack || r === lr || r === cr)
                  ? "initSegment" === t.sn
                    ? this._loadInitSegment(t, track)
                    : null != (n = track.details) &&
                        n.live &&
                        !this.initPTS[t.cc]
                      ? (this.log(
                          `Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`,
                        ),
                        (this.state = zr))
                      : ((this.startFragRequested = !0),
                        super.loadFragment(t, track, e))
                  : this.clearTrackerIfNeeded(t);
              }
              completeAudioSwitch(t) {
                const { hls: e, media: r, bufferedTrack: n } = this,
                  o = null == n ? void 0 : n.attrs,
                  l = t.attrs;
                (r &&
                  o &&
                  (o.CHANNELS !== l.CHANNELS ||
                    o.NAME !== l.NAME ||
                    o.LANGUAGE !== l.LANGUAGE) &&
                  (this.log("Switching audio track : flushing all audio"),
                  super.flushMainBuffer(0, Number.POSITIVE_INFINITY, "audio")),
                  (this.bufferedTrack = t),
                  (this.switchingTrack = null),
                  e.trigger(S.AUDIO_TRACK_SWITCHED, v({}, t)));
              }
            },
            audioTrackController: class extends nr {
              constructor(t) {
                (super(t, "[audio-track-controller]"),
                  (this.tracks = []),
                  (this.groupId = null),
                  (this.tracksInGroup = []),
                  (this.trackId = -1),
                  (this.currentTrack = null),
                  (this.selectDefaultTrack = !0),
                  this.registerListeners());
              }
              registerListeners() {
                const { hls: t } = this;
                (t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.on(S.MANIFEST_PARSED, this.onManifestParsed, this),
                  t.on(S.LEVEL_LOADING, this.onLevelLoading, this),
                  t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this),
                  t.on(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
                  t.on(S.ERROR, this.onError, this));
              }
              unregisterListeners() {
                const { hls: t } = this;
                (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.off(S.MANIFEST_PARSED, this.onManifestParsed, this),
                  t.off(S.LEVEL_LOADING, this.onLevelLoading, this),
                  t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this),
                  t.off(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
                  t.off(S.ERROR, this.onError, this));
              }
              destroy() {
                (this.unregisterListeners(),
                  (this.tracks.length = 0),
                  (this.tracksInGroup.length = 0),
                  (this.currentTrack = null),
                  super.destroy());
              }
              onManifestLoading() {
                ((this.tracks = []),
                  (this.groupId = null),
                  (this.tracksInGroup = []),
                  (this.trackId = -1),
                  (this.currentTrack = null),
                  (this.selectDefaultTrack = !0));
              }
              onManifestParsed(t, data) {
                this.tracks = data.audioTracks || [];
              }
              onAudioTrackLoaded(t, data) {
                const { id: e, groupId: r, details: details } = data,
                  n = this.tracksInGroup[e];
                if (!n || n.groupId !== r)
                  return void this.warn(
                    `Track with id:${e} and group:${r} not found in active group ${n.groupId}`,
                  );
                const o = n.details;
                ((n.details = data.details),
                  this.log(
                    `audio-track ${e} "${n.name}" lang:${n.lang} group:${r} loaded [${details.startSN}-${details.endSN}]`,
                  ),
                  e === this.trackId && this.playlistLoaded(e, data, o));
              }
              onLevelLoading(t, data) {
                this.switchLevel(data.level);
              }
              onLevelSwitching(t, data) {
                this.switchLevel(data.level);
              }
              switchLevel(t) {
                const e = this.hls.levels[t];
                if (null == e || !e.audioGroupIds) return;
                const r = e.audioGroupIds[e.urlId];
                if (this.groupId !== r) {
                  this.groupId = r || null;
                  const t = this.tracks.filter(
                    (track) => !r || track.groupId === r,
                  );
                  (this.selectDefaultTrack &&
                    !t.some((track) => track.default) &&
                    (this.selectDefaultTrack = !1),
                    (this.tracksInGroup = t));
                  const e = { audioTracks: t };
                  (this.log(
                    `Updating audio tracks, ${t.length} track(s) found in group:${r}`,
                  ),
                    this.hls.trigger(S.AUDIO_TRACKS_UPDATED, e),
                    this.selectInitialTrack());
                } else
                  this.shouldReloadPlaylist(this.currentTrack) &&
                    this.setAudioTrack(this.trackId);
              }
              onError(t, data) {
                !data.fatal &&
                  data.context &&
                  data.context.type === de.AUDIO_TRACK &&
                  data.context.id === this.trackId &&
                  data.context.groupId === this.groupId &&
                  ((this.requestScheduled = -1), this.checkRetry(data));
              }
              get audioTracks() {
                return this.tracksInGroup;
              }
              get audioTrack() {
                return this.trackId;
              }
              set audioTrack(t) {
                ((this.selectDefaultTrack = !1), this.setAudioTrack(t));
              }
              setAudioTrack(t) {
                const e = this.tracksInGroup;
                if (t < 0 || t >= e.length)
                  return void this.warn(
                    "Invalid id passed to audio-track controller",
                  );
                this.clearTimer();
                const r = this.currentTrack;
                e[this.trackId];
                const track = e[t],
                  { groupId: n, name: o } = track;
                if (
                  (this.log(
                    `Switching to audio-track ${t} "${o}" lang:${track.lang} group:${n}`,
                  ),
                  (this.trackId = t),
                  (this.currentTrack = track),
                  (this.selectDefaultTrack = !1),
                  this.hls.trigger(S.AUDIO_TRACK_SWITCHING, v({}, track)),
                  track.details && !track.details.live)
                )
                  return;
                const l = this.switchParams(
                  track.url,
                  null == r ? void 0 : r.details,
                );
                this.loadPlaylist(l);
              }
              selectInitialTrack() {
                const t = this.tracksInGroup,
                  e =
                    this.findTrackId(this.currentTrack) |
                    this.findTrackId(null);
                if (-1 !== e) this.setAudioTrack(e);
                else {
                  const e = new Error(
                    `No track found for running audio group-ID: ${this.groupId} track count: ${t.length}`,
                  );
                  (this.warn(e.message),
                    this.hls.trigger(S.ERROR, {
                      type: _.MEDIA_ERROR,
                      details: w.AUDIO_TRACK_LOAD_ERROR,
                      fatal: !0,
                      error: e,
                    }));
                }
              }
              findTrackId(t) {
                const e = this.tracksInGroup;
                for (let i = 0; i < e.length; i++) {
                  const track = e[i];
                  if (!this.selectDefaultTrack || track.default) {
                    if (
                      !t ||
                      (void 0 !== t.attrs["STABLE-RENDITION-ID"] &&
                        t.attrs["STABLE-RENDITION-ID"] ===
                          track.attrs["STABLE-RENDITION-ID"])
                    )
                      return track.id;
                    if (t.name === track.name && t.lang === track.lang)
                      return track.id;
                  }
                }
                return -1;
              }
              loadPlaylist(t) {
                super.loadPlaylist();
                const e = this.tracksInGroup[this.trackId];
                if (this.shouldLoadPlaylist(e)) {
                  const r = e.id,
                    n = e.groupId;
                  let o = e.url;
                  if (t)
                    try {
                      o = t.addDirectives(o);
                    } catch (t) {
                      this.warn(
                        `Could not construct new URL with HLS Delivery Directives: ${t}`,
                      );
                    }
                  (this.log(
                    `loading audio-track playlist ${r} "${e.name}" lang:${e.lang} group:${n}`,
                  ),
                    this.clearTimer(),
                    this.hls.trigger(S.AUDIO_TRACK_LOADING, {
                      url: o,
                      id: r,
                      groupId: n,
                      deliveryDirectives: t || null,
                    }));
                }
              }
            },
            emeController: cs,
            cmcdController: vs,
            contentSteeringController: class {
              constructor(t) {
                ((this.hls = void 0),
                  (this.log = void 0),
                  (this.loader = null),
                  (this.uri = null),
                  (this.pathwayId = "."),
                  (this.pathwayPriority = null),
                  (this.timeToLoad = 300),
                  (this.reloadTimer = -1),
                  (this.updated = 0),
                  (this.started = !1),
                  (this.enabled = !0),
                  (this.levels = null),
                  (this.audioTracks = null),
                  (this.subtitleTracks = null),
                  (this.penalizedPathways = {}),
                  (this.hls = t),
                  (this.log = C.log.bind(C, "[content-steering]:")),
                  this.registerListeners());
              }
              registerListeners() {
                const t = this.hls;
                (t.on(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this),
                  t.on(S.MANIFEST_PARSED, this.onManifestParsed, this),
                  t.on(S.ERROR, this.onError, this));
              }
              unregisterListeners() {
                const t = this.hls;
                t &&
                  (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this),
                  t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this),
                  t.off(S.MANIFEST_PARSED, this.onManifestParsed, this),
                  t.off(S.ERROR, this.onError, this));
              }
              startLoad() {
                if (
                  ((this.started = !0),
                  self.clearTimeout(this.reloadTimer),
                  this.enabled && this.uri)
                )
                  if (this.updated) {
                    const t = Math.max(
                      1e3 * this.timeToLoad -
                        (performance.now() - this.updated),
                      0,
                    );
                    this.scheduleRefresh(this.uri, t);
                  } else this.loadSteeringManifest(this.uri);
              }
              stopLoad() {
                ((this.started = !1),
                  this.loader && (this.loader.destroy(), (this.loader = null)),
                  self.clearTimeout(this.reloadTimer));
              }
              destroy() {
                (this.unregisterListeners(),
                  this.stopLoad(),
                  (this.hls = null),
                  (this.levels =
                    this.audioTracks =
                    this.subtitleTracks =
                      null));
              }
              removeLevel(t) {
                const e = this.levels;
                e && (this.levels = e.filter((e) => e !== t));
              }
              onManifestLoading() {
                (this.stopLoad(),
                  (this.enabled = !0),
                  (this.timeToLoad = 300),
                  (this.updated = 0),
                  (this.uri = null),
                  (this.pathwayId = "."),
                  (this.levels =
                    this.audioTracks =
                    this.subtitleTracks =
                      null));
              }
              onManifestLoaded(t, data) {
                const { contentSteering: e } = data;
                null !== e &&
                  ((this.pathwayId = e.pathwayId),
                  (this.uri = e.uri),
                  this.started && this.startLoad());
              }
              onManifestParsed(t, data) {
                ((this.audioTracks = data.audioTracks),
                  (this.subtitleTracks = data.subtitleTracks));
              }
              onError(t, data) {
                const { errorAction: e } = data;
                if ((null == e ? void 0 : e.action) === Xe && e.flags === Ze) {
                  let t = this.pathwayPriority;
                  const r = this.pathwayId;
                  (this.penalizedPathways[r] ||
                    (this.penalizedPathways[r] = performance.now()),
                    !t &&
                      this.levels &&
                      (t = this.levels.reduce(
                        (t, e) => (
                          -1 === t.indexOf(e.pathwayId) && t.push(e.pathwayId),
                          t
                        ),
                        [],
                      )),
                    t &&
                      t.length > 1 &&
                      (this.updatePathwayPriority(t),
                      (e.resolved = this.pathwayId !== r)));
                }
              }
              filterParsedLevels(t) {
                this.levels = t;
                let e = this.getLevelsForPathway(this.pathwayId);
                if (0 === e.length) {
                  const r = t[0].pathwayId;
                  (this.log(
                    `No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`,
                  ),
                    (e = this.getLevelsForPathway(r)),
                    (this.pathwayId = r));
                }
                return e.length !== t.length
                  ? (this.log(
                      `Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`,
                    ),
                    e)
                  : t;
              }
              getLevelsForPathway(t) {
                return null === this.levels
                  ? []
                  : this.levels.filter((e) => t === e.pathwayId);
              }
              updatePathwayPriority(t) {
                let e;
                this.pathwayPriority = t;
                const r = this.penalizedPathways,
                  n = performance.now();
                Object.keys(r).forEach((t) => {
                  n - r[t] > 3e5 && delete r[t];
                });
                for (let i = 0; i < t.length; i++) {
                  const n = t[i];
                  if (r[n]) continue;
                  if (n === this.pathwayId) return;
                  const o = this.hls.nextLoadLevel,
                    l = this.hls.levels[o];
                  if (((e = this.getLevelsForPathway(n)), e.length > 0)) {
                    (this.log(`Setting Pathway to "${n}"`),
                      (this.pathwayId = n),
                      this.hls.trigger(S.LEVELS_UPDATED, { levels: e }));
                    const t = this.hls.levels[o];
                    l &&
                      t &&
                      this.levels &&
                      (t.attrs["STABLE-VARIANT-ID"] !==
                        l.attrs["STABLE-VARIANT-ID"] &&
                        t.bitrate !== l.bitrate &&
                        this.log(
                          `Unstable Pathways change from bitrate ${l.bitrate} to ${t.bitrate}`,
                        ),
                      (this.hls.nextLoadLevel = o));
                    break;
                  }
                }
              }
              clonePathways(t) {
                const e = this.levels;
                if (!e) return;
                const r = {},
                  n = {};
                t.forEach((t) => {
                  const { ID: o, "BASE-ID": l, "URI-REPLACEMENT": c } = t;
                  if (e.some((t) => t.pathwayId === o)) return;
                  const h = this.getLevelsForPathway(l).map((t) => {
                    const e = D({}, t);
                    ((e.details = void 0),
                      (e.url = Es(
                        t.uri,
                        t.attrs["STABLE-VARIANT-ID"],
                        "PER-VARIANT-URIS",
                        c,
                      )));
                    const l = new I(t.attrs);
                    l["PATHWAY-ID"] = o;
                    const h = l.AUDIO && `${l.AUDIO}_clone_${o}`,
                      d = l.SUBTITLES && `${l.SUBTITLES}_clone_${o}`;
                    (h && ((r[l.AUDIO] = h), (l.AUDIO = h)),
                      d && ((n[l.SUBTITLES] = d), (l.SUBTITLES = d)),
                      (e.attrs = l));
                    const f = new Oe(e);
                    return (ar(f, "audio", h), ar(f, "text", d), f);
                  });
                  (e.push(...h),
                    bs(this.audioTracks, r, c, o),
                    bs(this.subtitleTracks, n, c, o));
                });
              }
              loadSteeringManifest(t) {
                const e = this.hls.config,
                  r = e.loader;
                let n;
                (this.loader && this.loader.destroy(),
                  (this.loader = new r(e)));
                try {
                  n = new self.URL(t);
                } catch (e) {
                  return (
                    (this.enabled = !1),
                    void this.log(`Failed to parse Steering Manifest URI: ${t}`)
                  );
                }
                if ("data:" !== n.protocol) {
                  const t =
                    0 |
                    (this.hls.bandwidthEstimate || e.abrEwmaDefaultEstimate);
                  (n.searchParams.set("_HLS_pathway", this.pathwayId),
                    n.searchParams.set("_HLS_throughput", "" + t));
                }
                const o = { responseType: "json", url: n.href },
                  l = e.steeringManifestLoadPolicy.default,
                  c = l.errorRetry || l.timeoutRetry || {},
                  h = {
                    loadPolicy: l,
                    timeout: l.maxLoadTimeMs,
                    maxRetry: c.maxNumRetry || 0,
                    retryDelay: c.retryDelayMs || 0,
                    maxRetryDelay: c.maxRetryDelayMs || 0,
                  },
                  d = {
                    onSuccess: (t, e, r, o) => {
                      this.log(`Loaded steering manifest: "${n}"`);
                      const l = t.data;
                      if (1 !== l.VERSION)
                        return void this.log(
                          `Steering VERSION ${l.VERSION} not supported!`,
                        );
                      ((this.updated = performance.now()),
                        (this.timeToLoad = l.TTL));
                      const {
                        "RELOAD-URI": c,
                        "PATHWAY-CLONES": h,
                        "PATHWAY-PRIORITY": d,
                      } = l;
                      if (c)
                        try {
                          this.uri = new self.URL(c, n).href;
                        } catch (t) {
                          return (
                            (this.enabled = !1),
                            void this.log(
                              `Failed to parse Steering Manifest RELOAD-URI: ${c}`,
                            )
                          );
                        }
                      (this.scheduleRefresh(this.uri || r.url),
                        h && this.clonePathways(h),
                        d && this.updatePathwayPriority(d));
                    },
                    onError: (t, e, r, n) => {
                      if (
                        (this.log(
                          `Error loading steering manifest: ${t.code} ${t.text} (${e.url})`,
                        ),
                        this.stopLoad(),
                        410 === t.code)
                      )
                        return (
                          (this.enabled = !1),
                          void this.log(
                            `Steering manifest ${e.url} no longer available`,
                          )
                        );
                      let o = 1e3 * this.timeToLoad;
                      if (429 !== t.code)
                        this.scheduleRefresh(this.uri || e.url, o);
                      else {
                        const t = this.loader;
                        if (
                          "function" ==
                          typeof (null == t ? void 0 : t.getResponseHeader)
                        ) {
                          const e = t.getResponseHeader("Retry-After");
                          e && (o = 1e3 * parseFloat(e));
                        }
                        this.log(`Steering manifest ${e.url} rate limited`);
                      }
                    },
                    onTimeout: (t, e, r) => {
                      (this.log(`Timeout loading steering manifest (${e.url})`),
                        this.scheduleRefresh(this.uri || e.url));
                    },
                  };
                (this.log(`Requesting steering manifest: ${n}`),
                  this.loader.load(o, h, d));
              }
              scheduleRefresh(t, e = 1e3 * this.timeToLoad) {
                (self.clearTimeout(this.reloadTimer),
                  (this.reloadTimer = self.setTimeout(() => {
                    this.loadSteeringManifest(t);
                  }, e)));
              }
            },
          },
        );
      function Cs(t) {
        return t && "object" == typeof t
          ? Array.isArray(t)
            ? t.map(Cs)
            : Object.keys(t).reduce((e, r) => ((e[r] = Cs(t[r])), e), {})
          : t;
      }
      function Rs(t) {
        const e = t.loader;
        if (e !== _s && e !== Ts)
          (C.log(
            "[config]: Custom loader detected, cannot enable progressive streaming",
          ),
            (t.progressive = !1));
        else {
          (function () {
            if (
              self.fetch &&
              self.AbortController &&
              self.ReadableStream &&
              self.Request
            )
              try {
                return (new self.ReadableStream({}), !0);
              } catch (t) {}
            return !1;
          })() &&
            ((t.loader = _s),
            (t.progressive = !0),
            (t.enableSoftwareAES = !0),
            C.log(
              "[config]: Progressive streaming enabled, using FetchLoader",
            ));
        }
      }
      class Os {
        static get version() {
          return "1.4.12";
        }
        static isSupported() {
          return (function () {
            const t = qt();
            if (!t) return !1;
            const e = Xr(),
              r =
                t &&
                "function" == typeof t.isTypeSupported &&
                t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),
              n =
                !e ||
                (e.prototype &&
                  "function" == typeof e.prototype.appendBuffer &&
                  "function" == typeof e.prototype.remove);
            return !!r && !!n;
          })();
        }
        static get Events() {
          return S;
        }
        static get ErrorTypes() {
          return _;
        }
        static get ErrorDetails() {
          return w;
        }
        static get DefaultConfig() {
          return Os.defaultConfig ? Os.defaultConfig : ks;
        }
        static set DefaultConfig(t) {
          Os.defaultConfig = t;
        }
        constructor(t = {}) {
          ((this.config = void 0),
            (this.userConfig = void 0),
            (this.coreComponents = void 0),
            (this.networkControllers = void 0),
            (this._emitter = new Zn()),
            (this._autoLevelCapping = void 0),
            (this._maxHdcpLevel = null),
            (this.abrController = void 0),
            (this.bufferController = void 0),
            (this.capLevelController = void 0),
            (this.latencyController = void 0),
            (this.levelController = void 0),
            (this.streamController = void 0),
            (this.audioTrackController = void 0),
            (this.subtitleTrackController = void 0),
            (this.emeController = void 0),
            (this.cmcdController = void 0),
            (this._media = null),
            (this.url = null),
            (function (t, e) {
              if ((self.console && !0 === t) || "object" == typeof t) {
                k(t, "debug", "log", "info", "warn", "error");
                try {
                  L.log(
                    `Debug logs enabled for "${e}" in hls.js version 1.4.12`,
                  );
                } catch (t) {
                  L = x;
                }
              } else L = x;
            })(t.debug || !1, "Hls instance"));
          const e = (this.config = (function (t, e) {
            if (
              (e.liveSyncDurationCount || e.liveMaxLatencyDurationCount) &&
              (e.liveSyncDuration || e.liveMaxLatencyDuration)
            )
              throw new Error(
                "Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration",
              );
            if (
              void 0 !== e.liveMaxLatencyDurationCount &&
              (void 0 === e.liveSyncDurationCount ||
                e.liveMaxLatencyDurationCount <= e.liveSyncDurationCount)
            )
              throw new Error(
                'Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"',
              );
            if (
              void 0 !== e.liveMaxLatencyDuration &&
              (void 0 === e.liveSyncDuration ||
                e.liveMaxLatencyDuration <= e.liveSyncDuration)
            )
              throw new Error(
                'Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"',
              );
            const r = Cs(t),
              n = ["TimeOut", "MaxRetry", "RetryDelay", "MaxRetryTimeout"];
            return (
              ["manifest", "level", "frag"].forEach((t) => {
                const o = `${"level" === t ? "playlist" : t}LoadPolicy`,
                  l = void 0 === e[o],
                  c = [];
                (n.forEach((n) => {
                  const h = `${t}Loading${n}`,
                    d = e[h];
                  if (void 0 !== d && l) {
                    c.push(h);
                    const t = r[o].default;
                    switch (((e[o] = { default: t }), n)) {
                      case "TimeOut":
                        ((t.maxLoadTimeMs = d), (t.maxTimeToFirstByteMs = d));
                        break;
                      case "MaxRetry":
                        ((t.errorRetry.maxNumRetry = d),
                          (t.timeoutRetry.maxNumRetry = d));
                        break;
                      case "RetryDelay":
                        ((t.errorRetry.retryDelayMs = d),
                          (t.timeoutRetry.retryDelayMs = d));
                        break;
                      case "MaxRetryTimeout":
                        ((t.errorRetry.maxRetryDelayMs = d),
                          (t.timeoutRetry.maxRetryDelayMs = d));
                    }
                  }
                }),
                  c.length &&
                    C.warn(
                      `hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`,
                    ));
              }),
              v(v({}, r), e)
            );
          })(Os.DefaultConfig, t));
          ((this.userConfig = t),
            (this._autoLevelCapping = -1),
            e.progressive && Rs(e));
          const {
              abrController: r,
              bufferController: n,
              capLevelController: o,
              errorController: l,
              fpsController: c,
            } = e,
            h = new l(this),
            d = (this.abrController = new r(this)),
            f = (this.bufferController = new n(this)),
            m = (this.capLevelController = new o(this)),
            y = new c(this),
            E = new me(this),
            D = new xe(this),
            T = e.contentSteeringController,
            _ = T ? new T(this) : null,
            w = (this.levelController = new sr(this, _)),
            A = new fr(this),
            R = new Tr(this.config),
            O = (this.streamController = new ni(this, A, R));
          (m.setStreamController(O), y.setStreamController(O));
          const I = [E, w, O];
          (_ && I.splice(1, 0, _), (this.networkControllers = I));
          const P = [d, f, m, y, D, A];
          this.audioTrackController = this.createController(
            e.audioTrackController,
            I,
          );
          const F = e.audioStreamController;
          (F && I.push(new F(this, A, R)),
            (this.subtitleTrackController = this.createController(
              e.subtitleTrackController,
              I,
            )));
          const M = e.subtitleStreamController;
          (M && I.push(new M(this, A, R)),
            this.createController(e.timelineController, P),
            (R.emeController = this.emeController =
              this.createController(e.emeController, P)),
            (this.cmcdController = this.createController(e.cmcdController, P)),
            (this.latencyController = this.createController(Le, P)),
            (this.coreComponents = P),
            I.push(h));
          const N = h.onErrorOut;
          "function" == typeof N && this.on(S.ERROR, N, h);
        }
        createController(t, e) {
          if (t) {
            const r = new t(this);
            return (e && e.push(r), r);
          }
          return null;
        }
        on(t, e, r = this) {
          this._emitter.on(t, e, r);
        }
        once(t, e, r = this) {
          this._emitter.once(t, e, r);
        }
        removeAllListeners(t) {
          this._emitter.removeAllListeners(t);
        }
        off(t, e, r = this, n) {
          this._emitter.off(t, e, r, n);
        }
        listeners(t) {
          return this._emitter.listeners(t);
        }
        emit(t, e, r) {
          return this._emitter.emit(t, e, r);
        }
        trigger(t, e) {
          if (this.config.debug) return this.emit(t, t, e);
          try {
            return this.emit(t, t, e);
          } catch (e) {
            (C.error(
              "An internal error happened while handling event " +
                t +
                '. Error message: "' +
                e.message +
                '". Here is a stacktrace:',
              e,
            ),
              this.trigger(S.ERROR, {
                type: _.OTHER_ERROR,
                details: w.INTERNAL_EXCEPTION,
                fatal: !1,
                event: t,
                error: e,
              }));
          }
          return !1;
        }
        listenerCount(t) {
          return this._emitter.listenerCount(t);
        }
        destroy() {
          (C.log("destroy"),
            this.trigger(S.DESTROYING, void 0),
            this.detachMedia(),
            this.removeAllListeners(),
            (this._autoLevelCapping = -1),
            (this.url = null),
            this.networkControllers.forEach((component) => component.destroy()),
            (this.networkControllers.length = 0),
            this.coreComponents.forEach((component) => component.destroy()),
            (this.coreComponents.length = 0));
          const t = this.config;
          ((t.xhrSetup = t.fetchSetup = void 0), (this.userConfig = null));
        }
        attachMedia(t) {
          (C.log("attachMedia"),
            (this._media = t),
            this.trigger(S.MEDIA_ATTACHING, { media: t }));
        }
        detachMedia() {
          (C.log("detachMedia"),
            this.trigger(S.MEDIA_DETACHING, void 0),
            (this._media = null));
        }
        loadSource(t) {
          this.stopLoad();
          const e = this.media,
            r = this.url,
            n = (this.url = m.buildAbsoluteURL(self.location.href, t, {
              alwaysNormalize: !0,
            }));
          (C.log(`loadSource:${n}`),
            e &&
              r &&
              (r !== n || this.bufferController.hasSourceTypes()) &&
              (this.detachMedia(), this.attachMedia(e)),
            this.trigger(S.MANIFEST_LOADING, { url: t }));
        }
        startLoad(t = -1) {
          (C.log(`startLoad(${t})`),
            this.networkControllers.forEach((e) => {
              e.startLoad(t);
            }));
        }
        stopLoad() {
          (C.log("stopLoad"),
            this.networkControllers.forEach((t) => {
              t.stopLoad();
            }));
        }
        swapAudioCodec() {
          (C.log("swapAudioCodec"), this.streamController.swapAudioCodec());
        }
        recoverMediaError() {
          C.log("recoverMediaError");
          const t = this._media;
          (this.detachMedia(), t && this.attachMedia(t));
        }
        removeLevel(t, e = 0) {
          this.levelController.removeLevel(t, e);
        }
        get levels() {
          const t = this.levelController.levels;
          return t || [];
        }
        get currentLevel() {
          return this.streamController.currentLevel;
        }
        set currentLevel(t) {
          (C.log(`set currentLevel:${t}`),
            (this.loadLevel = t),
            this.abrController.clearTimer(),
            this.streamController.immediateLevelSwitch());
        }
        get nextLevel() {
          return this.streamController.nextLevel;
        }
        set nextLevel(t) {
          (C.log(`set nextLevel:${t}`),
            (this.levelController.manualLevel = t),
            this.streamController.nextLevelSwitch());
        }
        get loadLevel() {
          return this.levelController.level;
        }
        set loadLevel(t) {
          (C.log(`set loadLevel:${t}`), (this.levelController.manualLevel = t));
        }
        get nextLoadLevel() {
          return this.levelController.nextLoadLevel;
        }
        set nextLoadLevel(t) {
          this.levelController.nextLoadLevel = t;
        }
        get firstLevel() {
          return Math.max(this.levelController.firstLevel, this.minAutoLevel);
        }
        set firstLevel(t) {
          (C.log(`set firstLevel:${t}`), (this.levelController.firstLevel = t));
        }
        get startLevel() {
          return this.levelController.startLevel;
        }
        set startLevel(t) {
          (C.log(`set startLevel:${t}`),
            -1 !== t && (t = Math.max(t, this.minAutoLevel)),
            (this.levelController.startLevel = t));
        }
        get capLevelToPlayerSize() {
          return this.config.capLevelToPlayerSize;
        }
        set capLevelToPlayerSize(t) {
          const e = !!t;
          e !== this.config.capLevelToPlayerSize &&
            (e
              ? this.capLevelController.startCapping()
              : (this.capLevelController.stopCapping(),
                (this.autoLevelCapping = -1),
                this.streamController.nextLevelSwitch()),
            (this.config.capLevelToPlayerSize = e));
        }
        get autoLevelCapping() {
          return this._autoLevelCapping;
        }
        get bandwidthEstimate() {
          const { bwEstimator: t } = this.abrController;
          return t ? t.getEstimate() : NaN;
        }
        get ttfbEstimate() {
          const { bwEstimator: t } = this.abrController;
          return t ? t.getEstimateTTFB() : NaN;
        }
        set autoLevelCapping(t) {
          this._autoLevelCapping !== t &&
            (C.log(`set autoLevelCapping:${t}`), (this._autoLevelCapping = t));
        }
        get maxHdcpLevel() {
          return this._maxHdcpLevel;
        }
        set maxHdcpLevel(t) {
          ke.indexOf(t) > -1 && (this._maxHdcpLevel = t);
        }
        get autoLevelEnabled() {
          return -1 === this.levelController.manualLevel;
        }
        get manualLevel() {
          return this.levelController.manualLevel;
        }
        get minAutoLevel() {
          const {
            levels: t,
            config: { minAutoBitrate: e },
          } = this;
          if (!t) return 0;
          const r = t.length;
          for (let i = 0; i < r; i++) if (t[i].maxBitrate >= e) return i;
          return 0;
        }
        get maxAutoLevel() {
          const { levels: t, autoLevelCapping: e, maxHdcpLevel: r } = this;
          let n;
          if (((n = -1 === e && t && t.length ? t.length - 1 : e), r))
            for (let i = n; i--; ) {
              const e = t[i].attrs["HDCP-LEVEL"];
              if (e && e <= r) return i;
            }
          return n;
        }
        get nextAutoLevel() {
          return Math.min(
            Math.max(this.abrController.nextAutoLevel, this.minAutoLevel),
            this.maxAutoLevel,
          );
        }
        set nextAutoLevel(t) {
          this.abrController.nextAutoLevel = Math.max(this.minAutoLevel, t);
        }
        get playingDate() {
          return this.streamController.currentProgramDateTime;
        }
        get mainForwardBufferInfo() {
          return this.streamController.getMainFwdBufferInfo();
        }
        get audioTracks() {
          const t = this.audioTrackController;
          return t ? t.audioTracks : [];
        }
        get audioTrack() {
          const t = this.audioTrackController;
          return t ? t.audioTrack : -1;
        }
        set audioTrack(t) {
          const e = this.audioTrackController;
          e && (e.audioTrack = t);
        }
        get subtitleTracks() {
          const t = this.subtitleTrackController;
          return t ? t.subtitleTracks : [];
        }
        get subtitleTrack() {
          const t = this.subtitleTrackController;
          return t ? t.subtitleTrack : -1;
        }
        get media() {
          return this._media;
        }
        set subtitleTrack(t) {
          const e = this.subtitleTrackController;
          e && (e.subtitleTrack = t);
        }
        get subtitleDisplay() {
          const t = this.subtitleTrackController;
          return !!t && t.subtitleDisplay;
        }
        set subtitleDisplay(t) {
          const e = this.subtitleTrackController;
          e && (e.subtitleDisplay = t);
        }
        get lowLatencyMode() {
          return this.config.lowLatencyMode;
        }
        set lowLatencyMode(t) {
          this.config.lowLatencyMode = t;
        }
        get liveSyncPosition() {
          return this.latencyController.liveSyncPosition;
        }
        get latency() {
          return this.latencyController.latency;
        }
        get maxLatency() {
          return this.latencyController.maxLatency;
        }
        get targetLatency() {
          return this.latencyController.targetLatency;
        }
        get drift() {
          return this.latencyController.drift;
        }
        get forceStartLoad() {
          return this.streamController.forceStartLoad;
        }
      }
      Os.defaultConfig = void 0;
    },
    ,
    function (t, e, r) {
      "use strict";
      var n = {
        name: "NoSsr",
        functional: !0,
        props: {
          placeholder: String,
          placeholderTag: { type: String, default: "div" },
        },
        render: function (t, e) {
          var r = e.parent,
            n = e.slots,
            o = e.props,
            l = n(),
            c = l.default;
          void 0 === c && (c = []);
          var h = l.placeholder;
          return r._isMounted
            ? c
            : (r.$once("hook:mounted", function () {
                r.$forceUpdate();
              }),
              o.placeholderTag && (o.placeholder || h)
                ? t(
                    o.placeholderTag,
                    { class: ["no-ssr-placeholder"] },
                    o.placeholder || h,
                  )
                : c.length > 0
                  ? c.map(function () {
                      return t(!1);
                    })
                  : t(!1));
        },
      };
      t.exports = n;
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e) {
      t.exports = function (t) {
        var e = typeof t;
        return null != t && ("object" == e || "function" == e);
      };
    },
    function (t, e) {
      t.exports = function (t) {
        return null != t && "object" == typeof t;
      };
    },
    ,
    ,
    ,
    function (t, e) {
      var r,
        n,
        o = Function.prototype,
        l = Object.prototype,
        c = o.toString,
        h = l.hasOwnProperty,
        d = c.call(Object),
        f = l.toString,
        m =
          ((r = Object.getPrototypeOf),
          (n = Object),
          function (t) {
            return r(n(t));
          });
      t.exports = function (t) {
        if (
          !(function (t) {
            return !!t && "object" == typeof t;
          })(t) ||
          "[object Object]" != f.call(t) ||
          (function (t) {
            var e = !1;
            if (null != t && "function" != typeof t.toString)
              try {
                e = !!(t + "");
              } catch (t) {}
            return e;
          })(t)
        )
          return !1;
        var e = m(t);
        if (null === e) return !0;
        var r = h.call(e, "constructor") && e.constructor;
        return "function" == typeof r && r instanceof r && c.call(r) == d;
      };
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      var n = r(399),
        o = r(400),
        l = r(401),
        c = r(402),
        h = r(403);
      function d(t) {
        var e = -1,
          r = null == t ? 0 : t.length;
        for (this.clear(); ++e < r; ) {
          var n = t[e];
          this.set(n[0], n[1]);
        }
      }
      ((d.prototype.clear = n),
        (d.prototype.delete = o),
        (d.prototype.get = l),
        (d.prototype.has = c),
        (d.prototype.set = h),
        (t.exports = d));
    },
    function (t, e, r) {
      var n = r(266);
      t.exports = function (t, e) {
        for (var r = t.length; r--; ) if (n(t[r][0], e)) return r;
        return -1;
      };
    },
    function (t, e, r) {
      var n = r(160),
        o = r(410),
        l = r(411),
        c = n ? n.toStringTag : void 0;
      t.exports = function (t) {
        return null == t
          ? void 0 === t
            ? "[object Undefined]"
            : "[object Null]"
          : c && c in Object(t)
            ? o(t)
            : l(t);
      };
    },
    function (t, e, r) {
      var n = r(65)(Object, "create");
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(424);
      t.exports = function (map, t) {
        var data = map.__data__;
        return n(t) ? data["string" == typeof t ? "string" : "hash"] : data.map;
      };
    },
    function (t, e, r) {
      var n = r(270),
        o = r(271);
      t.exports = function (source, t, object, e) {
        var r = !object;
        object || (object = {});
        for (var l = -1, c = t.length; ++l < c; ) {
          var h = t[l],
            d = e ? e(object[h], source[h], h, object, source) : void 0;
          (void 0 === d && (d = source[h]),
            r ? o(object, h, d) : n(object, h, d));
        }
        return object;
      };
    },
    function (t, e, r) {
      !(function (e, r) {
        var n = (function (t, e, r) {
          "use strict";
          var n, o;
          if (
            ((function () {
              var e,
                r = {
                  lazyClass: "lazyload",
                  loadedClass: "lazyloaded",
                  loadingClass: "lazyloading",
                  preloadClass: "lazypreload",
                  errorClass: "lazyerror",
                  autosizesClass: "lazyautosizes",
                  fastLoadedClass: "ls-is-cached",
                  iframeLoadMode: 0,
                  srcAttr: "data-src",
                  srcsetAttr: "data-srcset",
                  sizesAttr: "data-sizes",
                  minSize: 40,
                  customMedia: {},
                  init: !0,
                  expFactor: 1.5,
                  hFac: 0.8,
                  loadMode: 2,
                  loadHidden: !0,
                  ricTimeout: 0,
                  throttleDelay: 125,
                };
              for (e in ((o = t.lazySizesConfig || t.lazysizesConfig || {}), r))
                e in o || (o[e] = r[e]);
            })(),
            !e || !e.getElementsByClassName)
          )
            return { init: function () {}, cfg: o, noSupport: !0 };
          var l = e.documentElement,
            c = t.HTMLPictureElement,
            h = "addEventListener",
            d = "getAttribute",
            f = t[h].bind(t),
            m = t.setTimeout,
            y = t.requestAnimationFrame || m,
            v = t.requestIdleCallback,
            E = /^picture$/i,
            D = ["load", "error", "lazyincluded", "_lazyloaded"],
            T = {},
            S = Array.prototype.forEach,
            _ = function (t, e) {
              return (
                T[e] || (T[e] = new RegExp("(\\s|^)" + e + "(\\s|$)")),
                T[e].test(t[d]("class") || "") && T[e]
              );
            },
            w = function (t, e) {
              _(t, e) ||
                t.setAttribute("class", (t[d]("class") || "").trim() + " " + e);
            },
            A = function (t, e) {
              var r;
              (r = _(t, e)) &&
                t.setAttribute("class", (t[d]("class") || "").replace(r, " "));
            },
            x = function (t, e, r) {
              var n = r ? h : "removeEventListener";
              (r && x(t, e),
                D.forEach(function (r) {
                  t[n](r, e);
                }));
            },
            L = function (t, r, o, l, c) {
              var h = e.createEvent("Event");
              return (
                o || (o = {}),
                (o.instance = n),
                h.initEvent(r, !l, !c),
                (h.detail = o),
                t.dispatchEvent(h),
                h
              );
            },
            k = function (e, r) {
              var n;
              !c && (n = t.picturefill || o.pf)
                ? (r &&
                    r.src &&
                    !e[d]("srcset") &&
                    e.setAttribute("srcset", r.src),
                  n({ reevaluate: !0, elements: [e] }))
                : r && r.src && (e.src = r.src);
            },
            C = function (t, style) {
              return (getComputedStyle(t, null) || {})[style];
            },
            R = function (t, e, r) {
              for (
                r = r || t.offsetWidth;
                r < o.minSize && e && !t._lazysizesWidth;
              )
                ((r = e.offsetWidth), (e = e.parentNode));
              return r;
            },
            O =
              ((Lt = []),
              (kt = []),
              (Ct = Lt),
              (Rt = function () {
                var t = Ct;
                for (Ct = Lt.length ? kt : Lt, At = !0, xt = !1; t.length; )
                  t.shift()();
                At = !1;
              }),
              (Ot = function (t, r) {
                At && !r
                  ? t.apply(this, arguments)
                  : (Ct.push(t), xt || ((xt = !0), (e.hidden ? m : y)(Rt)));
              }),
              (Ot._lsFlush = Rt),
              Ot),
            I = function (t, e) {
              return e
                ? function () {
                    O(t);
                  }
                : function () {
                    var e = this,
                      r = arguments;
                    O(function () {
                      t.apply(e, r);
                    });
                  };
            },
            P = function (t) {
              var e,
                n = 0,
                l = o.throttleDelay,
                c = o.ricTimeout,
                h = function () {
                  ((e = !1), (n = r.now()), t());
                },
                d =
                  v && c > 49
                    ? function () {
                        (v(h, { timeout: c }),
                          c !== o.ricTimeout && (c = o.ricTimeout));
                      }
                    : I(function () {
                        m(h);
                      }, !0);
              return function (t) {
                var o;
                ((t = !0 === t) && (c = 33),
                  e ||
                    ((e = !0),
                    (o = l - (r.now() - n)) < 0 && (o = 0),
                    t || o < 9 ? d() : m(d, o)));
              };
            },
            F = function (t) {
              var e,
                n,
                o = 99,
                l = function () {
                  ((e = null), t());
                },
                c = function () {
                  var t = r.now() - n;
                  t < o ? m(c, o - t) : (v || l)(l);
                };
              return function () {
                ((n = r.now()), e || (e = m(c, o)));
              };
            },
            M =
              ((nt = /^img$/i),
              (it = /^iframe$/i),
              (st =
                "onscroll" in t && !/(gle|ing)bot/.test(navigator.userAgent)),
              (at = 0),
              (ot = 0),
              (lt = 0),
              (ut = -1),
              (ct = function (t) {
                (lt--, (!t || lt < 0 || !t.target) && (lt = 0));
              }),
              (ht = function (t) {
                return (
                  null == et && (et = "hidden" == C(e.body, "visibility")),
                  et ||
                    !(
                      "hidden" == C(t.parentNode, "visibility") &&
                      "hidden" == C(t, "visibility")
                    )
                );
              }),
              (ft = function (t, r) {
                var n,
                  o = t,
                  c = ht(t);
                for (
                  Q -= r, tt += r, J -= r, Z += r;
                  c && (o = o.offsetParent) && o != e.body && o != l;
                )
                  (c = (C(o, "opacity") || 1) > 0) &&
                    "visible" != C(o, "overflow") &&
                    ((n = o.getBoundingClientRect()),
                    (c =
                      Z > n.left &&
                      J < n.right &&
                      tt > n.top - 1 &&
                      Q < n.bottom + 1));
                return c;
              }),
              (pt = function () {
                var t,
                  i,
                  rect,
                  r,
                  c,
                  h,
                  f,
                  m,
                  y,
                  v,
                  E,
                  D,
                  T = n.elements;
                if ((Y = o.loadMode) && lt < 8 && (t = T.length)) {
                  for (i = 0, ut++; i < t; i++)
                    if (T[i] && !T[i]._lazyRace)
                      if (!st || (n.prematureUnveil && n.prematureUnveil(T[i])))
                        Tt(T[i]);
                      else if (
                        (((m = T[i][d]("data-expand")) && (h = 1 * m)) ||
                          (h = ot),
                        v ||
                          ((v =
                            !o.expand || o.expand < 1
                              ? l.clientHeight > 500 && l.clientWidth > 500
                                ? 500
                                : 370
                              : o.expand),
                          (n._defEx = v),
                          (E = v * o.expFactor),
                          (D = o.hFac),
                          (et = null),
                          ot < E && lt < 1 && ut > 2 && Y > 2 && !e.hidden
                            ? ((ot = E), (ut = 0))
                            : (ot = Y > 1 && ut > 1 && lt < 6 ? v : at)),
                        y !== h &&
                          ((W = innerWidth + h * D),
                          (X = innerHeight + h),
                          (f = -1 * h),
                          (y = h)),
                        (rect = T[i].getBoundingClientRect()),
                        (tt = rect.bottom) >= f &&
                          (Q = rect.top) <= X &&
                          (Z = rect.right) >= f * D &&
                          (J = rect.left) <= W &&
                          (tt || Z || J || Q) &&
                          (o.loadHidden || ht(T[i])) &&
                          ((H && lt < 3 && !m && (Y < 3 || ut < 4)) ||
                            ft(T[i], h)))
                      ) {
                        if ((Tt(T[i]), (c = !0), lt > 9)) break;
                      } else
                        !c &&
                          H &&
                          !r &&
                          lt < 4 &&
                          ut < 4 &&
                          Y > 2 &&
                          (K[0] || o.preloadAfterLoad) &&
                          (K[0] ||
                            (!m &&
                              (tt ||
                                Z ||
                                J ||
                                Q ||
                                "auto" != T[i][d](o.sizesAttr)))) &&
                          (r = K[0] || T[i]);
                  r && !c && Tt(r);
                }
              }),
              (gt = P(pt)),
              (mt = function (t) {
                var e = t.target;
                e._lazyCache
                  ? delete e._lazyCache
                  : (ct(t),
                    w(e, o.loadedClass),
                    A(e, o.loadingClass),
                    x(e, vt),
                    L(e, "lazyloaded"));
              }),
              (yt = I(mt)),
              (vt = function (t) {
                yt({ target: t.target });
              }),
              (bt = function (t, e) {
                var r = t.getAttribute("data-load-mode") || o.iframeLoadMode;
                0 == r
                  ? t.contentWindow.location.replace(e)
                  : 1 == r && (t.src = e);
              }),
              (Et = function (source) {
                var t,
                  e = source[d](o.srcsetAttr);
                ((t =
                  o.customMedia[
                    source[d]("data-media") || source[d]("media")
                  ]) && source.setAttribute("media", t),
                  e && source.setAttribute("srcset", e));
              }),
              (Dt = I(function (t, e, r, n, l) {
                var c, h, f, y, v, D;
                ((v = L(t, "lazybeforeunveil", e)).defaultPrevented ||
                  (n &&
                    (r ? w(t, o.autosizesClass) : t.setAttribute("sizes", n)),
                  (h = t[d](o.srcsetAttr)),
                  (c = t[d](o.srcAttr)),
                  l && (y = (f = t.parentNode) && E.test(f.nodeName || "")),
                  (D = e.firesLoad || ("src" in t && (h || c || y))),
                  (v = { target: t }),
                  w(t, o.loadingClass),
                  D && (clearTimeout(V), (V = m(ct, 2500)), x(t, vt, !0)),
                  y && S.call(f.getElementsByTagName("source"), Et),
                  h
                    ? t.setAttribute("srcset", h)
                    : c && !y && (it.test(t.nodeName) ? bt(t, c) : (t.src = c)),
                  l && (h || y) && k(t, { src: c })),
                  t._lazyRace && delete t._lazyRace,
                  A(t, o.lazyClass),
                  O(function () {
                    var e = t.complete && t.naturalWidth > 1;
                    ((D && !e) ||
                      (e && w(t, o.fastLoadedClass),
                      mt(v),
                      (t._lazyCache = !0),
                      m(function () {
                        "_lazyCache" in t && delete t._lazyCache;
                      }, 9)),
                      "lazy" == t.loading && lt--);
                  }, !0));
              })),
              (Tt = function (t) {
                if (!t._lazyRace) {
                  var e,
                    r = nt.test(t.nodeName),
                    n = r && (t[d](o.sizesAttr) || t[d]("sizes")),
                    l = "auto" == n;
                  ((!l && H) ||
                    !r ||
                    (!t[d]("src") && !t.srcset) ||
                    t.complete ||
                    _(t, o.errorClass) ||
                    !_(t, o.lazyClass)) &&
                    ((e = L(t, "lazyunveilread").detail),
                    l && N.updateElem(t, !0, t.offsetWidth),
                    (t._lazyRace = !0),
                    lt++,
                    Dt(t, e, l, n, r));
                }
              }),
              (St = F(function () {
                ((o.loadMode = 3), gt());
              })),
              (_t = function () {
                (3 == o.loadMode && (o.loadMode = 2), St());
              }),
              (wt = function () {
                H ||
                  (r.now() - z < 999
                    ? m(wt, 999)
                    : ((H = !0), (o.loadMode = 3), gt(), f("scroll", _t, !0)));
              }),
              {
                _: function () {
                  ((z = r.now()),
                    (n.elements = e.getElementsByClassName(o.lazyClass)),
                    (K = e.getElementsByClassName(
                      o.lazyClass + " " + o.preloadClass,
                    )),
                    f("scroll", gt, !0),
                    f("resize", gt, !0),
                    f("pageshow", function (t) {
                      if (t.persisted) {
                        var r = e.querySelectorAll("." + o.loadingClass);
                        r.length &&
                          r.forEach &&
                          y(function () {
                            r.forEach(function (img) {
                              img.complete && Tt(img);
                            });
                          });
                      }
                    }),
                    t.MutationObserver
                      ? new MutationObserver(gt).observe(l, {
                          childList: !0,
                          subtree: !0,
                          attributes: !0,
                        })
                      : (l[h]("DOMNodeInserted", gt, !0),
                        l[h]("DOMAttrModified", gt, !0),
                        setInterval(gt, 999)),
                    f("hashchange", gt, !0),
                    [
                      "focus",
                      "mouseover",
                      "click",
                      "load",
                      "transitionend",
                      "animationend",
                    ].forEach(function (t) {
                      e[h](t, gt, !0);
                    }),
                    /d$|^c/.test(e.readyState)
                      ? wt()
                      : (f("load", wt),
                        e[h]("DOMContentLoaded", gt),
                        m(wt, 2e4)),
                    n.elements.length ? (pt(), O._lsFlush()) : gt());
                },
                checkElems: gt,
                unveil: Tt,
                _aLSL: _t,
              }),
            N =
              ((j = I(function (t, e, r, n) {
                var o, i, l;
                if (
                  ((t._lazysizesWidth = n),
                  (n += "px"),
                  t.setAttribute("sizes", n),
                  E.test(e.nodeName || ""))
                )
                  for (
                    i = 0, l = (o = e.getElementsByTagName("source")).length;
                    i < l;
                    i++
                  )
                    o[i].setAttribute("sizes", n);
                r.detail.dataAttr || k(t, r.detail);
              })),
              ($ = function (t, e, r) {
                var n,
                  o = t.parentNode;
                o &&
                  ((r = R(t, o, r)),
                  (n = L(t, "lazybeforesizes", { width: r, dataAttr: !!e }))
                    .defaultPrevented ||
                    ((r = n.detail.width) &&
                      r !== t._lazysizesWidth &&
                      j(t, o, n, r)));
              }),
              (G = F(function () {
                var i,
                  t = U.length;
                if (t) for (i = 0; i < t; i++) $(U[i]);
              })),
              {
                _: function () {
                  ((U = e.getElementsByClassName(o.autosizesClass)),
                    f("resize", G));
                },
                checkElems: G,
                updateElem: $,
              }),
            B = function () {
              !B.i && e.getElementsByClassName && ((B.i = !0), N._(), M._());
            };
          var U, j, $, G;
          var K,
            H,
            V,
            Y,
            z,
            W,
            X,
            Q,
            J,
            Z,
            tt,
            et,
            nt,
            it,
            st,
            at,
            ot,
            lt,
            ut,
            ct,
            ht,
            ft,
            pt,
            gt,
            mt,
            yt,
            vt,
            bt,
            Et,
            Dt,
            Tt,
            St,
            _t,
            wt;
          var At, xt, Lt, kt, Ct, Rt, Ot;
          return (
            m(function () {
              o.init && B();
            }),
            (n = {
              cfg: o,
              autoSizer: N,
              loader: M,
              init: B,
              uP: k,
              aC: w,
              rC: A,
              hC: _,
              fire: L,
              gW: R,
              rAF: O,
            })
          );
        })(e, e.document, Date);
        ((e.lazySizes = n), t.exports && (t.exports = n));
      })("undefined" != typeof window ? window : {});
    },
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      "use strict";
      (r(52),
        r(7),
        r(18),
        r(50),
        r(26),
        r(21),
        r(49),
        r(66),
        r(38),
        r(90),
        r(51),
        r(37),
        r(25),
        r(60),
        r(96),
        r(45));
      var n = r(0);
      function o(t, e) {
        var r =
          ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
          t["@@iterator"];
        if (!r) {
          if (
            Array.isArray(t) ||
            (r = (function (t, e) {
              if (!t) return;
              if ("string" == typeof t) return l(t, e);
              var r = Object.prototype.toString.call(t).slice(8, -1);
              "Object" === r && t.constructor && (r = t.constructor.name);
              if ("Map" === r || "Set" === r) return Array.from(t);
              if (
                "Arguments" === r ||
                /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
              )
                return l(t, e);
            })(t)) ||
            (e && t && "number" == typeof t.length)
          ) {
            r && (t = r);
            var i = 0,
              n = function () {};
            return {
              s: n,
              n: function () {
                return i >= t.length
                  ? { done: !0 }
                  : { done: !1, value: t[i++] };
              },
              e: function (t) {
                throw t;
              },
              f: n,
            };
          }
          throw new TypeError(
            "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
          );
        }
        var o,
          c = !0,
          h = !1;
        return {
          s: function () {
            r = r.call(t);
          },
          n: function () {
            var t = r.next();
            return ((c = t.done), t);
          },
          e: function (t) {
            ((h = !0), (o = t));
          },
          f: function () {
            try {
              c || null == r.return || r.return();
            } finally {
              if (h) throw o;
            }
          },
        };
      }
      function l(t, e) {
        (null == e || e > t.length) && (e = t.length);
        for (var i = 0, r = new Array(e); i < e; i++) r[i] = t[i];
        return r;
      }
      var c =
          window.requestIdleCallback ||
          function (t) {
            var e = Date.now();
            return setTimeout(function () {
              t({
                didTimeout: !1,
                timeRemaining: function () {
                  return Math.max(0, 50 - (Date.now() - e));
                },
              });
            }, 1);
          },
        h =
          window.cancelIdleCallback ||
          function (t) {
            clearTimeout(t);
          },
        d =
          window.IntersectionObserver &&
          new window.IntersectionObserver(function (t) {
            t.forEach(function (t) {
              var e = t.intersectionRatio,
                link = t.target;
              e <= 0 || !link.__prefetch || link.__prefetch();
            });
          });
      e.a = {
        name: "NuxtLink",
        extends: n.a.component("RouterLink"),
        props: {
          prefetch: { type: Boolean, default: !0 },
          noPrefetch: { type: Boolean, default: !1 },
        },
        mounted: function () {
          this.prefetch &&
            !this.noPrefetch &&
            (this.handleId = c(this.observe, { timeout: 2e3 }));
        },
        beforeDestroy: function () {
          (h(this.handleId),
            this.__observed &&
              (d.unobserve(this.$el), delete this.$el.__prefetch));
        },
        methods: {
          observe: function () {
            d &&
              this.shouldPrefetch() &&
              ((this.$el.__prefetch = this.prefetchLink.bind(this)),
              d.observe(this.$el),
              (this.__observed = !0));
          },
          shouldPrefetch: function () {
            var t = this.$router.resolve(this.to, this.$route, this.append);
            return t.resolved.matched
              .map(function (t) {
                return t.components.default;
              })
              .filter(function (e) {
                return (
                  t.href ||
                  ("function" == typeof e && !e.options && !e.__prefetched)
                );
              }).length;
          },
          canPrefetch: function () {
            var t = navigator.connection;
            return !(
              this.$nuxt.isOffline ||
              (t && ((t.effectiveType || "").includes("2g") || t.saveData))
            );
          },
          getPrefetchComponents: function () {
            return this.$router
              .resolve(this.to, this.$route, this.append)
              .resolved.matched.map(function (t) {
                return t.components.default;
              })
              .filter(function (t) {
                return "function" == typeof t && !t.options && !t.__prefetched;
              });
          },
          prefetchLink: function () {
            if (this.canPrefetch()) {
              d.unobserve(this.$el);
              var t,
                e = o(this.getPrefetchComponents());
              try {
                for (e.s(); !(t = e.n()).done; ) {
                  var r = t.value,
                    n = r();
                  (n instanceof Promise && n.catch(function () {}),
                    (r.__prefetched = !0));
                }
              } catch (t) {
                e.e(t);
              } finally {
                e.f();
              }
              if (!this.$root.isPreview) {
                var l = this.$router.resolve(
                  this.to,
                  this.$route,
                  this.append,
                ).href;
                this.$nuxt &&
                  this.$nuxt.fetchPayload(l, !0).catch(function () {});
              }
            }
          },
        },
      };
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      var n = r(65)(r(44), "Map");
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(44).Symbol;
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(272),
        o = r(438),
        l = r(276);
      t.exports = function (object) {
        return l(object) ? n(object) : o(object);
      };
    },
    function (t, e) {
      var r = Array.isArray;
      t.exports = r;
    },
    ,
    function (t, e) {
      t.exports = function (t) {
        return function (e) {
          return t(e);
        };
      };
    },
    function (t, e, r) {
      (function (t) {
        var n = r(268),
          o = e && !e.nodeType && e,
          l = o && "object" == typeof t && t && !t.nodeType && t,
          c = l && l.exports === o && n.process,
          h = (function () {
            try {
              var t = l && l.require && l.require("util").types;
              return t || (c && c.binding && c.binding("util"));
            } catch (t) {}
          })();
        t.exports = h;
      }).call(this, r(163)(t));
    },
    function (t, e) {
      var r = Object.prototype;
      t.exports = function (t) {
        var e = t && t.constructor;
        return t === (("function" == typeof e && e.prototype) || r);
      };
    },
    function (t, e, r) {
      var n = r(272),
        o = r(441),
        l = r(276);
      t.exports = function (object) {
        return l(object) ? n(object, !0) : o(object);
      };
    },
    function (t, e, r) {
      var n = r(446),
        o = r(277),
        l = Object.prototype.propertyIsEnumerable,
        c = Object.getOwnPropertySymbols,
        h = c
          ? function (object) {
              return null == object
                ? []
                : ((object = Object(object)),
                  n(c(object), function (symbol) {
                    return l.call(object, symbol);
                  }));
            }
          : o;
      t.exports = h;
    },
    function (t, e, r) {
      var n = r(450),
        o = r(159),
        l = r(451),
        c = r(452),
        h = r(453),
        d = r(126),
        f = r(269),
        m = "[object Map]",
        y = "[object Promise]",
        v = "[object Set]",
        E = "[object WeakMap]",
        D = "[object DataView]",
        T = f(n),
        S = f(o),
        _ = f(l),
        w = f(c),
        A = f(h),
        x = d;
      (((n && x(new n(new ArrayBuffer(1))) != D) ||
        (o && x(new o()) != m) ||
        (l && x(l.resolve()) != y) ||
        (c && x(new c()) != v) ||
        (h && x(new h()) != E)) &&
        (x = function (t) {
          var e = d(t),
            r = "[object Object]" == e ? t.constructor : void 0,
            n = r ? f(r) : "";
          if (n)
            switch (n) {
              case T:
                return D;
              case S:
                return m;
              case _:
                return y;
              case w:
                return v;
              case A:
                return E;
            }
          return e;
        }),
        (t.exports = x));
    },
    function (t, e, r) {
      var n = r(456);
      t.exports = function (t) {
        var e = new t.constructor(t.byteLength);
        return (new n(e).set(new n(t)), e);
      };
    },
    function (t, e, r) {
      "use strict";
      var n,
        o = SyntaxError,
        l = Function,
        c = TypeError,
        h = function (t) {
          try {
            return l('"use strict"; return (' + t + ").constructor;")();
          } catch (t) {}
        },
        d = Object.getOwnPropertyDescriptor;
      if (d)
        try {
          d({}, "");
        } catch (t) {
          d = null;
        }
      var f = function () {
          throw new c();
        },
        m = d
          ? (function () {
              try {
                return f;
              } catch (t) {
                try {
                  return d(arguments, "callee").get;
                } catch (t) {
                  return f;
                }
              }
            })()
          : f,
        y = r(491)(),
        v =
          Object.getPrototypeOf ||
          function (t) {
            return t.__proto__;
          },
        E = {},
        D = "undefined" == typeof Uint8Array ? n : v(Uint8Array),
        T = {
          "%AggregateError%":
            "undefined" == typeof AggregateError ? n : AggregateError,
          "%Array%": Array,
          "%ArrayBuffer%": "undefined" == typeof ArrayBuffer ? n : ArrayBuffer,
          "%ArrayIteratorPrototype%": y ? v([][Symbol.iterator]()) : n,
          "%AsyncFromSyncIteratorPrototype%": n,
          "%AsyncFunction%": E,
          "%AsyncGenerator%": E,
          "%AsyncGeneratorFunction%": E,
          "%AsyncIteratorPrototype%": E,
          "%Atomics%": "undefined" == typeof Atomics ? n : Atomics,
          "%BigInt%": "undefined" == typeof BigInt ? n : BigInt,
          "%BigInt64Array%":
            "undefined" == typeof BigInt64Array ? n : BigInt64Array,
          "%BigUint64Array%":
            "undefined" == typeof BigUint64Array ? n : BigUint64Array,
          "%Boolean%": Boolean,
          "%DataView%": "undefined" == typeof DataView ? n : DataView,
          "%Date%": Date,
          "%decodeURI%": decodeURI,
          "%decodeURIComponent%": decodeURIComponent,
          "%encodeURI%": encodeURI,
          "%encodeURIComponent%": encodeURIComponent,
          "%Error%": Error,
          "%eval%": eval,
          "%EvalError%": EvalError,
          "%Float32Array%":
            "undefined" == typeof Float32Array ? n : Float32Array,
          "%Float64Array%":
            "undefined" == typeof Float64Array ? n : Float64Array,
          "%FinalizationRegistry%":
            "undefined" == typeof FinalizationRegistry
              ? n
              : FinalizationRegistry,
          "%Function%": l,
          "%GeneratorFunction%": E,
          "%Int8Array%": "undefined" == typeof Int8Array ? n : Int8Array,
          "%Int16Array%": "undefined" == typeof Int16Array ? n : Int16Array,
          "%Int32Array%": "undefined" == typeof Int32Array ? n : Int32Array,
          "%isFinite%": isFinite,
          "%isNaN%": isNaN,
          "%IteratorPrototype%": y ? v(v([][Symbol.iterator]())) : n,
          "%JSON%": "object" == typeof JSON ? JSON : n,
          "%Map%": "undefined" == typeof Map ? n : Map,
          "%MapIteratorPrototype%":
            "undefined" != typeof Map && y
              ? v(new Map()[Symbol.iterator]())
              : n,
          "%Math%": Math,
          "%Number%": Number,
          "%Object%": Object,
          "%parseFloat%": parseFloat,
          "%parseInt%": parseInt,
          "%Promise%": "undefined" == typeof Promise ? n : Promise,
          "%Proxy%": "undefined" == typeof Proxy ? n : Proxy,
          "%RangeError%": RangeError,
          "%ReferenceError%": ReferenceError,
          "%Reflect%": "undefined" == typeof Reflect ? n : Reflect,
          "%RegExp%": RegExp,
          "%Set%": "undefined" == typeof Set ? n : Set,
          "%SetIteratorPrototype%":
            "undefined" != typeof Set && y
              ? v(new Set()[Symbol.iterator]())
              : n,
          "%SharedArrayBuffer%":
            "undefined" == typeof SharedArrayBuffer ? n : SharedArrayBuffer,
          "%String%": String,
          "%StringIteratorPrototype%": y ? v(""[Symbol.iterator]()) : n,
          "%Symbol%": y ? Symbol : n,
          "%SyntaxError%": o,
          "%ThrowTypeError%": m,
          "%TypedArray%": D,
          "%TypeError%": c,
          "%Uint8Array%": "undefined" == typeof Uint8Array ? n : Uint8Array,
          "%Uint8ClampedArray%":
            "undefined" == typeof Uint8ClampedArray ? n : Uint8ClampedArray,
          "%Uint16Array%": "undefined" == typeof Uint16Array ? n : Uint16Array,
          "%Uint32Array%": "undefined" == typeof Uint32Array ? n : Uint32Array,
          "%URIError%": URIError,
          "%WeakMap%": "undefined" == typeof WeakMap ? n : WeakMap,
          "%WeakRef%": "undefined" == typeof WeakRef ? n : WeakRef,
          "%WeakSet%": "undefined" == typeof WeakSet ? n : WeakSet,
        };
      try {
        null.error;
      } catch (t) {
        var S = v(v(t));
        T["%Error.prototype%"] = S;
      }
      var _ = function t(e) {
          var r;
          if ("%AsyncFunction%" === e) r = h("async function () {}");
          else if ("%GeneratorFunction%" === e) r = h("function* () {}");
          else if ("%AsyncGeneratorFunction%" === e)
            r = h("async function* () {}");
          else if ("%AsyncGenerator%" === e) {
            var n = t("%AsyncGeneratorFunction%");
            n && (r = n.prototype);
          } else if ("%AsyncIteratorPrototype%" === e) {
            var o = t("%AsyncGenerator%");
            o && (r = v(o.prototype));
          }
          return ((T[e] = r), r);
        },
        w = {
          "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
          "%ArrayPrototype%": ["Array", "prototype"],
          "%ArrayProto_entries%": ["Array", "prototype", "entries"],
          "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
          "%ArrayProto_keys%": ["Array", "prototype", "keys"],
          "%ArrayProto_values%": ["Array", "prototype", "values"],
          "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
          "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
          "%AsyncGeneratorPrototype%": [
            "AsyncGeneratorFunction",
            "prototype",
            "prototype",
          ],
          "%BooleanPrototype%": ["Boolean", "prototype"],
          "%DataViewPrototype%": ["DataView", "prototype"],
          "%DatePrototype%": ["Date", "prototype"],
          "%ErrorPrototype%": ["Error", "prototype"],
          "%EvalErrorPrototype%": ["EvalError", "prototype"],
          "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
          "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
          "%FunctionPrototype%": ["Function", "prototype"],
          "%Generator%": ["GeneratorFunction", "prototype"],
          "%GeneratorPrototype%": [
            "GeneratorFunction",
            "prototype",
            "prototype",
          ],
          "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
          "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
          "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
          "%JSONParse%": ["JSON", "parse"],
          "%JSONStringify%": ["JSON", "stringify"],
          "%MapPrototype%": ["Map", "prototype"],
          "%NumberPrototype%": ["Number", "prototype"],
          "%ObjectPrototype%": ["Object", "prototype"],
          "%ObjProto_toString%": ["Object", "prototype", "toString"],
          "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
          "%PromisePrototype%": ["Promise", "prototype"],
          "%PromiseProto_then%": ["Promise", "prototype", "then"],
          "%Promise_all%": ["Promise", "all"],
          "%Promise_reject%": ["Promise", "reject"],
          "%Promise_resolve%": ["Promise", "resolve"],
          "%RangeErrorPrototype%": ["RangeError", "prototype"],
          "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
          "%RegExpPrototype%": ["RegExp", "prototype"],
          "%SetPrototype%": ["Set", "prototype"],
          "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
          "%StringPrototype%": ["String", "prototype"],
          "%SymbolPrototype%": ["Symbol", "prototype"],
          "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
          "%TypedArrayPrototype%": ["TypedArray", "prototype"],
          "%TypeErrorPrototype%": ["TypeError", "prototype"],
          "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
          "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
          "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
          "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
          "%URIErrorPrototype%": ["URIError", "prototype"],
          "%WeakMapPrototype%": ["WeakMap", "prototype"],
          "%WeakSetPrototype%": ["WeakSet", "prototype"],
        },
        A = r(172),
        x = r(494),
        L = A.call(Function.call, Array.prototype.concat),
        k = A.call(Function.apply, Array.prototype.splice),
        C = A.call(Function.call, String.prototype.replace),
        R = A.call(Function.call, String.prototype.slice),
        O = A.call(Function.call, RegExp.prototype.exec),
        I =
          /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,
        P = /\\(\\)?/g,
        F = function (t, e) {
          var r,
            n = t;
          if ((x(w, n) && (n = "%" + (r = w[n])[0] + "%"), x(T, n))) {
            var l = T[n];
            if ((l === E && (l = _(n)), void 0 === l && !e))
              throw new c(
                "intrinsic " +
                  t +
                  " exists, but is not available. Please file an issue!",
              );
            return { alias: r, name: n, value: l };
          }
          throw new o("intrinsic " + t + " does not exist!");
        };
      t.exports = function (t, e) {
        if ("string" != typeof t || 0 === t.length)
          throw new c("intrinsic name must be a non-empty string");
        if (arguments.length > 1 && "boolean" != typeof e)
          throw new c('"allowMissing" argument must be a boolean');
        if (null === O(/^%?[^%]*%?$/, t))
          throw new o(
            "`%` may not be present anywhere but at the beginning and end of the intrinsic name",
          );
        var r = (function (t) {
            var e = R(t, 0, 1),
              r = R(t, -1);
            if ("%" === e && "%" !== r)
              throw new o("invalid intrinsic syntax, expected closing `%`");
            if ("%" === r && "%" !== e)
              throw new o("invalid intrinsic syntax, expected opening `%`");
            var n = [];
            return (
              C(t, I, function (t, e, r, o) {
                n[n.length] = r ? C(o, P, "$1") : e || t;
              }),
              n
            );
          })(t),
          n = r.length > 0 ? r[0] : "",
          l = F("%" + n + "%", e),
          h = l.name,
          f = l.value,
          m = !1,
          y = l.alias;
        y && ((n = y[0]), k(r, L([0, 1], y)));
        for (var i = 1, v = !0; i < r.length; i += 1) {
          var E = r[i],
            D = R(E, 0, 1),
            S = R(E, -1);
          if (
            ('"' === D ||
              "'" === D ||
              "`" === D ||
              '"' === S ||
              "'" === S ||
              "`" === S) &&
            D !== S
          )
            throw new o("property names with quotes must have matching quotes");
          if (
            (("constructor" !== E && v) || (m = !0),
            x(T, (h = "%" + (n += "." + E) + "%")))
          )
            f = T[h];
          else if (null != f) {
            if (!(E in f)) {
              if (!e)
                throw new c(
                  "base intrinsic for " +
                    t +
                    " exists, but the property is not available.",
                );
              return;
            }
            if (d && i + 1 >= r.length) {
              var desc = d(f, E);
              f =
                (v = !!desc) && "get" in desc && !("originalValue" in desc.get)
                  ? desc.get
                  : f[E];
            } else ((v = x(f, E)), (f = f[E]));
            v && !m && (T[h] = f);
          }
        }
        return f;
      };
    },
    function (t, e, r) {
      "use strict";
      var n = r(493);
      t.exports = Function.prototype.bind || n;
    },
    function (t, e, r) {
      "use strict";
      var n = String.prototype.replace,
        o = /%20/g,
        l = "RFC1738",
        c = "RFC3986";
      t.exports = {
        default: c,
        formatters: {
          RFC1738: function (t) {
            return n.call(t, o, "+");
          },
          RFC3986: function (t) {
            return String(t);
          },
        },
        RFC1738: l,
        RFC3986: c,
      };
    },
    function (t, e, r) {
      "use strict";
      e.a = {};
    },
    function (t, e, r) {
      "use strict";
      var n = {
        name: "ClientOnly",
        functional: !0,
        props: {
          placeholder: String,
          placeholderTag: { type: String, default: "div" },
        },
        render: function (t, e) {
          var r = e.parent,
            n = e.slots,
            o = e.props,
            l = n(),
            c = l.default;
          void 0 === c && (c = []);
          var h = l.placeholder;
          return r._isMounted
            ? c
            : (r.$once("hook:mounted", function () {
                r.$forceUpdate();
              }),
              o.placeholderTag && (o.placeholder || h)
                ? t(
                    o.placeholderTag,
                    { class: ["client-only-placeholder"] },
                    o.placeholder || h,
                  )
                : c.length > 0
                  ? c.map(function () {
                      return t(!1);
                    })
                  : t(!1));
        },
      };
      t.exports = n;
    },
    ,
    function (t, e) {
      var r = Object.prototype.toString,
        n = Array.isArray;
      t.exports = function (t) {
        return (
          "string" == typeof t ||
          (!n(t) &&
            (function (t) {
              return !!t && "object" == typeof t;
            })(t) &&
            "[object String]" == r.call(t))
        );
      };
    },
    function (t, e, r) {
      var n = r(501);
      function o() {
        return (o = n(
          regeneratorRuntime.mark(function t() {
            var e, n, o;
            return regeneratorRuntime.wrap(function (t) {
              for (;;)
                switch ((t.prev = t.next)) {
                  case 0:
                    if (!((!1) in navigator)) {
                      t.next = 2;
                      break;
                    }
                    throw new Error(
                      "serviceWorker is not supported in current browser!",
                    );
                  case 2:
                    return ((t.next = 4), r.e(12).then(r.bind(null, 531)));
                  case 4:
                    return (
                      (e = t.sent),
                      (n = e.Workbox),
                      (o = new n("/sw.js", { scope: "/" })),
                      (t.next = 9),
                      o.register()
                    );
                  case 9:
                    return t.abrupt("return", o);
                  case 10:
                  case "end":
                    return t.stop();
                }
            }, t);
          }),
        )).apply(this, arguments);
      }
      (r(57),
        r(7),
        r(51),
        r(45),
        (window.$workbox = (function () {
          return o.apply(this, arguments);
        })().catch(function (t) {})));
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e) {
      t.exports = function (t, e) {
        return t === e || (t != t && e != e);
      };
    },
    function (t, e, r) {
      var n = r(126),
        o = r(100);
      t.exports = function (t) {
        if (!o(t)) return !1;
        var e = n(t);
        return (
          "[object Function]" == e ||
          "[object GeneratorFunction]" == e ||
          "[object AsyncFunction]" == e ||
          "[object Proxy]" == e
        );
      };
    },
    function (t, e, r) {
      (function (e) {
        var r = "object" == typeof e && e && e.Object === Object && e;
        t.exports = r;
      }).call(this, r(39));
    },
    function (t, e) {
      var r = Function.prototype.toString;
      t.exports = function (t) {
        if (null != t) {
          try {
            return r.call(t);
          } catch (t) {}
          try {
            return t + "";
          } catch (t) {}
        }
        return "";
      };
    },
    function (t, e, r) {
      var n = r(271),
        o = r(266),
        l = Object.prototype.hasOwnProperty;
      t.exports = function (object, t, e) {
        var r = object[t];
        (l.call(object, t) && o(r, e) && (void 0 !== e || t in object)) ||
          n(object, t, e);
      };
    },
    function (t, e, r) {
      var n = r(429);
      t.exports = function (object, t, e) {
        "__proto__" == t && n
          ? n(object, t, {
              configurable: !0,
              enumerable: !0,
              value: e,
              writable: !0,
            })
          : (object[t] = e);
      };
    },
    function (t, e, r) {
      var n = r(431),
        o = r(432),
        l = r(162),
        c = r(273),
        h = r(435),
        d = r(436),
        f = Object.prototype.hasOwnProperty;
      t.exports = function (t, e) {
        var r = l(t),
          m = !r && o(t),
          y = !r && !m && c(t),
          v = !r && !m && !y && d(t),
          E = r || m || y || v,
          D = E ? n(t.length, String) : [],
          T = D.length;
        for (var S in t)
          (!e && !f.call(t, S)) ||
            (E &&
              ("length" == S ||
                (y && ("offset" == S || "parent" == S)) ||
                (v &&
                  ("buffer" == S || "byteLength" == S || "byteOffset" == S)) ||
                h(S, T))) ||
            D.push(S);
        return D;
      };
    },
    function (t, e, r) {
      (function (t) {
        var n = r(44),
          o = r(434),
          l = e && !e.nodeType && e,
          c = l && "object" == typeof t && t && !t.nodeType && t,
          h = c && c.exports === l ? n.Buffer : void 0,
          d = (h ? h.isBuffer : void 0) || o;
        t.exports = d;
      }).call(this, r(163)(t));
    },
    function (t, e) {
      t.exports = function (t) {
        return (
          "number" == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991
        );
      };
    },
    function (t, e) {
      t.exports = function (t, e) {
        return function (r) {
          return t(e(r));
        };
      };
    },
    function (t, e, r) {
      var n = r(267),
        o = r(274);
      t.exports = function (t) {
        return null != t && o(t.length) && !n(t);
      };
    },
    function (t, e) {
      t.exports = function () {
        return [];
      };
    },
    function (t, e, r) {
      var n = r(279),
        o = r(280),
        l = r(168),
        c = r(277),
        h = Object.getOwnPropertySymbols
          ? function (object) {
              for (var t = []; object; )
                (n(t, l(object)), (object = o(object)));
              return t;
            }
          : c;
      t.exports = h;
    },
    function (t, e) {
      t.exports = function (t, e) {
        for (var r = -1, n = e.length, o = t.length; ++r < n; ) t[o + r] = e[r];
        return t;
      };
    },
    function (t, e, r) {
      var n = r(275)(Object.getPrototypeOf, Object);
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(279),
        o = r(162);
      t.exports = function (object, t, e) {
        var r = t(object);
        return o(object) ? r : n(r, e(object));
      };
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      "use strict";
      var n = r(173),
        o = Object.prototype.hasOwnProperty,
        l = Array.isArray,
        c = (function () {
          for (var t = [], i = 0; i < 256; ++i)
            t.push("%" + ((i < 16 ? "0" : "") + i.toString(16)).toUpperCase());
          return t;
        })(),
        h = function (source, t) {
          for (
            var e = t && t.plainObjects ? Object.create(null) : {}, i = 0;
            i < source.length;
            ++i
          )
            void 0 !== source[i] && (e[i] = source[i]);
          return e;
        };
      t.exports = {
        arrayToObject: h,
        assign: function (t, source) {
          return Object.keys(source).reduce(function (t, e) {
            return ((t[e] = source[e]), t);
          }, t);
        },
        combine: function (a, b) {
          return [].concat(a, b);
        },
        compact: function (t) {
          for (
            var e = [{ obj: { o: t }, prop: "o" }], r = [], i = 0;
            i < e.length;
            ++i
          )
            for (
              var n = e[i], o = n.obj[n.prop], c = Object.keys(o), h = 0;
              h < c.length;
              ++h
            ) {
              var d = c[h],
                f = o[d];
              "object" == typeof f &&
                null !== f &&
                -1 === r.indexOf(f) &&
                (e.push({ obj: o, prop: d }), r.push(f));
            }
          return (
            (function (t) {
              for (; t.length > 1; ) {
                var e = t.pop(),
                  r = e.obj[e.prop];
                if (l(r)) {
                  for (var n = [], o = 0; o < r.length; ++o)
                    void 0 !== r[o] && n.push(r[o]);
                  e.obj[e.prop] = n;
                }
              }
            })(e),
            t
          );
        },
        decode: function (t, e, r) {
          var n = t.replace(/\+/g, " ");
          if ("iso-8859-1" === r) return n.replace(/%[0-9a-f]{2}/gi, unescape);
          try {
            return decodeURIComponent(n);
          } catch (t) {
            return n;
          }
        },
        encode: function (t, e, r, o, l) {
          if (0 === t.length) return t;
          var h = t;
          if (
            ("symbol" == typeof t
              ? (h = Symbol.prototype.toString.call(t))
              : "string" != typeof t && (h = String(t)),
            "iso-8859-1" === r)
          )
            return escape(h).replace(/%u[0-9a-f]{4}/gi, function (t) {
              return "%26%23" + parseInt(t.slice(2), 16) + "%3B";
            });
          for (var d = "", i = 0; i < h.length; ++i) {
            var f = h.charCodeAt(i);
            45 === f ||
            46 === f ||
            95 === f ||
            126 === f ||
            (f >= 48 && f <= 57) ||
            (f >= 65 && f <= 90) ||
            (f >= 97 && f <= 122) ||
            (l === n.RFC1738 && (40 === f || 41 === f))
              ? (d += h.charAt(i))
              : f < 128
                ? (d += c[f])
                : f < 2048
                  ? (d += c[192 | (f >> 6)] + c[128 | (63 & f)])
                  : f < 55296 || f >= 57344
                    ? (d +=
                        c[224 | (f >> 12)] +
                        c[128 | ((f >> 6) & 63)] +
                        c[128 | (63 & f)])
                    : ((i += 1),
                      (f =
                        65536 +
                        (((1023 & f) << 10) | (1023 & h.charCodeAt(i)))),
                      (d +=
                        c[240 | (f >> 18)] +
                        c[128 | ((f >> 12) & 63)] +
                        c[128 | ((f >> 6) & 63)] +
                        c[128 | (63 & f)]));
          }
          return d;
        },
        isBuffer: function (t) {
          return (
            !(!t || "object" != typeof t) &&
            !!(
              t.constructor &&
              t.constructor.isBuffer &&
              t.constructor.isBuffer(t)
            )
          );
        },
        isRegExp: function (t) {
          return "[object RegExp]" === Object.prototype.toString.call(t);
        },
        maybeMap: function (t, e) {
          if (l(t)) {
            for (var r = [], i = 0; i < t.length; i += 1) r.push(e(t[i]));
            return r;
          }
          return e(t);
        },
        merge: function t(e, source, r) {
          if (!source) return e;
          if ("object" != typeof source) {
            if (l(e)) e.push(source);
            else {
              if (!e || "object" != typeof e) return [e, source];
              ((r && (r.plainObjects || r.allowPrototypes)) ||
                !o.call(Object.prototype, source)) &&
                (e[source] = !0);
            }
            return e;
          }
          if (!e || "object" != typeof e) return [e].concat(source);
          var n = e;
          return (
            l(e) && !l(source) && (n = h(e, r)),
            l(e) && l(source)
              ? (source.forEach(function (n, i) {
                  if (o.call(e, i)) {
                    var l = e[i];
                    l && "object" == typeof l && n && "object" == typeof n
                      ? (e[i] = t(l, n, r))
                      : e.push(n);
                  } else e[i] = n;
                }),
                e)
              : Object.keys(source).reduce(function (e, n) {
                  var l = source[n];
                  return (
                    o.call(e, n) ? (e[n] = t(e[n], l, r)) : (e[n] = l),
                    e
                  );
                }, n)
          );
        },
      };
    },
    ,
    function (t, e, r) {
      "use strict";
      function n(t, e) {
        return (
          (e = e || {}),
          new Promise(function (r, n) {
            var s = new XMLHttpRequest(),
              o = [],
              u = {},
              a = function t() {
                return {
                  ok: 2 == ((s.status / 100) | 0),
                  statusText: s.statusText,
                  status: s.status,
                  url: s.responseURL,
                  text: function () {
                    return Promise.resolve(s.responseText);
                  },
                  json: function () {
                    return Promise.resolve(s.responseText).then(JSON.parse);
                  },
                  blob: function () {
                    return Promise.resolve(new Blob([s.response]));
                  },
                  clone: t,
                  headers: {
                    keys: function () {
                      return o;
                    },
                    entries: function () {
                      return o.map(function (t) {
                        return [t, s.getResponseHeader(t)];
                      });
                    },
                    get: function (t) {
                      return s.getResponseHeader(t);
                    },
                    has: function (t) {
                      return null != s.getResponseHeader(t);
                    },
                  },
                };
              };
            for (var i in (s.open(e.method || "get", t, !0),
            (s.onload = function () {
              (s
                .getAllResponseHeaders()
                .toLowerCase()
                .replace(/^(.+?):/gm, function (t, e) {
                  u[e] || o.push((u[e] = e));
                }),
                r(a()));
            }),
            (s.onerror = n),
            (s.withCredentials = "include" == e.credentials),
            e.headers))
              s.setRequestHeader(i, e.headers[i]);
            s.send(e.body || null);
          })
        );
      }
      r.d(e, "a", function () {
        return n;
      });
    },
    ,
    function (t, e, r) {
      "use strict";
      var n = function (t) {
        return (
          (function (t) {
            return !!t && "object" == typeof t;
          })(t) &&
          !(function (t) {
            var e = Object.prototype.toString.call(t);
            return (
              "[object RegExp]" === e ||
              "[object Date]" === e ||
              (function (t) {
                return t.$$typeof === o;
              })(t)
            );
          })(t)
        );
      };
      var o =
        "function" == typeof Symbol && Symbol.for
          ? Symbol.for("react.element")
          : 60103;
      function l(t, e) {
        return !1 !== e.clone && e.isMergeableObject(t)
          ? m(((r = t), Array.isArray(r) ? [] : {}), t, e)
          : t;
        var r;
      }
      function c(t, source, e) {
        return t.concat(source).map(function (element) {
          return l(element, e);
        });
      }
      function h(t) {
        return Object.keys(t).concat(
          (function (t) {
            return Object.getOwnPropertySymbols
              ? Object.getOwnPropertySymbols(t).filter(function (symbol) {
                  return Object.propertyIsEnumerable.call(t, symbol);
                })
              : [];
          })(t),
        );
      }
      function d(object, t) {
        try {
          return t in object;
        } catch (t) {
          return !1;
        }
      }
      function f(t, source, e) {
        var r = {};
        return (
          e.isMergeableObject(t) &&
            h(t).forEach(function (n) {
              r[n] = l(t[n], e);
            }),
          h(source).forEach(function (n) {
            (function (t, e) {
              return (
                d(t, e) &&
                !(
                  Object.hasOwnProperty.call(t, e) &&
                  Object.propertyIsEnumerable.call(t, e)
                )
              );
            })(t, n) ||
              (d(t, n) && e.isMergeableObject(source[n])
                ? (r[n] = (function (t, e) {
                    if (!e.customMerge) return m;
                    var r = e.customMerge(t);
                    return "function" == typeof r ? r : m;
                  })(n, e)(t[n], source[n], e))
                : (r[n] = l(source[n], e)));
          }),
          r
        );
      }
      function m(t, source, e) {
        (((e = e || {}).arrayMerge = e.arrayMerge || c),
          (e.isMergeableObject = e.isMergeableObject || n),
          (e.cloneUnlessOtherwiseSpecified = l));
        var r = Array.isArray(source);
        return r === Array.isArray(t)
          ? r
            ? e.arrayMerge(t, source, e)
            : f(t, source, e)
          : l(source, e);
      }
      m.all = function (t, e) {
        if (!Array.isArray(t))
          throw new Error("first argument should be an array");
        return t.reduce(function (t, r) {
          return m(t, r, e);
        }, {});
      };
      var y = m;
      t.exports = y;
    },
    function (t, e, r) {
      var n = r(397);
      t.exports = function (t) {
        return n(t, 5);
      };
    },
    ,
    ,
    function (t, e, r) {
      "use strict";
      var n = r(489),
        o = r(499),
        l = r(173);
      t.exports = { formats: l, parse: o, stringify: n };
    },
    function (t, e, r) {
      "use strict";
      class n extends Error {
        constructor() {
          (super("Throttled function aborted"), (this.name = "AbortError"));
        }
      }
      ((t.exports = ({ limit: t, interval: e, strict: r }) => {
        if (!Number.isFinite(t))
          throw new TypeError("Expected `limit` to be a finite number");
        if (!Number.isFinite(e))
          throw new TypeError("Expected `interval` to be a finite number");
        const o = new Map();
        let l = 0,
          c = 0;
        const h = [];
        const d = r
          ? function () {
              const r = Date.now();
              if (h.length < t) return (h.push(r), 0);
              const n = h.shift() + e;
              return r >= n ? (h.push(r), 0) : (h.push(n), n - r);
            }
          : function () {
              const r = Date.now();
              return r - l > e
                ? ((c = 1), (l = r), 0)
                : (c < t ? c++ : ((l += e), (c = 1)), l - r);
            };
        return (t) => {
          const e = function (...r) {
            if (!e.isEnabled) return (async () => t.apply(this, r))();
            let n;
            return new Promise((e, l) => {
              ((n = setTimeout(() => {
                (e(t.apply(this, r)), o.delete(n));
              }, d())),
                o.set(n, l));
            });
          };
          return (
            (e.abort = () => {
              for (const t of o.keys()) (clearTimeout(t), o.get(t)(new n()));
              (o.clear(), h.splice(0, h.length));
            }),
            (e.isEnabled = !0),
            e
          );
        };
      }),
        (t.exports.AbortError = n));
    },
    function (t, e) {
      function r(t, e) {
        var r = [],
          n = [];
        return (
          null == e &&
            (e = function (t, e) {
              return r[0] === e
                ? "[Circular ~]"
                : "[Circular ~." + n.slice(0, r.indexOf(e)).join(".") + "]";
            }),
          function (o, l) {
            if (r.length > 0) {
              var c = r.indexOf(this);
              (~c ? r.splice(c + 1) : r.push(this),
                ~c ? n.splice(c, 1 / 0, o) : n.push(o),
                ~r.indexOf(l) && (l = e.call(this, o, l)));
            } else r.push(l);
            return null == t ? l : t.call(this, o, l);
          }
        );
      }
      (t.exports = function (t, e, n, o) {
        return JSON.stringify(t, r(e, o), n);
      }).getSerialize = r;
    },
    function (t, e) {
      t.exports = (function (t) {
        function e(n) {
          if (r[n]) return r[n].exports;
          var o = (r[n] = { i: n, l: !1, exports: {} });
          return (t[n].call(o.exports, o, o.exports, e), (o.l = !0), o.exports);
        }
        var r = {};
        return (
          (e.m = t),
          (e.c = r),
          (e.d = function (t, r, n) {
            e.o(t, r) ||
              Object.defineProperty(t, r, {
                configurable: !1,
                enumerable: !0,
                get: n,
              });
          }),
          (e.n = function (t) {
            var r =
              t && t.__esModule
                ? function () {
                    return t.default;
                  }
                : function () {
                    return t;
                  };
            return (e.d(r, "a", r), r);
          }),
          (e.o = function (t, e) {
            return Object.prototype.hasOwnProperty.call(t, e);
          }),
          (e.p = ""),
          e((e.s = 0))
        );
      })([
        function (t, e, r) {
          "use strict";
          var n =
              "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                ? function (t) {
                    return typeof t;
                  }
                : function (t) {
                    return t &&
                      "function" == typeof Symbol &&
                      t.constructor === Symbol &&
                      t !== Symbol.prototype
                      ? "symbol"
                      : typeof t;
                  },
            o = r(1);
          t.exports = function (e, r) {
            var i =
                !(arguments.length > 2 && void 0 !== arguments[2]) ||
                arguments[2],
              a =
                "object" ===
                  ("undefined" == typeof document
                    ? "undefined"
                    : n(document)) && "string" == typeof document.cookie,
              s =
                "object" === (void 0 === e ? "undefined" : n(e)) &&
                "object" === (void 0 === r ? "undefined" : n(r)) &&
                void 0 !== t,
              u = (!a && !s) || (a && s),
              l = function (t) {
                if (s) {
                  var n = e.headers.cookie || "";
                  return (
                    t &&
                      (n = (n = r.getHeaders())["set-cookie"]
                        ? n["set-cookie"]
                            .map(function (t) {
                              return t.split(";")[0];
                            })
                            .join(";")
                        : ""),
                    n
                  );
                }
                if (a) return document.cookie || "";
              },
              c = function () {
                var t = r.getHeader("Set-Cookie");
                return (t = "string" == typeof t ? [t] : t) || [];
              },
              p = function (t) {
                return r.setHeader("Set-Cookie", t);
              },
              h = function (t, e) {
                if (!e) return t;
                try {
                  return JSON.parse(t);
                } catch (e) {
                  return t;
                }
              },
              d = {
                parseJSON: i,
                set: function () {
                  var t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : "",
                    e =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : "",
                    r =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : { path: "/" };
                  if (!u)
                    if (
                      ((e =
                        "object" === (void 0 === e ? "undefined" : n(e))
                          ? JSON.stringify(e)
                          : e),
                      s)
                    ) {
                      var i = c();
                      (i.push(o.serialize(t, e, r)), p(i));
                    } else document.cookie = o.serialize(t, e, r);
                },
                setAll: function () {
                  var t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : [];
                  u ||
                    (Array.isArray(t) &&
                      t.forEach(function (t) {
                        var e = t.name,
                          r = void 0 === e ? "" : e,
                          n = t.value,
                          o = void 0 === n ? "" : n,
                          i = t.opts,
                          a = void 0 === i ? { path: "/" } : i;
                        d.set(r, o, a);
                      }));
                },
                get: function () {
                  var t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : "",
                    e =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : { fromRes: !1, parseJSON: d.parseJSON };
                  if (u) return "";
                  var r = o.parse(l(e.fromRes))[t];
                  return h(r, e.parseJSON);
                },
                getAll: function () {
                  var t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : { fromRes: !1, parseJSON: d.parseJSON };
                  if (u) return {};
                  var e = o.parse(l(t.fromRes));
                  for (var r in e) e[r] = h(e[r], t.parseJSON);
                  return e;
                },
                remove: function () {
                  var t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : "",
                    e =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : { path: "/" };
                  u || ((e.expires = new Date(0)), d.set(t, "", e));
                },
                removeAll: function () {
                  var t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : { path: "/" };
                  if (!u) {
                    var e = o.parse(l());
                    for (var r in e) d.remove(r, t);
                  }
                },
                nodeCookie: o,
              };
            return d;
          };
        },
        function (t, e, r) {
          "use strict";
          function i(t, e) {
            try {
              return e(t);
            } catch (e) {
              return t;
            }
          }
          ((e.parse = function (t, e) {
            if ("string" != typeof t)
              throw new TypeError("argument str must be a string");
            for (
              var r = {}, n = e || {}, o = t.split(u), s = n.decode || a, l = 0;
              l < o.length;
              l++
            ) {
              var c = o[l],
                p = c.indexOf("=");
              if (!(p < 0)) {
                var h = c.substr(0, p).trim(),
                  d = c.substr(++p, c.length).trim();
                ('"' == d[0] && (d = d.slice(1, -1)),
                  null == r[h] && (r[h] = i(d, s)));
              }
            }
            return r;
          }),
            (e.serialize = function (t, e, r) {
              var o = r || {},
                l = o.encode || s;
              if ("function" != typeof l)
                throw new TypeError("option encode is invalid");
              if (!n.test(t)) throw new TypeError("argument name is invalid");
              var i = l(e);
              if (i && !n.test(i))
                throw new TypeError("argument val is invalid");
              var a = t + "=" + i;
              if (null != o.maxAge) {
                var u = o.maxAge - 0;
                if (isNaN(u)) throw new Error("maxAge should be a Number");
                a += "; Max-Age=" + Math.floor(u);
              }
              if (o.domain) {
                if (!n.test(o.domain))
                  throw new TypeError("option domain is invalid");
                a += "; Domain=" + o.domain;
              }
              if (o.path) {
                if (!n.test(o.path))
                  throw new TypeError("option path is invalid");
                a += "; Path=" + o.path;
              }
              if (o.expires) {
                if ("function" != typeof o.expires.toUTCString)
                  throw new TypeError("option expires is invalid");
                a += "; Expires=" + o.expires.toUTCString();
              }
              if (
                (o.httpOnly && (a += "; HttpOnly"),
                o.secure && (a += "; Secure"),
                o.sameSite)
              )
                switch (
                  "string" == typeof o.sameSite
                    ? o.sameSite.toLowerCase()
                    : o.sameSite
                ) {
                  case !0:
                    a += "; SameSite=Strict";
                    break;
                  case "lax":
                    a += "; SameSite=Lax";
                    break;
                  case "strict":
                    a += "; SameSite=Strict";
                    break;
                  case "none":
                    a += "; SameSite=None";
                    break;
                  default:
                    throw new TypeError("option sameSite is invalid");
                }
              return a;
            }));
          var a = decodeURIComponent,
            s = encodeURIComponent,
            u = /; */,
            n = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;
        },
      ]);
    },
    function (t, e, r) {
      var n = r(500),
        o = function (t) {
          var e = "",
            r = Object.keys(t);
          return (
            r.forEach(function (o, l) {
              var c = t[o];
              ((function (t) {
                return /[height|width]$/.test(t);
              })((o = n(o))) &&
                "number" == typeof c &&
                (c += "px"),
                (e +=
                  !0 === c
                    ? o
                    : !1 === c
                      ? "not " + o
                      : "(" + o + ": " + c + ")"),
                l < r.length - 1 && (e += " and "));
            }),
            e
          );
        };
      t.exports = function (t) {
        var e = "";
        return "string" == typeof t
          ? t
          : t instanceof Array
            ? (t.forEach(function (q, r) {
                ((e += o(q)), r < t.length - 1 && (e += ", "));
              }),
              e)
            : o(t);
      };
    },
    function (t, e, r) {
      (function (e) {
        var r;
        ((r = function () {
          "use strict";
          function t(t, e, r) {
            return (
              e in t
                ? Object.defineProperty(t, e, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = r),
              t
            );
          }
          function r(object, t) {
            var e = Object.keys(object);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(object);
              (t &&
                (r = r.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(object, t).enumerable;
                })),
                e.push.apply(e, r));
            }
            return e;
          }
          function n(e) {
            for (var i = 1; i < arguments.length; i++) {
              var source = null != arguments[i] ? arguments[i] : {};
              i % 2
                ? r(Object(source), !0).forEach(function (r) {
                    t(e, r, source[r]);
                  })
                : Object.getOwnPropertyDescriptors
                  ? Object.defineProperties(
                      e,
                      Object.getOwnPropertyDescriptors(source),
                    )
                  : r(Object(source)).forEach(function (t) {
                      Object.defineProperty(
                        e,
                        t,
                        Object.getOwnPropertyDescriptor(source, t),
                      );
                    });
            }
            return e;
          }
          function o(t) {
            return (
              (function (t) {
                if (Array.isArray(t)) return l(t);
              })(t) ||
              (function (t) {
                if (
                  "undefined" != typeof Symbol &&
                  Symbol.iterator in Object(t)
                )
                  return Array.from(t);
              })(t) ||
              (function (t, e) {
                if (t) {
                  if ("string" == typeof t) return l(t, e);
                  var r = Object.prototype.toString.call(t).slice(8, -1);
                  return (
                    "Object" === r && t.constructor && (r = t.constructor.name),
                    "Map" === r || "Set" === r
                      ? Array.from(t)
                      : "Arguments" === r ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                        ? l(t, e)
                        : void 0
                  );
                }
              })(t) ||
              (function () {
                throw new TypeError(
                  "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
                );
              })()
            );
          }
          function l(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var i = 0, r = new Array(e); i < e; i++) r[i] = t[i];
            return r;
          }
          var c,
            h =
              "undefined" != typeof globalThis
                ? globalThis
                : "undefined" != typeof window
                  ? window
                  : void 0 !== e
                    ? e
                    : "undefined" != typeof self
                      ? self
                      : {},
            d = (function (t, e) {
              return (t((e = { exports: {} }), e.exports), e.exports);
            })(function (t, e) {
              Object.defineProperty(e, "__esModule", { value: !0 });
              var r =
                "undefined" != typeof globalThis
                  ? globalThis
                  : "undefined" != typeof window
                    ? window
                    : void 0 !== h
                      ? h
                      : "undefined" != typeof self
                        ? self
                        : {};
              function n(t, e) {
                return (t((e = { exports: {} }), e.exports), e.exports);
              }
              var o = function (t) {
                  return t && t.Math == Math && t;
                },
                l =
                  o("object" == typeof globalThis && globalThis) ||
                  o("object" == typeof window && window) ||
                  o("object" == typeof self && self) ||
                  o("object" == typeof r && r) ||
                  Function("return this")(),
                c = function (t) {
                  try {
                    return !!t();
                  } catch (t) {
                    return !0;
                  }
                },
                d = !c(function () {
                  return (
                    7 !=
                    Object.defineProperty({}, 1, {
                      get: function () {
                        return 7;
                      },
                    })[1]
                  );
                }),
                f = {}.propertyIsEnumerable,
                m = Object.getOwnPropertyDescriptor,
                y = {
                  f:
                    m && !f.call({ 1: 2 }, 1)
                      ? function (t) {
                          var e = m(this, t);
                          return !!e && e.enumerable;
                        }
                      : f,
                },
                v = function (t, e) {
                  return {
                    enumerable: !(1 & t),
                    configurable: !(2 & t),
                    writable: !(4 & t),
                    value: e,
                  };
                },
                E = {}.toString,
                D = "".split,
                T = c(function () {
                  return !Object("z").propertyIsEnumerable(0);
                })
                  ? function (t) {
                      return "String" ==
                        (function (t) {
                          return E.call(t).slice(8, -1);
                        })(t)
                        ? D.call(t, "")
                        : Object(t);
                    }
                  : Object,
                S = function (t) {
                  return T(
                    (function (t) {
                      if (null == t)
                        throw TypeError("Can't call method on " + t);
                      return t;
                    })(t),
                  );
                },
                _ = function (t) {
                  return "object" == typeof t
                    ? null !== t
                    : "function" == typeof t;
                },
                w = function (input, t) {
                  if (!_(input)) return input;
                  var e, r;
                  if (
                    t &&
                    "function" == typeof (e = input.toString) &&
                    !_((r = e.call(input)))
                  )
                    return r;
                  if (
                    "function" == typeof (e = input.valueOf) &&
                    !_((r = e.call(input)))
                  )
                    return r;
                  if (
                    !t &&
                    "function" == typeof (e = input.toString) &&
                    !_((r = e.call(input)))
                  )
                    return r;
                  throw TypeError("Can't convert object to primitive value");
                },
                A = {}.hasOwnProperty,
                x = function (t, e) {
                  return A.call(t, e);
                },
                L = l.document,
                k = _(L) && _(L.createElement),
                C = function (t) {
                  return k ? L.createElement(t) : {};
                },
                R =
                  !d &&
                  !c(function () {
                    return (
                      7 !=
                      Object.defineProperty(C("div"), "a", {
                        get: function () {
                          return 7;
                        },
                      }).a
                    );
                  }),
                O = Object.getOwnPropertyDescriptor,
                I = {
                  f: d
                    ? O
                    : function (t, e) {
                        if (((t = S(t)), (e = w(e, !0)), R))
                          try {
                            return O(t, e);
                          } catch (t) {}
                        if (x(t, e)) return v(!y.f.call(t, e), t[e]);
                      },
                },
                P = function (t) {
                  if (!_(t)) throw TypeError(String(t) + " is not an object");
                  return t;
                },
                F = Object.defineProperty,
                M = {
                  f: d
                    ? F
                    : function (t, e, r) {
                        if ((P(t), (e = w(e, !0)), P(r), R))
                          try {
                            return F(t, e, r);
                          } catch (t) {}
                        if ("get" in r || "set" in r)
                          throw TypeError("Accessors not supported");
                        return ("value" in r && (t[e] = r.value), t);
                      },
                },
                N = d
                  ? function (object, t, e) {
                      return M.f(object, t, v(1, e));
                    }
                  : function (object, t, e) {
                      return ((object[t] = e), object);
                    },
                B = function (t, e) {
                  try {
                    N(l, t, e);
                  } catch (r) {
                    l[t] = e;
                  }
                  return e;
                },
                U = "__core-js_shared__",
                j = l[U] || B(U, {}),
                $ = Function.toString;
              "function" != typeof j.inspectSource &&
                (j.inspectSource = function (t) {
                  return $.call(t);
                });
              var G,
                K,
                H,
                V = j.inspectSource,
                Y = l.WeakMap,
                z = "function" == typeof Y && /native code/.test(V(Y)),
                W = n(function (t) {
                  (t.exports = function (t, e) {
                    return j[t] || (j[t] = void 0 !== e ? e : {});
                  })("versions", []).push({
                    version: "3.6.5",
                    mode: "global",
                    copyright: " 2020 Denis Pushkarev (zloirock.ru)",
                  });
                }),
                X = 0,
                Q = Math.random(),
                J = function (t) {
                  return (
                    "Symbol(" +
                    String(void 0 === t ? "" : t) +
                    ")_" +
                    (++X + Q).toString(36)
                  );
                },
                Z = W("keys"),
                tt = function (t) {
                  return Z[t] || (Z[t] = J(t));
                },
                et = {},
                nt = l.WeakMap;
              if (z) {
                var it = new nt(),
                  st = it.get,
                  at = it.has,
                  ot = it.set;
                ((G = function (t, e) {
                  return (ot.call(it, t, e), e);
                }),
                  (K = function (t) {
                    return st.call(it, t) || {};
                  }),
                  (H = function (t) {
                    return at.call(it, t);
                  }));
              } else {
                var lt = tt("state");
                ((et[lt] = !0),
                  (G = function (t, e) {
                    return (N(t, lt, e), e);
                  }),
                  (K = function (t) {
                    return x(t, lt) ? t[lt] : {};
                  }),
                  (H = function (t) {
                    return x(t, lt);
                  }));
              }
              var ut = {
                  set: G,
                  get: K,
                  has: H,
                  enforce: function (t) {
                    return H(t) ? K(t) : G(t, {});
                  },
                  getterFor: function (t) {
                    return function (e) {
                      var r;
                      if (!_(e) || (r = K(e)).type !== t)
                        throw TypeError(
                          "Incompatible receiver, " + t + " required",
                        );
                      return r;
                    };
                  },
                },
                ct = n(function (t) {
                  var e = ut.get,
                    r = ut.enforce,
                    n = String(String).split("String");
                  (t.exports = function (t, e, o, c) {
                    var h = !!c && !!c.unsafe,
                      d = !!c && !!c.enumerable,
                      f = !!c && !!c.noTargetGet;
                    ("function" == typeof o &&
                      ("string" != typeof e || x(o, "name") || N(o, "name", e),
                      (r(o).source = n.join("string" == typeof e ? e : ""))),
                      t !== l
                        ? (h ? !f && t[e] && (d = !0) : delete t[e],
                          d ? (t[e] = o) : N(t, e, o))
                        : d
                          ? (t[e] = o)
                          : B(e, o));
                  })(Function.prototype, "toString", function () {
                    return (
                      ("function" == typeof this && e(this).source) || V(this)
                    );
                  });
                }),
                path = l,
                ht = function (t) {
                  return "function" == typeof t ? t : void 0;
                },
                ft = function (t, e) {
                  return arguments.length < 2
                    ? ht(path[t]) || ht(l[t])
                    : (path[t] && path[t][e]) || (l[t] && l[t][e]);
                },
                pt = Math.ceil,
                gt = Math.floor,
                mt = function (t) {
                  return isNaN((t = +t)) ? 0 : (t > 0 ? gt : pt)(t);
                },
                yt = Math.min,
                vt = Math.max,
                bt = Math.min,
                Et = function (t) {
                  return function (e, r, n) {
                    var o,
                      l,
                      c = S(e),
                      h = (o = c.length) > 0 ? yt(mt(o), 9007199254740991) : 0,
                      d = (function (t, e) {
                        var r = mt(t);
                        return r < 0 ? vt(r + e, 0) : bt(r, e);
                      })(n, h);
                    if (t && r != r) {
                      for (; h > d; ) if ((l = c[d++]) != l) return !0;
                    } else
                      for (; h > d; d++)
                        if ((t || d in c) && c[d] === r) return t || d || 0;
                    return !t && -1;
                  };
                },
                Dt = { includes: Et(!0), indexOf: Et(!1) },
                Tt = Dt.indexOf,
                St = function (object, t) {
                  var e,
                    r = S(object),
                    i = 0,
                    n = [];
                  for (e in r) !x(et, e) && x(r, e) && n.push(e);
                  for (; t.length > i; )
                    x(r, (e = t[i++])) && (~Tt(n, e) || n.push(e));
                  return n;
                },
                _t = [
                  "constructor",
                  "hasOwnProperty",
                  "isPrototypeOf",
                  "propertyIsEnumerable",
                  "toLocaleString",
                  "toString",
                  "valueOf",
                ],
                wt = _t.concat("length", "prototype"),
                At = {
                  f:
                    Object.getOwnPropertyNames ||
                    function (t) {
                      return St(t, wt);
                    },
                },
                xt = { f: Object.getOwnPropertySymbols },
                Lt =
                  ft("Reflect", "ownKeys") ||
                  function (t) {
                    var e = At.f(P(t)),
                      r = xt.f;
                    return r ? e.concat(r(t)) : e;
                  },
                kt = function (t, source) {
                  for (
                    var e = Lt(source), r = M.f, n = I.f, i = 0;
                    i < e.length;
                    i++
                  ) {
                    var o = e[i];
                    x(t, o) || r(t, o, n(source, o));
                  }
                },
                Ct = /#|\.prototype\./,
                Rt = function (t, e) {
                  var r = data[Ot(t)];
                  return (
                    r == Pt ||
                    (r != It && ("function" == typeof e ? c(e) : !!e))
                  );
                },
                Ot = (Rt.normalize = function (t) {
                  return String(t).replace(Ct, ".").toLowerCase();
                }),
                data = (Rt.data = {}),
                It = (Rt.NATIVE = "N"),
                Pt = (Rt.POLYFILL = "P"),
                Ft = Rt,
                Mt = I.f,
                Nt = function (t, source) {
                  var e,
                    r,
                    n,
                    o,
                    c,
                    h = t.target,
                    d = t.global,
                    f = t.stat;
                  if (
                    (e = d ? l : f ? l[h] || B(h, {}) : (l[h] || {}).prototype)
                  )
                    for (r in source) {
                      if (
                        ((o = source[r]),
                        (n = t.noTargetGet ? (c = Mt(e, r)) && c.value : e[r]),
                        !Ft(d ? r : h + (f ? "." : "#") + r, t.forced) &&
                          void 0 !== n)
                      ) {
                        if (typeof o == typeof n) continue;
                        kt(o, n);
                      }
                      ((t.sham || (n && n.sham)) && N(o, "sham", !0),
                        ct(e, r, o, t));
                    }
                },
                Bt =
                  Object.keys ||
                  function (t) {
                    return St(t, _t);
                  },
                Ut = y.f,
                jt = function (t) {
                  return function (e) {
                    for (
                      var r, n = S(e), o = Bt(n), l = o.length, i = 0, c = [];
                      l > i;
                    )
                      ((r = o[i++]),
                        (d && !Ut.call(n, r)) || c.push(t ? [r, n[r]] : n[r]));
                    return c;
                  };
                },
                $t = (jt(!0), jt(!1));
              (Nt(
                { target: "Object", stat: !0 },
                {
                  values: function (t) {
                    return $t(t);
                  },
                },
              ),
                path.Object.values);
              var Gt,
                Kt =
                  !!Object.getOwnPropertySymbols &&
                  !c(function () {
                    return !String(Symbol());
                  }),
                Ht = Kt && !Symbol.sham && "symbol" == typeof Symbol.iterator,
                Vt = W("wks"),
                Yt = l.Symbol,
                zt = Ht ? Yt : (Yt && Yt.withoutSetter) || J,
                Wt = d
                  ? Object.defineProperties
                  : function (t, e) {
                      P(t);
                      for (var r, n = Bt(e), o = n.length, l = 0; o > l; )
                        M.f(t, (r = n[l++]), e[r]);
                      return t;
                    },
                html = ft("document", "documentElement"),
                qt = "prototype",
                Xt = "script",
                Qt = tt("IE_PROTO"),
                Jt = function () {},
                Zt = function (content) {
                  return "<" + Xt + ">" + content + "</" + Xt + ">";
                },
                te = function () {
                  try {
                    Gt = document.domain && new ActiveXObject("htmlfile");
                  } catch (t) {}
                  var t, iframe, e;
                  te = Gt
                    ? (function (t) {
                        (t.write(Zt("")), t.close());
                        var e = t.parentWindow.Object;
                        return ((t = null), e);
                      })(Gt)
                    : ((iframe = C("iframe")),
                      (e = "java" + Xt + ":"),
                      (iframe.style.display = "none"),
                      html.appendChild(iframe),
                      (iframe.src = String(e)),
                      (t = iframe.contentWindow.document).open(),
                      t.write(Zt("document.F=Object")),
                      t.close(),
                      t.F);
                  for (var r = _t.length; r--; ) delete te[qt][_t[r]];
                  return te();
                };
              et[Qt] = !0;
              var ee,
                re =
                  Object.create ||
                  function (t, e) {
                    var r;
                    return (
                      null !== t
                        ? ((Jt[qt] = P(t)),
                          (r = new Jt()),
                          (Jt[qt] = null),
                          (r[Qt] = t))
                        : (r = te()),
                      void 0 === e ? r : Wt(r, e)
                    );
                  },
                ne =
                  (x(Vt, (ee = "unscopables")) ||
                    (Kt && x(Yt, ee)
                      ? (Vt[ee] = Yt[ee])
                      : (Vt[ee] = zt("Symbol." + ee))),
                  Vt[ee]),
                ie = Array.prototype;
              null == ie[ne] &&
                M.f(ie, ne, { configurable: !0, value: re(null) });
              var se,
                ae = Object.defineProperty,
                oe = {},
                le = function (t) {
                  throw t;
                },
                ue = Dt.includes;
              (Nt(
                {
                  target: "Array",
                  proto: !0,
                  forced: !(function (t, e) {
                    if (x(oe, t)) return oe[t];
                    e || (e = {});
                    var r = [][t],
                      n = !!x(e, "ACCESSORS") && e.ACCESSORS,
                      o = x(e, 0) ? e[0] : le,
                      l = x(e, 1) ? e[1] : void 0;
                    return (oe[t] =
                      !!r &&
                      !c(function () {
                        if (n && !d) return !0;
                        var t = { length: -1 };
                        (n ? ae(t, 1, { enumerable: !0, get: le }) : (t[1] = 1),
                          r.call(t, o, l));
                      }));
                  })("indexOf", { ACCESSORS: !0, 1: 0 }),
                },
                {
                  includes: function (t) {
                    return ue(
                      this,
                      t,
                      arguments.length > 1 ? arguments[1] : void 0,
                    );
                  },
                },
              ),
                (se = "includes"),
                (ie[ne][se] = !0));
              var ce,
                he,
                de,
                fe = function (t, e, r) {
                  if (
                    ((function (t) {
                      if ("function" != typeof t)
                        throw TypeError(String(t) + " is not a function");
                    })(t),
                    void 0 === e)
                  )
                    return t;
                  switch (r) {
                    case 0:
                      return function () {
                        return t.call(e);
                      };
                    case 1:
                      return function (a) {
                        return t.call(e, a);
                      };
                    case 2:
                      return function (a, b) {
                        return t.call(e, a, b);
                      };
                    case 3:
                      return function (a, b, r) {
                        return t.call(e, a, b, r);
                      };
                  }
                  return function () {
                    return t.apply(e, arguments);
                  };
                },
                pe = Function.call;
              ((ce = "includes"),
                fe(pe, l.Array.prototype[ce], he),
                (function (t) {
                  ((t.DOCUMENT = "document"),
                    (t.PARAGRAPH = "paragraph"),
                    (t.HEADING_1 = "heading-1"),
                    (t.HEADING_2 = "heading-2"),
                    (t.HEADING_3 = "heading-3"),
                    (t.HEADING_4 = "heading-4"),
                    (t.HEADING_5 = "heading-5"),
                    (t.HEADING_6 = "heading-6"),
                    (t.OL_LIST = "ordered-list"),
                    (t.UL_LIST = "unordered-list"),
                    (t.LIST_ITEM = "list-item"),
                    (t.HR = "hr"),
                    (t.QUOTE = "blockquote"),
                    (t.EMBEDDED_ENTRY = "embedded-entry-block"),
                    (t.EMBEDDED_ASSET = "embedded-asset-block"));
                })(de || (de = {})));
              var ge,
                me = de;
              !(function (t) {
                ((t.HYPERLINK = "hyperlink"),
                  (t.ENTRY_HYPERLINK = "entry-hyperlink"),
                  (t.ASSET_HYPERLINK = "asset-hyperlink"),
                  (t.EMBEDDED_ENTRY = "embedded-entry-inline"));
              })(ge || (ge = {}));
              var ye,
                ve = ge,
                be = [
                  me.PARAGRAPH,
                  me.HEADING_1,
                  me.HEADING_2,
                  me.HEADING_3,
                  me.HEADING_4,
                  me.HEADING_5,
                  me.HEADING_6,
                  me.OL_LIST,
                  me.UL_LIST,
                  me.HR,
                  me.QUOTE,
                  me.EMBEDDED_ENTRY,
                  me.EMBEDDED_ASSET,
                ],
                Ee = [me.HR, me.EMBEDDED_ENTRY, me.EMBEDDED_ASSET],
                De =
                  (((ye = {})[me.OL_LIST] = [me.LIST_ITEM]),
                  (ye[me.UL_LIST] = [me.LIST_ITEM]),
                  (ye[me.LIST_ITEM] = be.slice()),
                  (ye[me.QUOTE] = [me.PARAGRAPH]),
                  ye),
                Te = {
                  nodeType: me.DOCUMENT,
                  data: {},
                  content: [
                    {
                      nodeType: me.PARAGRAPH,
                      data: {},
                      content: [
                        { nodeType: "text", value: "", marks: [], data: {} },
                      ],
                    },
                  ],
                },
                Se = Object.freeze({
                  isInline: function (t) {
                    return Object.values(ve).includes(t.nodeType);
                  },
                  isBlock: function (t) {
                    return Object.values(me).includes(t.nodeType);
                  },
                  isText: function (t) {
                    return "text" === t.nodeType;
                  },
                });
              ((e.BLOCKS = me),
                (e.CONTAINERS = De),
                (e.EMPTY_DOCUMENT = Te),
                (e.INLINES = ve),
                (e.MARKS = {
                  BOLD: "bold",
                  ITALIC: "italic",
                  UNDERLINE: "underline",
                  CODE: "code",
                }),
                (e.TOP_LEVEL_BLOCKS = be),
                (e.VOID_BLOCKS = Ee),
                (e.helpers = Se));
            });
          (c = d) &&
            c.__esModule &&
            Object.prototype.hasOwnProperty.call(c, "default") &&
            c.default;
          var f = d.BLOCKS;
          (d.CONTAINERS, d.EMPTY_DOCUMENT);
          var m = d.INLINES,
            y = d.MARKS;
          (d.TOP_LEVEL_BLOCKS, d.VOID_BLOCKS);
          var v,
            E,
            D = d.helpers,
            T = function (t, e, r, n) {
              return n(
                "span",
                {
                  key: r,
                  style: {
                    margin: "0px 5px",
                    padding: "0 .25rem 0 .75rem",
                    border: "1px solid #d3dce0",
                    fontFamily: "monospace",
                  },
                },
                "inline: ".concat(t, ", sys.id: ").concat(e.data.target.sys.id),
              );
            },
            S =
              (t((v = {}), y.BOLD, function (t, e, r) {
                return r("strong", { key: e }, t);
              }),
              t(v, y.ITALIC, function (t, e, r) {
                return r("em", { key: e }, t);
              }),
              t(v, y.UNDERLINE, function (t, e, r) {
                return r("u", { key: e }, t);
              }),
              t(v, y.CODE, function (t, e, r) {
                return r("code", { key: e }, t);
              }),
              v),
            _ =
              (t((E = {}), f.PARAGRAPH, function (t, e, r, n) {
                return r("p", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.HEADING_1, function (t, e, r, n) {
                return r("h1", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.HEADING_2, function (t, e, r, n) {
                return r("h2", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.HEADING_3, function (t, e, r, n) {
                return r("h3", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.HEADING_4, function (t, e, r, n) {
                return r("h4", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.HEADING_5, function (t, e, r, n) {
                return r("h5", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.HEADING_6, function (t, e, r, n) {
                return r("h6", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.EMBEDDED_ENTRY, function (t, e, r, n) {
                return r("div", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.UL_LIST, function (t, e, r, n) {
                return r("ul", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.OL_LIST, function (t, e, r, n) {
                return r("ol", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.LIST_ITEM, function (t, e, r, n) {
                return r("li", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.QUOTE, function (t, e, r, n) {
                return r("blockquote", { key: e }, n(t.content, e, r, n));
              }),
              t(E, f.HR, function (t, e, r) {
                return r("hr", { key: e }, {});
              }),
              t(E, m.ASSET_HYPERLINK, function (t, e, r) {
                return T(m.ASSET_HYPERLINK, t, e, r);
              }),
              t(E, m.ENTRY_HYPERLINK, function (t, e, r) {
                return T(m.ENTRY_HYPERLINK, t, e, r);
              }),
              t(E, m.EMBEDDED_ENTRY, function (t, e, r) {
                return T(m.EMBEDDED_ENTRY, t, e, r);
              }),
              t(E, m.HYPERLINK, function (t, e, r, n) {
                return r(
                  "a",
                  { key: e, attrs: { href: t.data.uri } },
                  n(t.content, e, r, n),
                );
              }),
              t(E, "text", function (t, e, r, n) {
                var l = t.marks,
                  c = t.value;
                return l.length
                  ? o(l)
                      .reverse()
                      .reduce(function (t, mark, i) {
                        return n[mark.type](
                          [t],
                          "".concat(e, "-").concat(i),
                          r,
                        );
                      }, c)
                  : c;
              }),
              E),
            w = function (t, e, r) {
              return t.map(function (t, i) {
                return A(t, "".concat(e, "-").concat(i), r);
              });
            },
            A = function (t, e, r) {
              var n = r.node,
                o = r.createElement;
              if (D.isText(t)) {
                var l = r.mark;
                return n.text(t, e, o, l);
              }
              return n
                ? t.nodeType && n[t.nodeType]
                  ? n[t.nodeType](t, e, o, function (t) {
                      return w(t, e, r);
                    })
                  : "(Unrecognized node type) " + (t.nodeType || "empty")
                : o("div", "".concat(e, " ;lost nodeRenderer"));
            };
          return {
            functional: !0,
            props: ["document", "nodeRenderers", "markRenderers"],
            render: function (t, e) {
              var r = {
                node: n(n({}, _), e.props.nodeRenderers),
                mark: n(n({}, S), e.props.markRenderers),
                createElement: t,
              };
              return w(e.props.document.content, "RichText-", r);
            },
          };
        }),
          (t.exports = r()));
      }).call(this, r(39));
    },
    ,
    function (t, e) {
      t.exports = (function (t) {
        var e = {};
        function r(n) {
          if (e[n]) return e[n].exports;
          var o = (e[n] = { i: n, l: !1, exports: {} });
          return (t[n].call(o.exports, o, o.exports, r), (o.l = !0), o.exports);
        }
        return (
          (r.m = t),
          (r.c = e),
          (r.d = function (t, e, n) {
            r.o(t, e) ||
              Object.defineProperty(t, e, { enumerable: !0, get: n });
          }),
          (r.r = function (t) {
            ("undefined" != typeof Symbol &&
              Symbol.toStringTag &&
              Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }),
              Object.defineProperty(t, "__esModule", { value: !0 }));
          }),
          (r.t = function (t, e) {
            if ((1 & e && (t = r(t)), 8 & e)) return t;
            if (4 & e && "object" == typeof t && t && t.__esModule) return t;
            var n = Object.create(null);
            if (
              (r.r(n),
              Object.defineProperty(n, "default", { enumerable: !0, value: t }),
              2 & e && "string" != typeof t)
            )
              for (var o in t)
                r.d(
                  n,
                  o,
                  function (e) {
                    return t[e];
                  }.bind(null, o),
                );
            return n;
          }),
          (r.n = function (t) {
            var e =
              t && t.__esModule
                ? function () {
                    return t.default;
                  }
                : function () {
                    return t;
                  };
            return (r.d(e, "a", e), e);
          }),
          (r.o = function (object, t) {
            return Object.prototype.hasOwnProperty.call(object, t);
          }),
          (r.p = ""),
          r((r.s = "fb15"))
        );
      })({
        f6fd: function (t, e) {
          !(function (t) {
            var e = "currentScript",
              r = t.getElementsByTagName("script");
            e in t ||
              Object.defineProperty(t, e, {
                get: function () {
                  try {
                    throw new Error();
                  } catch (e) {
                    var i,
                      t = (/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(e.stack) || [
                        !1,
                      ])[1];
                    for (i in r)
                      if (r[i].src == t || "interactive" == r[i].readyState)
                        return r[i];
                    return null;
                  }
                },
              });
          })(document);
        },
        fb15: function (t, e, r) {
          "use strict";
          var i;
          (r.r(e), "undefined" != typeof window) &&
            (r("f6fd"),
            (i = window.document.currentScript) &&
              (i = i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/)) &&
              (r.p = i[1]));
          function n(object, t) {
            var e = Object.keys(object);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(object);
              (t &&
                (r = r.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(object, t).enumerable;
                })),
                e.push.apply(e, r));
            }
            return e;
          }
          function o(t, e, r) {
            return (
              e in t
                ? Object.defineProperty(t, e, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = r),
              t
            );
          }
          var l = (function (t) {
            for (var i = 1; i < arguments.length; i++) {
              var source = null != arguments[i] ? arguments[i] : {};
              i % 2
                ? n(source, !0).forEach(function (e) {
                    o(t, e, source[e]);
                  })
                : Object.getOwnPropertyDescriptors
                  ? Object.defineProperties(
                      t,
                      Object.getOwnPropertyDescriptors(source),
                    )
                  : n(source).forEach(function (e) {
                      Object.defineProperty(
                        t,
                        e,
                        Object.getOwnPropertyDescriptor(source, e),
                      );
                    });
            }
            return t;
          })(
            {
              backspace: 8,
              tab: 9,
              enter: 13,
              shift: 16,
              ctrl: 17,
              alt: 18,
              "pause/break": 19,
              capslock: 20,
              esc: 27,
              space: 32,
              pageup: 33,
              pagedown: 34,
              end: 35,
              home: 36,
              left: 37,
              up: 38,
              right: 39,
              down: 40,
              insert: 45,
              delete: 46,
              command: 91,
              meta: 91,
              leftcommand: 91,
              rightcommand: 93,
              scrolllock: 145,
              mycomputer: 182,
              mycalculator: 183,
              ";": 186,
              "=": 187,
              ",": 188,
              "-": 189,
              ".": 190,
              "/": 191,
              "`": 192,
              "[": 219,
              "\\": 220,
              "]": 221,
              "'": 222,
              ":": 186,
              "+": 187,
              "<": 188,
              _: 189,
              ">": 190,
              "?": 191,
              "~": 192,
              "{": 219,
              "|": 220,
              "}": 221,
              '"': 222,
            },
            {
              a: 65,
              b: 66,
              c: 67,
              d: 68,
              e: 69,
              f: 70,
              g: 71,
              h: 72,
              i: 73,
              j: 74,
              k: 75,
              l: 76,
              m: 77,
              n: 78,
              o: 79,
              p: 80,
              q: 81,
              r: 82,
              s: 83,
              t: 84,
              u: 85,
              v: 86,
              w: 87,
              x: 88,
              y: 89,
              z: 90,
            },
            {},
            {
              "numpad*": 106,
              "numpad+": 43,
              numpadadd: 43,
              "numpad-": 109,
              "numpad.": 110,
              "numpad/": 111,
              numlock: 144,
              numpad0: 96,
              numpad1: 97,
              numpad2: 98,
              numpad3: 99,
              numpad4: 100,
              numpad5: 101,
              numpad6: 102,
              numpad7: 103,
              numpad8: 104,
              numpad9: 105,
            },
            {},
            {
              f1: 112,
              f2: 113,
              f3: 114,
              f4: 115,
              f5: 116,
              f6: 117,
              f7: 118,
              f8: 119,
              f9: 120,
              f10: 121,
              f11: 122,
              f12: 123,
            },
            {},
            {
              windows: 91,
              "": 16,
              "": 18,
              "": 17,
              "": 91,
              ctl: 17,
              control: 17,
              option: 18,
              pause: 19,
              break: 19,
              caps: 20,
              return: 13,
              escape: 27,
              spc: 32,
              pgup: 33,
              pgdn: 34,
              ins: 45,
              del: 46,
              cmd: 91,
            },
          );
          function c(t, i) {
            return (
              (function (t) {
                if (Array.isArray(t)) return t;
              })(t) ||
              (function (t, i) {
                if (
                  !(Symbol.iterator in Object(t)) &&
                  "[object Arguments]" !== Object.prototype.toString.call(t)
                )
                  return;
                var e = [],
                  r = !0,
                  n = !1,
                  o = void 0;
                try {
                  for (
                    var l, c = t[Symbol.iterator]();
                    !(r = (l = c.next()).done) &&
                    (e.push(l.value), !i || e.length !== i);
                    r = !0
                  );
                } catch (t) {
                  ((n = !0), (o = t));
                } finally {
                  try {
                    r || null == c.return || c.return();
                  } finally {
                    if (n) throw o;
                  }
                }
                return e;
              })(t, i) ||
              (function () {
                throw new TypeError(
                  "Invalid attempt to destructure non-iterable instance",
                );
              })()
            );
          }
          var h = ["INPUT", "TEXTAREA", "SELECT"],
            d = function (t, e, r) {
              var n = t.find(function (t) {
                var a,
                  b,
                  code = t.code,
                  n = t.modifiers;
                return (
                  code === e &&
                  ((a = r),
                  (b = n),
                  Object.entries(a).every(function (t) {
                    var e = c(t, 2),
                      r = e[0],
                      n = e[1];
                    return b[r] === n;
                  }))
                );
              });
              return !!n && n.callback;
            };
          function f(object, t) {
            var e = Object.keys(object);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(object);
              (t &&
                (r = r.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(object, t).enumerable;
                })),
                e.push.apply(e, r));
            }
            return e;
          }
          function m(t) {
            for (var i = 1; i < arguments.length; i++) {
              var source = null != arguments[i] ? arguments[i] : {};
              i % 2
                ? f(source, !0).forEach(function (e) {
                    y(t, e, source[e]);
                  })
                : Object.getOwnPropertyDescriptors
                  ? Object.defineProperties(
                      t,
                      Object.getOwnPropertyDescriptors(source),
                    )
                  : f(source).forEach(function (e) {
                      Object.defineProperty(
                        t,
                        e,
                        Object.getOwnPropertyDescriptor(source, e),
                      );
                    });
            }
            return t;
          }
          function y(t, e, r) {
            return (
              e in t
                ? Object.defineProperty(t, e, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = r),
              t
            );
          }
          var v = function () {},
            E = { ctrlKey: !1, altKey: !1, shiftKey: !1, metaKey: !1 },
            D = {
              option: "alt",
              command: "meta",
              return: "enter",
              escape: "esc",
              plus: "+",
              mod: /Mac|iPod|iPhone|iPad/.test(navigator.platform)
                ? "meta"
                : "ctrl",
            },
            T = function (t, e) {
              var r = m({}, E);
              if (t.length > 1)
                return t.reduce(
                  function (t, r) {
                    return (
                      (r = D[r] || r),
                      E.hasOwnProperty("".concat(r, "Key"))
                        ? (t.modifiers = m(
                            {},
                            t.modifiers,
                            y({}, "".concat(r, "Key"), !0),
                          ))
                        : (t.code = e[r] || S(r)),
                      t
                    );
                  },
                  { modifiers: r },
                );
              var n = D[t[0]] || t[0];
              return (
                E.hasOwnProperty("".concat(n, "Key")) &&
                  (r = m({}, r, y({}, "".concat(n, "Key"), !0))),
                { modifiers: r, code: e[n] || S(n) }
              );
            },
            S = function (t) {
              return (
                l[t.toLowerCase()] ||
                (function (t) {
                  return 1 === t.length ? t.charCodeAt(0) : void 0;
                })(t)
              );
            };
          function _(t, e, r) {
            var n = e.value,
              o = e.modifiers;
            ((t._keyMap = (function (t, e) {
              var r = [];
              return (
                Object.keys(t).forEach(function (n) {
                  var o = t[n],
                    l = o.keyup,
                    c = { keydown: o.keydown || (l ? v : t[n]), keyup: l || v },
                    h = (function (t) {
                      return (t = (t = (t = t.replace(/\s/g, "")).includes(
                        "numpad+",
                      )
                        ? t.replace("numpad+", "numpadadd")
                        : t).includes("++")
                        ? t.replace("++", "+=")
                        : t).split(/\+{1}/);
                    })(n),
                    d = T(h, e),
                    code = d.code,
                    f = d.modifiers;
                  r.push({ code: code, modifiers: f, callback: c });
                }),
                r
              );
            })(n, r)),
              (t._keyHandler = function (e) {
                return (function (t, e, r) {
                  var n = t.keyCode,
                    o = {
                      ctrlKey: t.ctrlKey,
                      altKey: t.altKey,
                      shiftKey: t.shiftKey,
                      metaKey: t.metaKey,
                    };
                  (r.prevent && t.preventDefault(),
                    r.stop && t.stopPropagation());
                  var l = document.activeElement,
                    c = l.nodeName;
                  if (!l.isContentEditable && !h.includes(c)) {
                    var f = d(e, n, o);
                    if (!f) return t;
                    (t.preventDefault(), f[t.type](t));
                  }
                })(e, t._keyMap, o);
              }),
              document.addEventListener("keydown", t._keyHandler),
              document.addEventListener("keyup", t._keyHandler));
          }
          function w(t) {
            (document.removeEventListener("keydown", t._keyHandler),
              document.removeEventListener("keyup", t._keyHandler));
          }
          var A = function () {
              var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {};
              return {
                bind: function (e, r) {
                  _(e, r, t);
                },
                componentUpdated: function (e, r) {
                  r.value !== r.oldValue && (w(e), _(e, r, t));
                },
                unbind: w,
              };
            },
            x = {
              install: function (t) {
                var e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {};
                t.directive("hotkey", A(e));
              },
              directive: A(),
            },
            L = x;
          e.default = L;
        },
      });
    },
    function (t, e, r) {
      t.exports = (function () {
        var t = "__v-click-outside",
          e = "undefined" != typeof window,
          r = "undefined" != typeof navigator,
          n =
            e &&
            ("ontouchstart" in window || (r && navigator.msMaxTouchPoints > 0))
              ? ["touchstart"]
              : ["click"];
        function i(t) {
          var e = t.event,
            r = t.handler;
          (0, t.middleware)(e) && r(e);
        }
        function a(e, r) {
          var a = (function (t) {
              var e = "function" == typeof t;
              if (!e && "object" != typeof t)
                throw new Error(
                  "v-click-outside: Binding value must be a function or an object",
                );
              return {
                handler: e ? t : t.handler,
                middleware:
                  t.middleware ||
                  function (t) {
                    return t;
                  },
                events: t.events || n,
                isActive: !(!1 === t.isActive),
                detectIframe: !(!1 === t.detectIframe),
                capture: !!t.capture,
              };
            })(r.value),
            o = a.handler,
            l = a.middleware,
            c = a.detectIframe,
            u = a.capture;
          if (a.isActive) {
            if (
              ((e[t] = a.events.map(function (t) {
                return {
                  event: t,
                  srcTarget: document.documentElement,
                  handler: function (t) {
                    return (function (t) {
                      var e = t.el,
                        r = t.event,
                        n = t.handler,
                        a = t.middleware,
                        o = (r.composedPath && r.composedPath()) || r.path;
                      (o ? o.indexOf(e) < 0 : !e.contains(r.target)) &&
                        i({ event: r, handler: n, middleware: a });
                    })({ el: e, event: t, handler: o, middleware: l });
                  },
                  capture: u,
                };
              })),
              c)
            ) {
              var h = {
                event: "blur",
                srcTarget: window,
                handler: function (t) {
                  return (function (t) {
                    var e = t.el,
                      r = t.event,
                      n = t.handler,
                      a = t.middleware;
                    setTimeout(function () {
                      var t = document.activeElement;
                      t &&
                        "IFRAME" === t.tagName &&
                        !e.contains(t) &&
                        i({ event: r, handler: n, middleware: a });
                    }, 0);
                  })({ el: e, event: t, handler: o, middleware: l });
                },
                capture: u,
              };
              e[t] = [].concat(e[t], [h]);
            }
            e[t].forEach(function (r) {
              var n = r.event,
                i = r.srcTarget,
                a = r.handler;
              return setTimeout(function () {
                e[t] && i.addEventListener(n, a, u);
              }, 0);
            });
          }
        }
        function o(e) {
          ((e[t] || []).forEach(function (t) {
            return t.srcTarget.removeEventListener(
              t.event,
              t.handler,
              t.capture,
            );
          }),
            delete e[t]);
        }
        var l = e
          ? {
              bind: a,
              update: function (t, e) {
                var r = e.value,
                  n = e.oldValue;
                JSON.stringify(r) !== JSON.stringify(n) &&
                  (o(t), a(t, { value: r }));
              },
              unbind: o,
            }
          : {};
        return {
          install: function (t) {
            t.directive("click-outside", l);
          },
          directive: l,
        };
      })();
    },
    function (t, e, r) {
      "use strict";
      var n = r(11),
        o = (r(57), r(38), r(7), r(52), r(0)),
        l = r(1),
        c = window.__NUXT__;
      function h() {
        if (!this._hydrated) return this.$fetch();
      }
      function d() {
        if (
          (t = this).$vnode &&
          t.$vnode.elm &&
          t.$vnode.elm.dataset &&
          t.$vnode.elm.dataset.fetchKey
        ) {
          var t;
          ((this._hydrated = !0),
            (this._fetchKey = this.$vnode.elm.dataset.fetchKey));
          var data = c.fetch[this._fetchKey];
          if (data && data._error) this.$fetchState.error = data._error;
          else for (var e in data) o.a.set(this.$data, e, data[e]);
        } else f.call(this);
      }
      function f() {
        var t = !1 !== this.$options.fetchOnServer;
        if (
          ("function" == typeof this.$options.fetchOnServer &&
            (t = !1 !== this.$options.fetchOnServer.call(this)),
          t && !this.$nuxt.isPreview && this.$nuxt._pagePayload)
        ) {
          this._hydrated = !0;
          var e = this.$options._scopeId || this.$options.name || "",
            r = Object(l.d)(this.$nuxt._fetchCounters, e);
          if ("function" == typeof this.$options.fetchKey)
            this._fetchKey = this.$options.fetchKey.call(this, r);
          else {
            var n =
              "string" == typeof this.$options.fetchKey
                ? this.$options.fetchKey
                : e;
            this._fetchKey = n ? n + ":" + r(n) : String(r(n));
          }
          var data = this.$nuxt._pagePayload.fetch[this._fetchKey];
          if (data && data._error) this.$fetchState.error = data._error;
          else if (data) for (var c in data) o.a.set(this.$data, c, data[c]);
          else this.$fetch();
        }
      }
      function m() {
        var t = this;
        return (
          this._fetchPromise ||
            (this._fetchPromise = y.call(this).then(function () {
              delete t._fetchPromise;
            })),
          this._fetchPromise
        );
      }
      function y() {
        return v.apply(this, arguments);
      }
      function v() {
        return (v = Object(n.a)(
          regeneratorRuntime.mark(function t() {
            var e,
              r,
              n,
              o = this;
            return regeneratorRuntime.wrap(
              function (t) {
                for (;;)
                  switch ((t.prev = t.next)) {
                    case 0:
                      return (
                        this.$nuxt.nbFetching++,
                        (this.$fetchState.pending = !0),
                        (this.$fetchState.error = null),
                        (this._hydrated = !1),
                        (e = null),
                        (r = Date.now()),
                        (t.prev = 6),
                        (t.next = 9),
                        this.$options.fetch.call(this)
                      );
                    case 9:
                      t.next = 15;
                      break;
                    case 11:
                      ((t.prev = 11),
                        (t.t0 = t.catch(6)),
                        (e = Object(l.p)(t.t0)));
                    case 15:
                      if (!((n = this._fetchDelay - (Date.now() - r)) > 0)) {
                        t.next = 19;
                        break;
                      }
                      return (
                        (t.next = 19),
                        new Promise(function (t) {
                          return setTimeout(t, n);
                        })
                      );
                    case 19:
                      ((this.$fetchState.error = e),
                        (this.$fetchState.pending = !1),
                        (this.$fetchState.timestamp = Date.now()),
                        this.$nextTick(function () {
                          return o.$nuxt.nbFetching--;
                        }));
                    case 23:
                    case "end":
                      return t.stop();
                  }
              },
              t,
              this,
              [[6, 11]],
            );
          }),
        )).apply(this, arguments);
      }
      e.a = {
        beforeCreate: function () {
          Object(l.m)(this) &&
            ((this._fetchDelay =
              "number" == typeof this.$options.fetchDelay
                ? this.$options.fetchDelay
                : 200),
            o.a.util.defineReactive(this, "$fetchState", {
              pending: !1,
              error: null,
              timestamp: Date.now(),
            }),
            (this.$fetch = m.bind(this)),
            Object(l.a)(this, "created", d),
            Object(l.a)(this, "beforeMount", h));
        },
      };
    },
    function (t, e, r) {
      "use strict";
      r.d(e, "a", function () {
        return h;
      });
      (r(7), r(38), r(52));
      var n = {},
        o = {},
        l = {};
      function c(t, e) {
        if (n[t]) return Promise.resolve(n[t]);
        if (l[t]) return Promise.reject(l[t]);
        if (o[t]) return o[t];
        var r,
          c,
          h = (o[t] = new Promise(function (t, e) {
            ((r = t), (c = e));
          }));
        delete n[t];
        var d,
          script = document.createElement("script");
        ((script.charset = "utf-8"), (script.timeout = 120), (script.src = e));
        var f = new Error(),
          m =
            (script.onerror =
            script.onload =
              function (e) {
                if (
                  (clearTimeout(d),
                  delete o[t],
                  (script.onerror = script.onload = null),
                  n[t])
                )
                  return r(n[t]);
                var h = e && ("load" === e.type ? "missing" : e.type),
                  m = e && e.target && e.target.src;
                ((f.message =
                  "Loading chunk " + t + " failed.\n(" + h + ": " + m + ")"),
                  (f.name = "ChunkLoadError"),
                  (f.type = h),
                  (f.request = m),
                  (l[t] = f),
                  c(f));
              });
        return (
          (d = setTimeout(function () {
            m({ type: "timeout", target: script });
          }, 12e4)),
          document.head.appendChild(script),
          h
        );
      }
      function h() {
        ((window.__NUXT_JSONP__ = function (t, e) {
          n[t] = e;
        }),
          (window.__NUXT_JSONP_CACHE__ = n),
          (window.__NUXT_IMPORT__ = c));
      }
    },
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      (function (t) {
        t.installComponents = function (component, t) {
          var r =
            "function" == typeof component.exports
              ? component.exports.extendOptions
              : component.options;
          for (var i in ("function" == typeof component.exports &&
            (r.components = component.exports.options.components),
          (r.components = r.components || {}),
          t))
            r.components[i] = r.components[i] || t[i];
          r.functional &&
            (function (component, t) {
              if (component.exports[e]) return;
              component.exports[e] = !0;
              var r = component.exports.render;
              component.exports.render = function (e, n) {
                return r(
                  e,
                  Object.assign({}, n, {
                    _c: function (e, a, b) {
                      return n._c(t[e] || e, a, b);
                    },
                  }),
                );
              };
            })(component, r.components);
        };
        var e = "_functionalComponents";
      }).call(this, r(39));
    },
    function (t, e, r) {
      "use strict";
      (r.r(e),
        function (t) {
          (r(66), r(90), r(25), r(60), r(96));
          var e = r(24),
            n = r(11),
            o =
              (r(148),
              r(336),
              r(348),
              r(350),
              r(57),
              r(38),
              r(7),
              r(18),
              r(26),
              r(30),
              r(21),
              r(49),
              r(33),
              r(50),
              r(37),
              r(51),
              r(45),
              r(52),
              r(0)),
            l = r(295),
            c = r(174),
            h = r(1),
            d = r(53),
            f = r(310),
            m = r(137),
            y = r(311);
          function v(t, e) {
            var r =
              ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
              t["@@iterator"];
            if (!r) {
              if (
                Array.isArray(t) ||
                (r = (function (t, e) {
                  if (!t) return;
                  if ("string" == typeof t) return E(t, e);
                  var r = Object.prototype.toString.call(t).slice(8, -1);
                  "Object" === r && t.constructor && (r = t.constructor.name);
                  if ("Map" === r || "Set" === r) return Array.from(t);
                  if (
                    "Arguments" === r ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                  )
                    return E(t, e);
                })(t)) ||
                (e && t && "number" == typeof t.length)
              ) {
                r && (t = r);
                var i = 0,
                  n = function () {};
                return {
                  s: n,
                  n: function () {
                    return i >= t.length
                      ? { done: !0 }
                      : { done: !1, value: t[i++] };
                  },
                  e: function (t) {
                    throw t;
                  },
                  f: n,
                };
              }
              throw new TypeError(
                "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
              );
            }
            var o,
              l = !0,
              c = !1;
            return {
              s: function () {
                r = r.call(t);
              },
              n: function () {
                var t = r.next();
                return ((l = t.done), t);
              },
              e: function (t) {
                ((c = !0), (o = t));
              },
              f: function () {
                try {
                  l || null == r.return || r.return();
                } finally {
                  if (c) throw o;
                }
              },
            };
          }
          function E(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var i = 0, r = new Array(e); i < e; i++) r[i] = t[i];
            return r;
          }
          (Object(y.a)(),
            o.a.__nuxt__fetch__mixin__ ||
              (o.a.mixin(f.a), (o.a.__nuxt__fetch__mixin__ = !0)),
            o.a.component(m.a.name, m.a),
            o.a.component("NLink", m.a),
            t.fetch || (t.fetch = l.a));
          var D,
            T,
            S = [],
            _ = window.__NUXT__ || {},
            w = _.config || {};
          (w._app && (r.p = Object(h.v)(w._app.cdnURL, w._app.assetsPath)),
            Object.assign(o.a.config, { silent: !0, performance: !1 }));
          var A = o.a.config.errorHandler || console.error;
          function x(t, e, r) {
            for (
              var n = function (component) {
                  var t =
                    (function (component, t) {
                      if (
                        !component ||
                        !component.options ||
                        !component.options[t]
                      )
                        return {};
                      var option = component.options[t];
                      if ("function" == typeof option) {
                        for (
                          var e = arguments.length,
                            r = new Array(e > 2 ? e - 2 : 0),
                            n = 2;
                          n < e;
                          n++
                        )
                          r[n - 2] = arguments[n];
                        return option.apply(void 0, r);
                      }
                      return option;
                    })(component, "transition", e, r) || {};
                  return "string" == typeof t ? { name: t } : t;
                },
                o = r ? Object(h.h)(r) : [],
                l = Math.max(t.length, o.length),
                c = [],
                d = function () {
                  var e = Object.assign({}, n(t[i])),
                    r = Object.assign({}, n(o[i]));
                  (Object.keys(e)
                    .filter(function (t) {
                      return (
                        void 0 !== e[t] && !t.toLowerCase().includes("leave")
                      );
                    })
                    .forEach(function (t) {
                      r[t] = e[t];
                    }),
                    c.push(r));
                },
                i = 0;
              i < l;
              i++
            )
              d();
            return c;
          }
          function L(t, e, r) {
            return k.apply(this, arguments);
          }
          function k() {
            return (k = Object(n.a)(
              regeneratorRuntime.mark(function t(e, r, n) {
                var o,
                  l,
                  c,
                  d,
                  f = this;
                return regeneratorRuntime.wrap(
                  function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          if (
                            ((this._routeChanged =
                              Boolean(D.nuxt.err) || r.name !== e.name),
                            (this._paramChanged =
                              !this._routeChanged && r.path !== e.path),
                            (this._queryChanged =
                              !this._paramChanged && r.fullPath !== e.fullPath),
                            (this._diffQuery = this._queryChanged
                              ? Object(h.j)(e.query, r.query)
                              : []),
                            (t.prev = 4),
                            !this._queryChanged)
                          ) {
                            t.next = 10;
                            break;
                          }
                          return (
                            (t.next = 8),
                            Object(h.r)(e, function (t, e) {
                              return { Component: t, instance: e };
                            })
                          );
                        case 8:
                          ((o = t.sent),
                            o.some(function (t) {
                              var n = t.Component,
                                o = t.instance,
                                l = n.options.watchQuery;
                              return (
                                !0 === l ||
                                (Array.isArray(l)
                                  ? l.some(function (t) {
                                      return f._diffQuery[t];
                                    })
                                  : "function" == typeof l &&
                                    l.apply(o, [e.query, r.query]))
                              );
                            }));
                        case 10:
                          (n(), (t.next = 24));
                          break;
                        case 13:
                          if (
                            ((t.prev = 13),
                            (t.t0 = t.catch(4)),
                            (l = t.t0 || {}),
                            (c =
                              l.statusCode ||
                              l.status ||
                              (l.response && l.response.status) ||
                              500),
                            (d = l.message || ""),
                            !/^Loading( CSS)? chunk (\d)+ failed\./.test(d))
                          ) {
                            t.next = 21;
                            break;
                          }
                          return (
                            window.location.reload(!0),
                            t.abrupt("return")
                          );
                        case 21:
                          (this.error({ statusCode: c, message: d }),
                            this.$nuxt.$emit("routeChanged", e, r, l),
                            n());
                        case 24:
                        case "end":
                          return t.stop();
                      }
                  },
                  t,
                  this,
                  [[4, 13]],
                );
              }),
            )).apply(this, arguments);
          }
          function C(t, e) {
            return (
              _.serverRendered && e && Object(h.b)(t, e),
              (t._Ctor = t),
              t
            );
          }
          function R(t, e, r) {
            var n = this,
              o = [],
              l = !1;
            if (
              (void 0 !== r &&
                ((o = []),
                (r = Object(h.s)(r)).options.middleware &&
                  (o = o.concat(r.options.middleware)),
                t.forEach(function (t) {
                  t.options.middleware && (o = o.concat(t.options.middleware));
                })),
              (o = o.map(function (t) {
                return "function" == typeof t
                  ? t
                  : ("function" != typeof c.a[t] &&
                      ((l = !0),
                      n.error({
                        statusCode: 500,
                        message: "Unknown middleware " + t,
                      })),
                    c.a[t]);
              })),
              !l)
            )
              return Object(h.o)(o, e);
          }
          function O(t, e, r) {
            return I.apply(this, arguments);
          }
          function I() {
            return (
              (I = Object(n.a)(
                regeneratorRuntime.mark(function t(e, r, o) {
                  var l,
                    c,
                    f,
                    m,
                    y,
                    E,
                    T,
                    _,
                    w,
                    A,
                    L,
                    k,
                    C,
                    O,
                    I,
                    P,
                    F = this;
                  return regeneratorRuntime.wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (
                              !1 !== this._routeChanged ||
                              !1 !== this._paramChanged ||
                              !1 !== this._queryChanged
                            ) {
                              t.next = 2;
                              break;
                            }
                            return t.abrupt("return", o());
                          case 2:
                            return (
                              (l = !1),
                              e === r
                                ? ((S = []), (l = !0))
                                : ((c = []),
                                  (S = Object(h.h)(r, c).map(function (t, i) {
                                    return Object(h.c)(r.matched[c[i]].path)(
                                      r.params,
                                    );
                                  }))),
                              (f = !1),
                              (m = function (path) {
                                f || ((f = !0), o(path));
                              }),
                              (t.next = 8),
                              Object(h.t)(D, {
                                route: e,
                                from: r,
                                next: m.bind(this),
                              })
                            );
                          case 8:
                            if (
                              ((this._dateLastError = D.nuxt.dateErr),
                              (this._hadError = Boolean(D.nuxt.err)),
                              (y = []),
                              (E = Object(h.h)(e, y)).length)
                            ) {
                              t.next = 27;
                              break;
                            }
                            return ((t.next = 15), R.call(this, E, D.context));
                          case 15:
                            if (!f) {
                              t.next = 17;
                              break;
                            }
                            return t.abrupt("return");
                          case 17:
                            return (
                              (T = (d.a.options || d.a).layout),
                              (t.next = 20),
                              this.loadLayout(
                                "function" == typeof T
                                  ? T.call(d.a, D.context)
                                  : T,
                              )
                            );
                          case 20:
                            return (
                              (_ = t.sent),
                              (t.next = 23),
                              R.call(this, E, D.context, _)
                            );
                          case 23:
                            if (!f) {
                              t.next = 25;
                              break;
                            }
                            return t.abrupt("return");
                          case 25:
                            return (
                              D.context.error({
                                statusCode: 404,
                                message: "This page could not be found",
                              }),
                              t.abrupt("return", o())
                            );
                          case 27:
                            return (
                              E.forEach(function (t) {
                                t._Ctor &&
                                  t._Ctor.options &&
                                  ((t.options.asyncData =
                                    t._Ctor.options.asyncData),
                                  (t.options.fetch = t._Ctor.options.fetch));
                              }),
                              this.setTransitions(x(E, e, r)),
                              (t.prev = 29),
                              (t.next = 32),
                              R.call(this, E, D.context)
                            );
                          case 32:
                            if (!f) {
                              t.next = 34;
                              break;
                            }
                            return t.abrupt("return");
                          case 34:
                            if (!D.context._errored) {
                              t.next = 36;
                              break;
                            }
                            return t.abrupt("return", o());
                          case 36:
                            return (
                              "function" == typeof (w = E[0].options.layout) &&
                                (w = w(D.context)),
                              (t.next = 40),
                              this.loadLayout(w)
                            );
                          case 40:
                            return (
                              (w = t.sent),
                              (t.next = 43),
                              R.call(this, E, D.context, w)
                            );
                          case 43:
                            if (!f) {
                              t.next = 45;
                              break;
                            }
                            return t.abrupt("return");
                          case 45:
                            if (!D.context._errored) {
                              t.next = 47;
                              break;
                            }
                            return t.abrupt("return", o());
                          case 47:
                            ((A = !0),
                              (t.prev = 48),
                              (L = v(E)),
                              (t.prev = 50),
                              L.s());
                          case 52:
                            if ((k = L.n()).done) {
                              t.next = 63;
                              break;
                            }
                            if (
                              "function" ==
                              typeof (C = k.value).options.validate
                            ) {
                              t.next = 56;
                              break;
                            }
                            return t.abrupt("continue", 61);
                          case 56:
                            return (
                              (t.next = 58),
                              C.options.validate(D.context)
                            );
                          case 58:
                            if ((A = t.sent)) {
                              t.next = 61;
                              break;
                            }
                            return t.abrupt("break", 63);
                          case 61:
                            t.next = 52;
                            break;
                          case 63:
                            t.next = 68;
                            break;
                          case 65:
                            ((t.prev = 65), (t.t0 = t.catch(50)), L.e(t.t0));
                          case 68:
                            return ((t.prev = 68), L.f(), t.finish(68));
                          case 71:
                            t.next = 77;
                            break;
                          case 73:
                            return (
                              (t.prev = 73),
                              (t.t1 = t.catch(48)),
                              this.error({
                                statusCode: t.t1.statusCode || "500",
                                message: t.t1.message,
                              }),
                              t.abrupt("return", o())
                            );
                          case 77:
                            if (A) {
                              t.next = 80;
                              break;
                            }
                            return (
                              this.error({
                                statusCode: 404,
                                message: "This page could not be found",
                              }),
                              t.abrupt("return", o())
                            );
                          case 80:
                            return (
                              (t.next = 82),
                              Promise.all(
                                E.map(
                                  (function () {
                                    var t = Object(n.a)(
                                      regeneratorRuntime.mark(function t(n, i) {
                                        var o, c, d, f, m, v, E, p;
                                        return regeneratorRuntime.wrap(
                                          function (t) {
                                            for (;;)
                                              switch ((t.prev = t.next)) {
                                                case 0:
                                                  if (
                                                    ((n._path = Object(h.c)(
                                                      e.matched[y[i]].path,
                                                    )(e.params)),
                                                    (n._dataRefresh = !1),
                                                    (o = n._path !== S[i]),
                                                    F._routeChanged && o
                                                      ? (n._dataRefresh = !0)
                                                      : F._paramChanged && o
                                                        ? ((c =
                                                            n.options
                                                              .watchParam),
                                                          (n._dataRefresh =
                                                            !1 !== c))
                                                        : F._queryChanged &&
                                                          (!0 ===
                                                          (d =
                                                            n.options
                                                              .watchQuery)
                                                            ? (n._dataRefresh =
                                                                !0)
                                                            : Array.isArray(d)
                                                              ? (n._dataRefresh =
                                                                  d.some(
                                                                    function (
                                                                      t,
                                                                    ) {
                                                                      return F
                                                                        ._diffQuery[
                                                                        t
                                                                      ];
                                                                    },
                                                                  ))
                                                              : "function" ==
                                                                  typeof d &&
                                                                (O ||
                                                                  (O = Object(
                                                                    h.i,
                                                                  )(e)),
                                                                (n._dataRefresh =
                                                                  d.apply(
                                                                    O[i],
                                                                    [
                                                                      e.query,
                                                                      r.query,
                                                                    ],
                                                                  )))),
                                                    F._hadError ||
                                                      !F._isMounted ||
                                                      n._dataRefresh)
                                                  ) {
                                                    t.next = 6;
                                                    break;
                                                  }
                                                  return t.abrupt("return");
                                                case 6:
                                                  return (
                                                    (f = []),
                                                    (m =
                                                      n.options.asyncData &&
                                                      "function" ==
                                                        typeof n.options
                                                          .asyncData),
                                                    (v =
                                                      Boolean(
                                                        n.options.fetch,
                                                      ) &&
                                                      n.options.fetch.length),
                                                    m &&
                                                      ((E =
                                                        F.isPreview || l
                                                          ? Object(h.q)(
                                                              n.options
                                                                .asyncData,
                                                              D.context,
                                                            )
                                                          : F.fetchPayload(
                                                              e.path,
                                                            )
                                                              .then(
                                                                function (t) {
                                                                  return t.data[
                                                                    i
                                                                  ];
                                                                },
                                                              )
                                                              .catch(
                                                                function (t) {
                                                                  return Object(
                                                                    h.q,
                                                                  )(
                                                                    n.options
                                                                      .asyncData,
                                                                    D.context,
                                                                  );
                                                                },
                                                              )).then(
                                                        function (t) {
                                                          Object(h.b)(n, t);
                                                        },
                                                      ),
                                                      f.push(E)),
                                                    F.isPreview ||
                                                      l ||
                                                      f.push(
                                                        F.fetchPayload(e.path)
                                                          .then(function (t) {
                                                            t.mutations.forEach(
                                                              function (t) {
                                                                F.$store.commit(
                                                                  t[0],
                                                                  t[1],
                                                                );
                                                              },
                                                            );
                                                          })
                                                          .catch(function (t) {
                                                            return null;
                                                          }),
                                                      ),
                                                    (F.$loading.manual =
                                                      !1 === n.options.loading),
                                                    F.isPreview ||
                                                      l ||
                                                      f.push(
                                                        F.fetchPayload(
                                                          e.path,
                                                        ).catch(function (t) {
                                                          return null;
                                                        }),
                                                      ),
                                                    v &&
                                                      (((p = n.options.fetch(
                                                        D.context,
                                                      )) &&
                                                        (p instanceof Promise ||
                                                          "function" ==
                                                            typeof p.then)) ||
                                                        (p =
                                                          Promise.resolve(p)),
                                                      p.then(function (t) {}),
                                                      f.push(p)),
                                                    t.abrupt(
                                                      "return",
                                                      Promise.all(f),
                                                    )
                                                  );
                                                case 15:
                                                case "end":
                                                  return t.stop();
                                              }
                                          },
                                          t,
                                        );
                                      }),
                                    );
                                    return function (e, r) {
                                      return t.apply(this, arguments);
                                    };
                                  })(),
                                ),
                              )
                            );
                          case 82:
                            (f || o(), (t.next = 99));
                            break;
                          case 85:
                            if (
                              ((t.prev = 85),
                              (t.t2 = t.catch(29)),
                              "ERR_REDIRECT" !== (I = t.t2 || {}).message)
                            ) {
                              t.next = 90;
                              break;
                            }
                            return t.abrupt(
                              "return",
                              this.$nuxt.$emit("routeChanged", e, r, I),
                            );
                          case 90:
                            return (
                              (S = []),
                              Object(h.l)(I),
                              "function" ==
                                typeof (P = (d.a.options || d.a).layout) &&
                                (P = P(D.context)),
                              (t.next = 96),
                              this.loadLayout(P)
                            );
                          case 96:
                            (this.error(I),
                              this.$nuxt.$emit("routeChanged", e, r, I),
                              o());
                          case 99:
                          case "end":
                            return t.stop();
                        }
                    },
                    t,
                    this,
                    [
                      [29, 85],
                      [48, 73],
                      [50, 65, 68, 71],
                    ],
                  );
                }),
              )),
              I.apply(this, arguments)
            );
          }
          function P(t, r) {
            Object(h.e)(t, function (t, r, n, l) {
              return (
                "object" !== Object(e.a)(t) ||
                  t.options ||
                  (((t = o.a.extend(t))._Ctor = t), (n.components[l] = t)),
                t
              );
            });
          }
          function F(t) {
            var e = Boolean(this.$options.nuxt.err);
            this._hadError &&
              this._dateLastError === this.$options.nuxt.dateErr &&
              (e = !1);
            var r = e
              ? (d.a.options || d.a).layout
              : t.matched[0].components.default.options.layout;
            ("function" == typeof r && (r = r(D.context)), this.setLayout(r));
          }
          function M(t) {
            t._hadError &&
              t._dateLastError === t.$options.nuxt.dateErr &&
              t.error();
          }
          function N(t, e) {
            var r = this;
            if (
              !1 !== this._routeChanged ||
              !1 !== this._paramChanged ||
              !1 !== this._queryChanged
            ) {
              var n = Object(h.i)(t),
                l = Object(h.h)(t),
                c = !1;
              o.a.nextTick(function () {
                (n.forEach(function (t, i) {
                  if (
                    t &&
                    !t._isDestroyed &&
                    t.constructor._dataRefresh &&
                    l[i] === t.constructor &&
                    !0 !== t.$vnode.data.keepAlive &&
                    "function" == typeof t.constructor.options.data
                  ) {
                    var e = t.constructor.options.data.call(t);
                    for (var r in e) o.a.set(t.$data, r, e[r]);
                    c = !0;
                  }
                }),
                  c &&
                    window.$nuxt.$nextTick(function () {
                      window.$nuxt.$emit("triggerScroll");
                    }),
                  M(r));
              });
            }
          }
          function B(t) {
            (window.onNuxtReadyCbs.forEach(function (e) {
              "function" == typeof e && e(t);
            }),
              "function" == typeof window._onNuxtLoaded &&
                window._onNuxtLoaded(t),
              T.afterEach(function (e, r) {
                o.a.nextTick(function () {
                  return t.$nuxt.$emit("routeChanged", e, r);
                });
              }));
          }
          function U() {
            return (
              (U = Object(n.a)(
                regeneratorRuntime.mark(function t(e) {
                  var r, l, c, d, f, m;
                  return regeneratorRuntime.wrap(
                    function (t) {
                      for (;;)
                        switch ((t.prev = t.next)) {
                          case 0:
                            if (
                              ((D = e.app),
                              (T = e.router),
                              e.store,
                              (r = new o.a(D)),
                              _.data || !_.serverRendered)
                            ) {
                              t.next = 14;
                              break;
                            }
                            return (
                              (t.prev = 5),
                              (t.next = 8),
                              r.fetchPayload(
                                _.routePath || r.context.route.path,
                              )
                            );
                          case 8:
                            ((l = t.sent), Object.assign(_, l), (t.next = 14));
                            break;
                          case 12:
                            ((t.prev = 12), (t.t0 = t.catch(5)));
                          case 14:
                            return (
                              (c = _.layout || "default"),
                              (t.next = 17),
                              r.loadLayout(c)
                            );
                          case 17:
                            return (
                              r.setLayout(c),
                              (d = function () {
                                (r.$mount("#__nuxt"),
                                  T.afterEach(P),
                                  T.afterEach(F.bind(r)),
                                  T.afterEach(N.bind(r)),
                                  o.a.nextTick(function () {
                                    B(r);
                                  }));
                              }),
                              (t.next = 21),
                              Promise.all(
                                ((y = D.context.route),
                                Object(h.e)(
                                  y,
                                  (function () {
                                    var t = Object(n.a)(
                                      regeneratorRuntime.mark(
                                        function t(e, r, n, o, l) {
                                          var c;
                                          return regeneratorRuntime.wrap(
                                            function (t) {
                                              for (;;)
                                                switch ((t.prev = t.next)) {
                                                  case 0:
                                                    if (
                                                      "function" != typeof e ||
                                                      e.options
                                                    ) {
                                                      t.next = 4;
                                                      break;
                                                    }
                                                    return ((t.next = 3), e());
                                                  case 3:
                                                    e = t.sent;
                                                  case 4:
                                                    return (
                                                      (c = C(
                                                        Object(h.s)(e),
                                                        _.data
                                                          ? _.data[l]
                                                          : null,
                                                      )),
                                                      (n.components[o] = c),
                                                      t.abrupt("return", c)
                                                    );
                                                  case 7:
                                                  case "end":
                                                    return t.stop();
                                                }
                                            },
                                            t,
                                          );
                                        },
                                      ),
                                    );
                                    return function (e, r, n, o, l) {
                                      return t.apply(this, arguments);
                                    };
                                  })(),
                                )),
                              )
                            );
                          case 21:
                            if (
                              ((f = t.sent),
                              (r.setTransitions =
                                r.$options.nuxt.setTransitions.bind(r)),
                              f.length &&
                                (r.setTransitions(x(f, T.currentRoute)),
                                (S = T.currentRoute.matched.map(function (t) {
                                  return Object(h.c)(t.path)(
                                    T.currentRoute.params,
                                  );
                                }))),
                              (r.$loading = {}),
                              _.error && r.error(_.error),
                              T.beforeEach(L.bind(r)),
                              T.beforeEach(O.bind(r)),
                              !_.serverRendered)
                            ) {
                              t.next = 30;
                              break;
                            }
                            return t.abrupt("return", d());
                          case 30:
                            return (
                              (m = function () {
                                (P(T.currentRoute, T.currentRoute),
                                  F.call(r, T.currentRoute),
                                  M(r),
                                  d());
                              }),
                              (t.next = 33),
                              new Promise(function (t) {
                                return setTimeout(t, 0);
                              })
                            );
                          case 33:
                            O.call(
                              r,
                              T.currentRoute,
                              T.currentRoute,
                              function (path) {
                                if (path) {
                                  var t = T.afterEach(function (e, r) {
                                    (t(), m());
                                  });
                                  T.push(path, void 0, function (t) {
                                    t && A(t);
                                  });
                                } else m();
                              },
                            );
                          case 34:
                          case "end":
                            return t.stop();
                        }
                      var y;
                    },
                    t,
                    null,
                    [[5, 12]],
                  );
                }),
              )),
              U.apply(this, arguments)
            );
          }
          Object(d.b)(null, _.config)
            .then(function (t) {
              return U.apply(this, arguments);
            })
            .catch(A);
        }.call(this, r(39)));
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      var n = r(398),
        o = r(428),
        l = r(270),
        c = r(430),
        h = r(440),
        d = r(443),
        f = r(444),
        m = r(445),
        y = r(447),
        v = r(448),
        E = r(449),
        D = r(169),
        T = r(454),
        S = r(455),
        _ = r(461),
        w = r(162),
        A = r(273),
        x = r(463),
        L = r(100),
        k = r(465),
        C = r(161),
        R = r(167),
        O = "[object Arguments]",
        I = "[object Function]",
        P = "[object Object]",
        F = {};
      ((F[O] =
        F["[object Array]"] =
        F["[object ArrayBuffer]"] =
        F["[object DataView]"] =
        F["[object Boolean]"] =
        F["[object Date]"] =
        F["[object Float32Array]"] =
        F["[object Float64Array]"] =
        F["[object Int8Array]"] =
        F["[object Int16Array]"] =
        F["[object Int32Array]"] =
        F["[object Map]"] =
        F["[object Number]"] =
        F[P] =
        F["[object RegExp]"] =
        F["[object Set]"] =
        F["[object String]"] =
        F["[object Symbol]"] =
        F["[object Uint8Array]"] =
        F["[object Uint8ClampedArray]"] =
        F["[object Uint16Array]"] =
        F["[object Uint32Array]"] =
          !0),
        (F["[object Error]"] = F[I] = F["[object WeakMap]"] = !1),
        (t.exports = function t(e, r, M, N, object, B) {
          var U,
            j = 1 & r,
            $ = 2 & r,
            G = 4 & r;
          if ((M && (U = object ? M(e, N, object, B) : M(e)), void 0 !== U))
            return U;
          if (!L(e)) return e;
          var K = w(e);
          if (K) {
            if (((U = T(e)), !j)) return f(e, U);
          } else {
            var H = D(e),
              V = H == I || "[object GeneratorFunction]" == H;
            if (A(e)) return d(e, j);
            if (H == P || H == O || (V && !object)) {
              if (((U = $ || V ? {} : _(e)), !j))
                return $ ? y(e, h(U, e)) : m(e, c(U, e));
            } else {
              if (!F[H]) return object ? e : {};
              U = S(e, H, j);
            }
          }
          B || (B = new n());
          var Y = B.get(e);
          if (Y) return Y;
          (B.set(e, U),
            k(e)
              ? e.forEach(function (n) {
                  U.add(t(n, r, M, n, e, B));
                })
              : x(e) &&
                e.forEach(function (n, o) {
                  U.set(o, t(n, r, M, o, e, B));
                }));
          var z = K ? void 0 : (G ? ($ ? E : v) : $ ? R : C)(e);
          return (
            o(z || e, function (n, o) {
              (z && (n = e[(o = n)]), l(U, o, t(n, r, M, o, e, B)));
            }),
            U
          );
        }));
    },
    function (t, e, r) {
      var n = r(124),
        o = r(404),
        l = r(405),
        c = r(406),
        h = r(407),
        d = r(408);
      function f(t) {
        var data = (this.__data__ = new n(t));
        this.size = data.size;
      }
      ((f.prototype.clear = o),
        (f.prototype.delete = l),
        (f.prototype.get = c),
        (f.prototype.has = h),
        (f.prototype.set = d),
        (t.exports = f));
    },
    function (t, e) {
      t.exports = function () {
        ((this.__data__ = []), (this.size = 0));
      };
    },
    function (t, e, r) {
      var n = r(125),
        o = Array.prototype.splice;
      t.exports = function (t) {
        var data = this.__data__,
          e = n(data, t);
        return (
          !(e < 0) &&
          (e == data.length - 1 ? data.pop() : o.call(data, e, 1),
          --this.size,
          !0)
        );
      };
    },
    function (t, e, r) {
      var n = r(125);
      t.exports = function (t) {
        var data = this.__data__,
          e = n(data, t);
        return e < 0 ? void 0 : data[e][1];
      };
    },
    function (t, e, r) {
      var n = r(125);
      t.exports = function (t) {
        return n(this.__data__, t) > -1;
      };
    },
    function (t, e, r) {
      var n = r(125);
      t.exports = function (t, e) {
        var data = this.__data__,
          r = n(data, t);
        return (
          r < 0 ? (++this.size, data.push([t, e])) : (data[r][1] = e),
          this
        );
      };
    },
    function (t, e, r) {
      var n = r(124);
      t.exports = function () {
        ((this.__data__ = new n()), (this.size = 0));
      };
    },
    function (t, e) {
      t.exports = function (t) {
        var data = this.__data__,
          e = data.delete(t);
        return ((this.size = data.size), e);
      };
    },
    function (t, e) {
      t.exports = function (t) {
        return this.__data__.get(t);
      };
    },
    function (t, e) {
      t.exports = function (t) {
        return this.__data__.has(t);
      };
    },
    function (t, e, r) {
      var n = r(124),
        o = r(159),
        l = r(415);
      t.exports = function (t, e) {
        var data = this.__data__;
        if (data instanceof n) {
          var r = data.__data__;
          if (!o || r.length < 199)
            return (r.push([t, e]), (this.size = ++data.size), this);
          data = this.__data__ = new l(r);
        }
        return (data.set(t, e), (this.size = data.size), this);
      };
    },
    function (t, e, r) {
      var n = r(267),
        o = r(412),
        l = r(100),
        c = r(269),
        h = /^\[object .+?Constructor\]$/,
        d = Function.prototype,
        f = Object.prototype,
        m = d.toString,
        y = f.hasOwnProperty,
        v = RegExp(
          "^" +
            m
              .call(y)
              .replace(/[\\^$.*+?()[\]{}|]/g, "\\$&")
              .replace(
                /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                "$1.*?",
              ) +
            "$",
        );
      t.exports = function (t) {
        return !(!l(t) || o(t)) && (n(t) ? v : h).test(c(t));
      };
    },
    function (t, e, r) {
      var n = r(160),
        o = Object.prototype,
        l = o.hasOwnProperty,
        c = o.toString,
        h = n ? n.toStringTag : void 0;
      t.exports = function (t) {
        var e = l.call(t, h),
          r = t[h];
        try {
          t[h] = void 0;
          var n = !0;
        } catch (t) {}
        var o = c.call(t);
        return (n && (e ? (t[h] = r) : delete t[h]), o);
      };
    },
    function (t, e) {
      var r = Object.prototype.toString;
      t.exports = function (t) {
        return r.call(t);
      };
    },
    function (t, e, r) {
      var n,
        o = r(413),
        l = (n = /[^.]+$/.exec((o && o.keys && o.keys.IE_PROTO) || ""))
          ? "Symbol(src)_1." + n
          : "";
      t.exports = function (t) {
        return !!l && l in t;
      };
    },
    function (t, e, r) {
      var n = r(44)["__core-js_shared__"];
      t.exports = n;
    },
    function (t, e) {
      t.exports = function (object, t) {
        return null == object ? void 0 : object[t];
      };
    },
    function (t, e, r) {
      var n = r(416),
        o = r(423),
        l = r(425),
        c = r(426),
        h = r(427);
      function d(t) {
        var e = -1,
          r = null == t ? 0 : t.length;
        for (this.clear(); ++e < r; ) {
          var n = t[e];
          this.set(n[0], n[1]);
        }
      }
      ((d.prototype.clear = n),
        (d.prototype.delete = o),
        (d.prototype.get = l),
        (d.prototype.has = c),
        (d.prototype.set = h),
        (t.exports = d));
    },
    function (t, e, r) {
      var n = r(417),
        o = r(124),
        l = r(159);
      t.exports = function () {
        ((this.size = 0),
          (this.__data__ = {
            hash: new n(),
            map: new (l || o)(),
            string: new n(),
          }));
      };
    },
    function (t, e, r) {
      var n = r(418),
        o = r(419),
        l = r(420),
        c = r(421),
        h = r(422);
      function d(t) {
        var e = -1,
          r = null == t ? 0 : t.length;
        for (this.clear(); ++e < r; ) {
          var n = t[e];
          this.set(n[0], n[1]);
        }
      }
      ((d.prototype.clear = n),
        (d.prototype.delete = o),
        (d.prototype.get = l),
        (d.prototype.has = c),
        (d.prototype.set = h),
        (t.exports = d));
    },
    function (t, e, r) {
      var n = r(127);
      t.exports = function () {
        ((this.__data__ = n ? n(null) : {}), (this.size = 0));
      };
    },
    function (t, e) {
      t.exports = function (t) {
        var e = this.has(t) && delete this.__data__[t];
        return ((this.size -= e ? 1 : 0), e);
      };
    },
    function (t, e, r) {
      var n = r(127),
        o = Object.prototype.hasOwnProperty;
      t.exports = function (t) {
        var data = this.__data__;
        if (n) {
          var e = data[t];
          return "__lodash_hash_undefined__" === e ? void 0 : e;
        }
        return o.call(data, t) ? data[t] : void 0;
      };
    },
    function (t, e, r) {
      var n = r(127),
        o = Object.prototype.hasOwnProperty;
      t.exports = function (t) {
        var data = this.__data__;
        return n ? void 0 !== data[t] : o.call(data, t);
      };
    },
    function (t, e, r) {
      var n = r(127);
      t.exports = function (t, e) {
        var data = this.__data__;
        return (
          (this.size += this.has(t) ? 0 : 1),
          (data[t] = n && void 0 === e ? "__lodash_hash_undefined__" : e),
          this
        );
      };
    },
    function (t, e, r) {
      var n = r(128);
      t.exports = function (t) {
        var e = n(this, t).delete(t);
        return ((this.size -= e ? 1 : 0), e);
      };
    },
    function (t, e) {
      t.exports = function (t) {
        var e = typeof t;
        return "string" == e || "number" == e || "symbol" == e || "boolean" == e
          ? "__proto__" !== t
          : null === t;
      };
    },
    function (t, e, r) {
      var n = r(128);
      t.exports = function (t) {
        return n(this, t).get(t);
      };
    },
    function (t, e, r) {
      var n = r(128);
      t.exports = function (t) {
        return n(this, t).has(t);
      };
    },
    function (t, e, r) {
      var n = r(128);
      t.exports = function (t, e) {
        var data = n(this, t),
          r = data.size;
        return (data.set(t, e), (this.size += data.size == r ? 0 : 1), this);
      };
    },
    function (t, e) {
      t.exports = function (t, e) {
        for (
          var r = -1, n = null == t ? 0 : t.length;
          ++r < n && !1 !== e(t[r], r, t);
        );
        return t;
      };
    },
    function (t, e, r) {
      var n = r(65),
        o = (function () {
          try {
            var t = n(Object, "defineProperty");
            return (t({}, "", {}), t);
          } catch (t) {}
        })();
      t.exports = o;
    },
    function (t, e, r) {
      var n = r(129),
        o = r(161);
      t.exports = function (object, source) {
        return object && n(source, o(source), object);
      };
    },
    function (t, e) {
      t.exports = function (t, e) {
        for (var r = -1, n = Array(t); ++r < t; ) n[r] = e(r);
        return n;
      };
    },
    function (t, e, r) {
      var n = r(433),
        o = r(101),
        l = Object.prototype,
        c = l.hasOwnProperty,
        h = l.propertyIsEnumerable,
        d = n(
          (function () {
            return arguments;
          })(),
        )
          ? n
          : function (t) {
              return o(t) && c.call(t, "callee") && !h.call(t, "callee");
            };
      t.exports = d;
    },
    function (t, e, r) {
      var n = r(126),
        o = r(101);
      t.exports = function (t) {
        return o(t) && "[object Arguments]" == n(t);
      };
    },
    function (t, e) {
      t.exports = function () {
        return !1;
      };
    },
    function (t, e) {
      var r = /^(?:0|[1-9]\d*)$/;
      t.exports = function (t, e) {
        var n = typeof t;
        return (
          !!(e = null == e ? 9007199254740991 : e) &&
          ("number" == n || ("symbol" != n && r.test(t))) &&
          t > -1 &&
          t % 1 == 0 &&
          t < e
        );
      };
    },
    function (t, e, r) {
      var n = r(437),
        o = r(164),
        l = r(165),
        c = l && l.isTypedArray,
        h = c ? o(c) : n;
      t.exports = h;
    },
    function (t, e, r) {
      var n = r(126),
        o = r(274),
        l = r(101),
        c = {};
      ((c["[object Float32Array]"] =
        c["[object Float64Array]"] =
        c["[object Int8Array]"] =
        c["[object Int16Array]"] =
        c["[object Int32Array]"] =
        c["[object Uint8Array]"] =
        c["[object Uint8ClampedArray]"] =
        c["[object Uint16Array]"] =
        c["[object Uint32Array]"] =
          !0),
        (c["[object Arguments]"] =
          c["[object Array]"] =
          c["[object ArrayBuffer]"] =
          c["[object Boolean]"] =
          c["[object DataView]"] =
          c["[object Date]"] =
          c["[object Error]"] =
          c["[object Function]"] =
          c["[object Map]"] =
          c["[object Number]"] =
          c["[object Object]"] =
          c["[object RegExp]"] =
          c["[object Set]"] =
          c["[object String]"] =
          c["[object WeakMap]"] =
            !1),
        (t.exports = function (t) {
          return l(t) && o(t.length) && !!c[n(t)];
        }));
    },
    function (t, e, r) {
      var n = r(166),
        o = r(439),
        l = Object.prototype.hasOwnProperty;
      t.exports = function (object) {
        if (!n(object)) return o(object);
        var t = [];
        for (var e in Object(object))
          l.call(object, e) && "constructor" != e && t.push(e);
        return t;
      };
    },
    function (t, e, r) {
      var n = r(275)(Object.keys, Object);
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(129),
        o = r(167);
      t.exports = function (object, source) {
        return object && n(source, o(source), object);
      };
    },
    function (t, e, r) {
      var n = r(100),
        o = r(166),
        l = r(442),
        c = Object.prototype.hasOwnProperty;
      t.exports = function (object) {
        if (!n(object)) return l(object);
        var t = o(object),
          e = [];
        for (var r in object)
          ("constructor" != r || (!t && c.call(object, r))) && e.push(r);
        return e;
      };
    },
    function (t, e) {
      t.exports = function (object) {
        var t = [];
        if (null != object) for (var e in Object(object)) t.push(e);
        return t;
      };
    },
    function (t, e, r) {
      (function (t) {
        var n = r(44),
          o = e && !e.nodeType && e,
          l = o && "object" == typeof t && t && !t.nodeType && t,
          c = l && l.exports === o ? n.Buffer : void 0,
          h = c ? c.allocUnsafe : void 0;
        t.exports = function (t, e) {
          if (e) return t.slice();
          var r = t.length,
            n = h ? h(r) : new t.constructor(r);
          return (t.copy(n), n);
        };
      }).call(this, r(163)(t));
    },
    function (t, e) {
      t.exports = function (source, t) {
        var e = -1,
          r = source.length;
        for (t || (t = Array(r)); ++e < r; ) t[e] = source[e];
        return t;
      };
    },
    function (t, e, r) {
      var n = r(129),
        o = r(168);
      t.exports = function (source, object) {
        return n(source, o(source), object);
      };
    },
    function (t, e) {
      t.exports = function (t, e) {
        for (
          var r = -1, n = null == t ? 0 : t.length, o = 0, l = [];
          ++r < n;
        ) {
          var c = t[r];
          e(c, r, t) && (l[o++] = c);
        }
        return l;
      };
    },
    function (t, e, r) {
      var n = r(129),
        o = r(278);
      t.exports = function (source, object) {
        return n(source, o(source), object);
      };
    },
    function (t, e, r) {
      var n = r(281),
        o = r(168),
        l = r(161);
      t.exports = function (object) {
        return n(object, l, o);
      };
    },
    function (t, e, r) {
      var n = r(281),
        o = r(278),
        l = r(167);
      t.exports = function (object) {
        return n(object, l, o);
      };
    },
    function (t, e, r) {
      var n = r(65)(r(44), "DataView");
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(65)(r(44), "Promise");
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(65)(r(44), "Set");
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(65)(r(44), "WeakMap");
      t.exports = n;
    },
    function (t, e) {
      var r = Object.prototype.hasOwnProperty;
      t.exports = function (t) {
        var e = t.length,
          n = new t.constructor(e);
        return (
          e &&
            "string" == typeof t[0] &&
            r.call(t, "index") &&
            ((n.index = t.index), (n.input = t.input)),
          n
        );
      };
    },
    function (t, e, r) {
      var n = r(170),
        o = r(457),
        l = r(458),
        c = r(459),
        h = r(460);
      t.exports = function (object, t, e) {
        var r = object.constructor;
        switch (t) {
          case "[object ArrayBuffer]":
            return n(object);
          case "[object Boolean]":
          case "[object Date]":
            return new r(+object);
          case "[object DataView]":
            return o(object, e);
          case "[object Float32Array]":
          case "[object Float64Array]":
          case "[object Int8Array]":
          case "[object Int16Array]":
          case "[object Int32Array]":
          case "[object Uint8Array]":
          case "[object Uint8ClampedArray]":
          case "[object Uint16Array]":
          case "[object Uint32Array]":
            return h(object, e);
          case "[object Map]":
          case "[object Set]":
            return new r();
          case "[object Number]":
          case "[object String]":
            return new r(object);
          case "[object RegExp]":
            return l(object);
          case "[object Symbol]":
            return c(object);
        }
      };
    },
    function (t, e, r) {
      var n = r(44).Uint8Array;
      t.exports = n;
    },
    function (t, e, r) {
      var n = r(170);
      t.exports = function (t, e) {
        var r = e ? n(t.buffer) : t.buffer;
        return new t.constructor(r, t.byteOffset, t.byteLength);
      };
    },
    function (t, e) {
      var r = /\w*$/;
      t.exports = function (t) {
        var e = new t.constructor(t.source, r.exec(t));
        return ((e.lastIndex = t.lastIndex), e);
      };
    },
    function (t, e, r) {
      var n = r(160),
        o = n ? n.prototype : void 0,
        l = o ? o.valueOf : void 0;
      t.exports = function (symbol) {
        return l ? Object(l.call(symbol)) : {};
      };
    },
    function (t, e, r) {
      var n = r(170);
      t.exports = function (t, e) {
        var r = e ? n(t.buffer) : t.buffer;
        return new t.constructor(r, t.byteOffset, t.length);
      };
    },
    function (t, e, r) {
      var n = r(462),
        o = r(280),
        l = r(166);
      t.exports = function (object) {
        return "function" != typeof object.constructor || l(object)
          ? {}
          : n(o(object));
      };
    },
    function (t, e, r) {
      var n = r(100),
        o = Object.create,
        l = (function () {
          function object() {}
          return function (t) {
            if (!n(t)) return {};
            if (o) return o(t);
            object.prototype = t;
            var e = new object();
            return ((object.prototype = void 0), e);
          };
        })();
      t.exports = l;
    },
    function (t, e, r) {
      var n = r(464),
        o = r(164),
        l = r(165),
        c = l && l.isMap,
        h = c ? o(c) : n;
      t.exports = h;
    },
    function (t, e, r) {
      var n = r(169),
        o = r(101);
      t.exports = function (t) {
        return o(t) && "[object Map]" == n(t);
      };
    },
    function (t, e, r) {
      var n = r(466),
        o = r(164),
        l = r(165),
        c = l && l.isSet,
        h = c ? o(c) : n;
      t.exports = h;
    },
    function (t, e, r) {
      var n = r(169),
        o = r(101);
      t.exports = function (t) {
        return o(t) && "[object Set]" == n(t);
      };
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      "use strict";
      var n = r(490),
        o = r(293),
        l = r(173),
        c = Object.prototype.hasOwnProperty,
        h = {
          brackets: function (t) {
            return t + "[]";
          },
          comma: "comma",
          indices: function (t, e) {
            return t + "[" + e + "]";
          },
          repeat: function (t) {
            return t;
          },
        },
        d = Array.isArray,
        f = Array.prototype.push,
        m = function (t, e) {
          f.apply(t, d(e) ? e : [e]);
        },
        y = Date.prototype.toISOString,
        v = l.default,
        E = {
          addQueryPrefix: !1,
          allowDots: !1,
          charset: "utf-8",
          charsetSentinel: !1,
          delimiter: "&",
          encode: !0,
          encoder: o.encode,
          encodeValuesOnly: !1,
          format: v,
          formatter: l.formatters[v],
          indices: !1,
          serializeDate: function (t) {
            return y.call(t);
          },
          skipNulls: !1,
          strictNullHandling: !1,
        },
        D = {},
        T = function t(
          object,
          e,
          r,
          l,
          c,
          h,
          f,
          filter,
          y,
          v,
          T,
          S,
          _,
          w,
          A,
          x,
        ) {
          for (
            var L, k = object, C = x, R = 0, O = !1;
            void 0 !== (C = C.get(D)) && !O;
          ) {
            var I = C.get(object);
            if (((R += 1), void 0 !== I)) {
              if (I === R) throw new RangeError("Cyclic object value");
              O = !0;
            }
            void 0 === C.get(D) && (R = 0);
          }
          if (
            ("function" == typeof filter
              ? (k = filter(e, k))
              : k instanceof Date
                ? (k = T(k))
                : "comma" === r &&
                  d(k) &&
                  (k = o.maybeMap(k, function (t) {
                    return t instanceof Date ? T(t) : t;
                  })),
            null === k)
          ) {
            if (c) return f && !w ? f(e, E.encoder, A, "key", S) : e;
            k = "";
          }
          if (
            "string" == typeof (L = k) ||
            "number" == typeof L ||
            "boolean" == typeof L ||
            "symbol" == typeof L ||
            "bigint" == typeof L ||
            o.isBuffer(k)
          )
            return f
              ? [
                  _(w ? e : f(e, E.encoder, A, "key", S)) +
                    "=" +
                    _(f(k, E.encoder, A, "value", S)),
                ]
              : [_(e) + "=" + _(String(k))];
          var P,
            F = [];
          if (void 0 === k) return F;
          if ("comma" === r && d(k))
            (w && f && (k = o.maybeMap(k, f)),
              (P = [{ value: k.length > 0 ? k.join(",") || null : void 0 }]));
          else if (d(filter)) P = filter;
          else {
            var M = Object.keys(k);
            P = y ? M.sort(y) : M;
          }
          for (
            var N = l && d(k) && 1 === k.length ? e + "[]" : e, B = 0;
            B < P.length;
            ++B
          ) {
            var U = P[B],
              j = "object" == typeof U && void 0 !== U.value ? U.value : k[U];
            if (!h || null !== j) {
              var $ = d(k)
                ? "function" == typeof r
                  ? r(N, U)
                  : N
                : N + (v ? "." + U : "[" + U + "]");
              x.set(object, R);
              var G = n();
              (G.set(D, x),
                m(
                  F,
                  t(
                    j,
                    $,
                    r,
                    l,
                    c,
                    h,
                    "comma" === r && w && d(k) ? null : f,
                    filter,
                    y,
                    v,
                    T,
                    S,
                    _,
                    w,
                    A,
                    G,
                  ),
                ));
            }
          }
          return F;
        };
      t.exports = function (object, t) {
        var e,
          r = object,
          o = (function (t) {
            if (!t) return E;
            if (
              null !== t.encoder &&
              void 0 !== t.encoder &&
              "function" != typeof t.encoder
            )
              throw new TypeError("Encoder has to be a function.");
            var e = t.charset || E.charset;
            if (
              void 0 !== t.charset &&
              "utf-8" !== t.charset &&
              "iso-8859-1" !== t.charset
            )
              throw new TypeError(
                "The charset option must be either utf-8, iso-8859-1, or undefined",
              );
            var r = l.default;
            if (void 0 !== t.format) {
              if (!c.call(l.formatters, t.format))
                throw new TypeError("Unknown format option provided.");
              r = t.format;
            }
            var n = l.formatters[r],
              filter = E.filter;
            return (
              ("function" == typeof t.filter || d(t.filter)) &&
                (filter = t.filter),
              {
                addQueryPrefix:
                  "boolean" == typeof t.addQueryPrefix
                    ? t.addQueryPrefix
                    : E.addQueryPrefix,
                allowDots: void 0 === t.allowDots ? E.allowDots : !!t.allowDots,
                charset: e,
                charsetSentinel:
                  "boolean" == typeof t.charsetSentinel
                    ? t.charsetSentinel
                    : E.charsetSentinel,
                delimiter: void 0 === t.delimiter ? E.delimiter : t.delimiter,
                encode: "boolean" == typeof t.encode ? t.encode : E.encode,
                encoder: "function" == typeof t.encoder ? t.encoder : E.encoder,
                encodeValuesOnly:
                  "boolean" == typeof t.encodeValuesOnly
                    ? t.encodeValuesOnly
                    : E.encodeValuesOnly,
                filter: filter,
                format: r,
                formatter: n,
                serializeDate:
                  "function" == typeof t.serializeDate
                    ? t.serializeDate
                    : E.serializeDate,
                skipNulls:
                  "boolean" == typeof t.skipNulls ? t.skipNulls : E.skipNulls,
                sort: "function" == typeof t.sort ? t.sort : null,
                strictNullHandling:
                  "boolean" == typeof t.strictNullHandling
                    ? t.strictNullHandling
                    : E.strictNullHandling,
              }
            );
          })(t);
        "function" == typeof o.filter
          ? (r = (0, o.filter)("", r))
          : d(o.filter) && (e = o.filter);
        var f,
          y = [];
        if ("object" != typeof r || null === r) return "";
        f =
          t && t.arrayFormat in h
            ? t.arrayFormat
            : t && "indices" in t
              ? t.indices
                ? "indices"
                : "repeat"
              : "indices";
        var v = h[f];
        if (t && "commaRoundTrip" in t && "boolean" != typeof t.commaRoundTrip)
          throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
        var D = "comma" === v && t && t.commaRoundTrip;
        (e || (e = Object.keys(r)), o.sort && e.sort(o.sort));
        for (var S = n(), i = 0; i < e.length; ++i) {
          var _ = e[i];
          (o.skipNulls && null === r[_]) ||
            m(
              y,
              T(
                r[_],
                _,
                v,
                D,
                o.strictNullHandling,
                o.skipNulls,
                o.encode ? o.encoder : null,
                o.filter,
                o.sort,
                o.allowDots,
                o.serializeDate,
                o.format,
                o.formatter,
                o.encodeValuesOnly,
                o.charset,
                S,
              ),
            );
        }
        var w = y.join(o.delimiter),
          A = !0 === o.addQueryPrefix ? "?" : "";
        return (
          o.charsetSentinel &&
            ("iso-8859-1" === o.charset
              ? (A += "utf8=%26%2310003%3B&")
              : (A += "utf8=%E2%9C%93&")),
          w.length > 0 ? A + w : ""
        );
      };
    },
    function (t, e, r) {
      "use strict";
      var n = r(171),
        o = r(495),
        l = r(497),
        c = n("%TypeError%"),
        h = n("%WeakMap%", !0),
        d = n("%Map%", !0),
        f = o("WeakMap.prototype.get", !0),
        m = o("WeakMap.prototype.set", !0),
        y = o("WeakMap.prototype.has", !0),
        v = o("Map.prototype.get", !0),
        E = o("Map.prototype.set", !0),
        D = o("Map.prototype.has", !0),
        T = function (t, e) {
          for (var r, n = t; null !== (r = n.next); n = r)
            if (r.key === e)
              return ((n.next = r.next), (r.next = t.next), (t.next = r), r);
        };
      t.exports = function () {
        var t,
          e,
          r,
          n = {
            assert: function (t) {
              if (!n.has(t))
                throw new c("Side channel does not contain " + l(t));
            },
            get: function (n) {
              if (h && n && ("object" == typeof n || "function" == typeof n)) {
                if (t) return f(t, n);
              } else if (d) {
                if (e) return v(e, n);
              } else if (r)
                return (function (t, e) {
                  var r = T(t, e);
                  return r && r.value;
                })(r, n);
            },
            has: function (n) {
              if (h && n && ("object" == typeof n || "function" == typeof n)) {
                if (t) return y(t, n);
              } else if (d) {
                if (e) return D(e, n);
              } else if (r)
                return (function (t, e) {
                  return !!T(t, e);
                })(r, n);
              return !1;
            },
            set: function (n, o) {
              h && n && ("object" == typeof n || "function" == typeof n)
                ? (t || (t = new h()), m(t, n, o))
                : d
                  ? (e || (e = new d()), E(e, n, o))
                  : (r || (r = { key: {}, next: null }),
                    (function (t, e, r) {
                      var n = T(t, e);
                      n
                        ? (n.value = r)
                        : (t.next = { key: e, next: t.next, value: r });
                    })(r, n, o));
            },
          };
        return n;
      };
    },
    function (t, e, r) {
      "use strict";
      var n = "undefined" != typeof Symbol && Symbol,
        o = r(492);
      t.exports = function () {
        return (
          "function" == typeof n &&
          "function" == typeof Symbol &&
          "symbol" == typeof n("foo") &&
          "symbol" == typeof Symbol("bar") &&
          o()
        );
      };
    },
    function (t, e, r) {
      "use strict";
      t.exports = function () {
        if (
          "function" != typeof Symbol ||
          "function" != typeof Object.getOwnPropertySymbols
        )
          return !1;
        if ("symbol" == typeof Symbol.iterator) return !0;
        var t = {},
          e = Symbol("test"),
          r = Object(e);
        if ("string" == typeof e) return !1;
        if ("[object Symbol]" !== Object.prototype.toString.call(e)) return !1;
        if ("[object Symbol]" !== Object.prototype.toString.call(r)) return !1;
        for (e in ((t[e] = 42), t)) return !1;
        if ("function" == typeof Object.keys && 0 !== Object.keys(t).length)
          return !1;
        if (
          "function" == typeof Object.getOwnPropertyNames &&
          0 !== Object.getOwnPropertyNames(t).length
        )
          return !1;
        var n = Object.getOwnPropertySymbols(t);
        if (1 !== n.length || n[0] !== e) return !1;
        if (!Object.prototype.propertyIsEnumerable.call(t, e)) return !1;
        if ("function" == typeof Object.getOwnPropertyDescriptor) {
          var o = Object.getOwnPropertyDescriptor(t, e);
          if (42 !== o.value || !0 !== o.enumerable) return !1;
        }
        return !0;
      };
    },
    function (t, e, r) {
      "use strict";
      var n = Array.prototype.slice,
        o = Object.prototype.toString;
      t.exports = function (t) {
        var e = this;
        if ("function" != typeof e || "[object Function]" !== o.call(e))
          throw new TypeError(
            "Function.prototype.bind called on incompatible " + e,
          );
        for (
          var r,
            l = n.call(arguments, 1),
            c = Math.max(0, e.length - l.length),
            h = [],
            i = 0;
          i < c;
          i++
        )
          h.push("$" + i);
        if (
          ((r = Function(
            "binder",
            "return function (" +
              h.join(",") +
              "){ return binder.apply(this,arguments); }",
          )(function () {
            if (this instanceof r) {
              var o = e.apply(this, l.concat(n.call(arguments)));
              return Object(o) === o ? o : this;
            }
            return e.apply(t, l.concat(n.call(arguments)));
          })),
          e.prototype)
        ) {
          var d = function () {};
          ((d.prototype = e.prototype),
            (r.prototype = new d()),
            (d.prototype = null));
        }
        return r;
      };
    },
    function (t, e, r) {
      "use strict";
      var n = r(172);
      t.exports = n.call(Function.call, Object.prototype.hasOwnProperty);
    },
    function (t, e, r) {
      "use strict";
      var n = r(171),
        o = r(496),
        l = o(n("String.prototype.indexOf"));
      t.exports = function (t, e) {
        var r = n(t, !!e);
        return "function" == typeof r && l(t, ".prototype.") > -1 ? o(r) : r;
      };
    },
    function (t, e, r) {
      "use strict";
      var n = r(172),
        o = r(171),
        l = o("%Function.prototype.apply%"),
        c = o("%Function.prototype.call%"),
        h = o("%Reflect.apply%", !0) || n.call(c, l),
        d = o("%Object.getOwnPropertyDescriptor%", !0),
        f = o("%Object.defineProperty%", !0),
        m = o("%Math.max%");
      if (f)
        try {
          f({}, "a", { value: 1 });
        } catch (t) {
          f = null;
        }
      t.exports = function (t) {
        var e = h(n, c, arguments);
        d &&
          f &&
          d(e, "length").configurable &&
          f(e, "length", {
            value: 1 + m(0, t.length - (arguments.length - 1)),
          });
        return e;
      };
      var y = function () {
        return h(n, l, arguments);
      };
      f ? f(t.exports, "apply", { value: y }) : (t.exports.apply = y);
    },
    function (t, e, r) {
      var n = "function" == typeof Map && Map.prototype,
        o =
          Object.getOwnPropertyDescriptor && n
            ? Object.getOwnPropertyDescriptor(Map.prototype, "size")
            : null,
        l = n && o && "function" == typeof o.get ? o.get : null,
        c = n && Map.prototype.forEach,
        h = "function" == typeof Set && Set.prototype,
        d =
          Object.getOwnPropertyDescriptor && h
            ? Object.getOwnPropertyDescriptor(Set.prototype, "size")
            : null,
        f = h && d && "function" == typeof d.get ? d.get : null,
        m = h && Set.prototype.forEach,
        y =
          "function" == typeof WeakMap && WeakMap.prototype
            ? WeakMap.prototype.has
            : null,
        v =
          "function" == typeof WeakSet && WeakSet.prototype
            ? WeakSet.prototype.has
            : null,
        E =
          "function" == typeof WeakRef && WeakRef.prototype
            ? WeakRef.prototype.deref
            : null,
        D = Boolean.prototype.valueOf,
        T = Object.prototype.toString,
        S = Function.prototype.toString,
        _ = String.prototype.match,
        w = String.prototype.slice,
        A = String.prototype.replace,
        x = String.prototype.toUpperCase,
        L = String.prototype.toLowerCase,
        k = RegExp.prototype.test,
        C = Array.prototype.concat,
        R = Array.prototype.join,
        O = Array.prototype.slice,
        I = Math.floor,
        P = "function" == typeof BigInt ? BigInt.prototype.valueOf : null,
        F = Object.getOwnPropertySymbols,
        M =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? Symbol.prototype.toString
            : null,
        N = "function" == typeof Symbol && "object" == typeof Symbol.iterator,
        B =
          "function" == typeof Symbol &&
          Symbol.toStringTag &&
          (typeof Symbol.toStringTag === N || "symbol")
            ? Symbol.toStringTag
            : null,
        U = Object.prototype.propertyIsEnumerable,
        j =
          ("function" == typeof Reflect
            ? Reflect.getPrototypeOf
            : Object.getPrototypeOf) ||
          ([].__proto__ === Array.prototype
            ? function (t) {
                return t.__proto__;
              }
            : null);
      function $(t, e) {
        if (
          t === 1 / 0 ||
          t === -1 / 0 ||
          t != t ||
          (t && t > -1e3 && t < 1e3) ||
          k.call(/e/, e)
        )
          return e;
        var r = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
        if ("number" == typeof t) {
          var n = t < 0 ? -I(-t) : I(t);
          if (n !== t) {
            var o = String(n),
              l = w.call(e, o.length + 1);
            return (
              A.call(o, r, "$&_") +
              "." +
              A.call(A.call(l, /([0-9]{3})/g, "$&_"), /_$/, "")
            );
          }
        }
        return A.call(e, r, "$&_");
      }
      var G = r(498),
        K = G.custom,
        H = X(K) ? K : null;
      function V(s, t, e) {
        var r = "double" === (e.quoteStyle || t) ? '"' : "'";
        return r + s + r;
      }
      function Y(s) {
        return A.call(String(s), /"/g, "&quot;");
      }
      function z(t) {
        return !(
          "[object Array]" !== Z(t) ||
          (B && "object" == typeof t && B in t)
        );
      }
      function W(t) {
        return !(
          "[object RegExp]" !== Z(t) ||
          (B && "object" == typeof t && B in t)
        );
      }
      function X(t) {
        if (N) return t && "object" == typeof t && t instanceof Symbol;
        if ("symbol" == typeof t) return !0;
        if (!t || "object" != typeof t || !M) return !1;
        try {
          return (M.call(t), !0);
        } catch (t) {}
        return !1;
      }
      t.exports = function t(e, r, n, o) {
        var h = r || {};
        if (
          J(h, "quoteStyle") &&
          "single" !== h.quoteStyle &&
          "double" !== h.quoteStyle
        )
          throw new TypeError(
            'option "quoteStyle" must be "single" or "double"',
          );
        if (
          J(h, "maxStringLength") &&
          ("number" == typeof h.maxStringLength
            ? h.maxStringLength < 0 && h.maxStringLength !== 1 / 0
            : null !== h.maxStringLength)
        )
          throw new TypeError(
            'option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`',
          );
        var d = !J(h, "customInspect") || h.customInspect;
        if ("boolean" != typeof d && "symbol" !== d)
          throw new TypeError(
            "option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`",
          );
        if (
          J(h, "indent") &&
          null !== h.indent &&
          "\t" !== h.indent &&
          !(parseInt(h.indent, 10) === h.indent && h.indent > 0)
        )
          throw new TypeError(
            'option "indent" must be "\\t", an integer > 0, or `null`',
          );
        if (J(h, "numericSeparator") && "boolean" != typeof h.numericSeparator)
          throw new TypeError(
            'option "numericSeparator", if provided, must be `true` or `false`',
          );
        var T = h.numericSeparator;
        if (void 0 === e) return "undefined";
        if (null === e) return "null";
        if ("boolean" == typeof e) return e ? "true" : "false";
        if ("string" == typeof e) return et(e, h);
        if ("number" == typeof e) {
          if (0 === e) return 1 / 0 / e > 0 ? "0" : "-0";
          var x = String(e);
          return T ? $(e, x) : x;
        }
        if ("bigint" == typeof e) {
          var k = String(e) + "n";
          return T ? $(e, k) : k;
        }
        var I = void 0 === h.depth ? 5 : h.depth;
        if ((void 0 === n && (n = 0), n >= I && I > 0 && "object" == typeof e))
          return z(e) ? "[Array]" : "[Object]";
        var F = (function (t, e) {
          var r;
          if ("\t" === t.indent) r = "\t";
          else {
            if (!("number" == typeof t.indent && t.indent > 0)) return null;
            r = R.call(Array(t.indent + 1), " ");
          }
          return { base: r, prev: R.call(Array(e + 1), r) };
        })(h, n);
        if (void 0 === o) o = [];
        else if (tt(o, e) >= 0) return "[Circular]";
        function K(e, r, l) {
          if ((r && (o = O.call(o)).push(r), l)) {
            var c = { depth: h.depth };
            return (
              J(h, "quoteStyle") && (c.quoteStyle = h.quoteStyle),
              t(e, c, n + 1, o)
            );
          }
          return t(e, h, n + 1, o);
        }
        if ("function" == typeof e && !W(e)) {
          var Q = (function (t) {
              if (t.name) return t.name;
              var e = _.call(S.call(t), /^function\s*([\w$]+)/);
              if (e) return e[1];
              return null;
            })(e),
            nt = lt(e, K);
          return (
            "[Function" +
            (Q ? ": " + Q : " (anonymous)") +
            "]" +
            (nt.length > 0 ? " { " + R.call(nt, ", ") + " }" : "")
          );
        }
        if (X(e)) {
          var ut = N
            ? A.call(String(e), /^(Symbol\(.*\))_[^)]*$/, "$1")
            : M.call(e);
          return "object" != typeof e || N ? ut : it(ut);
        }
        if (
          (function (t) {
            if (!t || "object" != typeof t) return !1;
            if ("undefined" != typeof HTMLElement && t instanceof HTMLElement)
              return !0;
            return (
              "string" == typeof t.nodeName &&
              "function" == typeof t.getAttribute
            );
          })(e)
        ) {
          for (
            var s = "<" + L.call(String(e.nodeName)),
              ct = e.attributes || [],
              i = 0;
            i < ct.length;
            i++
          )
            s += " " + ct[i].name + "=" + V(Y(ct[i].value), "double", h);
          return (
            (s += ">"),
            e.childNodes && e.childNodes.length && (s += "..."),
            (s += "</" + L.call(String(e.nodeName)) + ">")
          );
        }
        if (z(e)) {
          if (0 === e.length) return "[]";
          var ht = lt(e, K);
          return F &&
            !(function (t) {
              for (var i = 0; i < t.length; i++)
                if (tt(t[i], "\n") >= 0) return !1;
              return !0;
            })(ht)
            ? "[" + ot(ht, F) + "]"
            : "[ " + R.call(ht, ", ") + " ]";
        }
        if (
          (function (t) {
            return !(
              "[object Error]" !== Z(t) ||
              (B && "object" == typeof t && B in t)
            );
          })(e)
        ) {
          var ft = lt(e, K);
          return "cause" in Error.prototype ||
            !("cause" in e) ||
            U.call(e, "cause")
            ? 0 === ft.length
              ? "[" + String(e) + "]"
              : "{ [" + String(e) + "] " + R.call(ft, ", ") + " }"
            : "{ [" +
                String(e) +
                "] " +
                R.call(C.call("[cause]: " + K(e.cause), ft), ", ") +
                " }";
        }
        if ("object" == typeof e && d) {
          if (H && "function" == typeof e[H] && G)
            return G(e, { depth: I - n });
          if ("symbol" !== d && "function" == typeof e.inspect)
            return e.inspect();
        }
        if (
          (function (t) {
            if (!l || !t || "object" != typeof t) return !1;
            try {
              l.call(t);
              try {
                f.call(t);
              } catch (t) {
                return !0;
              }
              return t instanceof Map;
            } catch (t) {}
            return !1;
          })(e)
        ) {
          var pt = [];
          return (
            c &&
              c.call(e, function (t, r) {
                pt.push(K(r, e, !0) + " => " + K(t, e));
              }),
            at("Map", l.call(e), pt, F)
          );
        }
        if (
          (function (t) {
            if (!f || !t || "object" != typeof t) return !1;
            try {
              f.call(t);
              try {
                l.call(t);
              } catch (t) {
                return !0;
              }
              return t instanceof Set;
            } catch (t) {}
            return !1;
          })(e)
        ) {
          var gt = [];
          return (
            m &&
              m.call(e, function (t) {
                gt.push(K(t, e));
              }),
            at("Set", f.call(e), gt, F)
          );
        }
        if (
          (function (t) {
            if (!y || !t || "object" != typeof t) return !1;
            try {
              y.call(t, y);
              try {
                v.call(t, v);
              } catch (t) {
                return !0;
              }
              return t instanceof WeakMap;
            } catch (t) {}
            return !1;
          })(e)
        )
          return st("WeakMap");
        if (
          (function (t) {
            if (!v || !t || "object" != typeof t) return !1;
            try {
              v.call(t, v);
              try {
                y.call(t, y);
              } catch (t) {
                return !0;
              }
              return t instanceof WeakSet;
            } catch (t) {}
            return !1;
          })(e)
        )
          return st("WeakSet");
        if (
          (function (t) {
            if (!E || !t || "object" != typeof t) return !1;
            try {
              return (E.call(t), !0);
            } catch (t) {}
            return !1;
          })(e)
        )
          return st("WeakRef");
        if (
          (function (t) {
            return !(
              "[object Number]" !== Z(t) ||
              (B && "object" == typeof t && B in t)
            );
          })(e)
        )
          return it(K(Number(e)));
        if (
          (function (t) {
            if (!t || "object" != typeof t || !P) return !1;
            try {
              return (P.call(t), !0);
            } catch (t) {}
            return !1;
          })(e)
        )
          return it(K(P.call(e)));
        if (
          (function (t) {
            return !(
              "[object Boolean]" !== Z(t) ||
              (B && "object" == typeof t && B in t)
            );
          })(e)
        )
          return it(D.call(e));
        if (
          (function (t) {
            return !(
              "[object String]" !== Z(t) ||
              (B && "object" == typeof t && B in t)
            );
          })(e)
        )
          return it(K(String(e)));
        if (
          !(function (t) {
            return !(
              "[object Date]" !== Z(t) ||
              (B && "object" == typeof t && B in t)
            );
          })(e) &&
          !W(e)
        ) {
          var mt = lt(e, K),
            yt = j
              ? j(e) === Object.prototype
              : e instanceof Object || e.constructor === Object,
            vt = e instanceof Object ? "" : "null prototype",
            bt =
              !yt && B && Object(e) === e && B in e
                ? w.call(Z(e), 8, -1)
                : vt
                  ? "Object"
                  : "",
            Et =
              (yt || "function" != typeof e.constructor
                ? ""
                : e.constructor.name
                  ? e.constructor.name + " "
                  : "") +
              (bt || vt
                ? "[" + R.call(C.call([], bt || [], vt || []), ": ") + "] "
                : "");
          return 0 === mt.length
            ? Et + "{}"
            : F
              ? Et + "{" + ot(mt, F) + "}"
              : Et + "{ " + R.call(mt, ", ") + " }";
        }
        return String(e);
      };
      var Q =
        Object.prototype.hasOwnProperty ||
        function (t) {
          return t in this;
        };
      function J(t, e) {
        return Q.call(t, e);
      }
      function Z(t) {
        return T.call(t);
      }
      function tt(t, e) {
        if (t.indexOf) return t.indexOf(e);
        for (var i = 0, r = t.length; i < r; i++) if (t[i] === e) return i;
        return -1;
      }
      function et(t, e) {
        if (t.length > e.maxStringLength) {
          var r = t.length - e.maxStringLength,
            n = "... " + r + " more character" + (r > 1 ? "s" : "");
          return et(w.call(t, 0, e.maxStringLength), e) + n;
        }
        return V(
          A.call(A.call(t, /(['\\])/g, "\\$1"), /[\x00-\x1f]/g, nt),
          "single",
          e,
        );
      }
      function nt(t) {
        var e = t.charCodeAt(0),
          r = { 8: "b", 9: "t", 10: "n", 12: "f", 13: "r" }[e];
        return r
          ? "\\" + r
          : "\\x" + (e < 16 ? "0" : "") + x.call(e.toString(16));
      }
      function it(t) {
        return "Object(" + t + ")";
      }
      function st(t) {
        return t + " { ? }";
      }
      function at(t, e, r, n) {
        return t + " (" + e + ") {" + (n ? ot(r, n) : R.call(r, ", ")) + "}";
      }
      function ot(t, e) {
        if (0 === t.length) return "";
        var r = "\n" + e.prev + e.base;
        return r + R.call(t, "," + r) + "\n" + e.prev;
      }
      function lt(t, e) {
        var r = z(t),
          n = [];
        if (r) {
          n.length = t.length;
          for (var i = 0; i < t.length; i++) n[i] = J(t, i) ? e(t[i], t) : "";
        }
        var o,
          l = "function" == typeof F ? F(t) : [];
        if (N) {
          o = {};
          for (var c = 0; c < l.length; c++) o["$" + l[c]] = l[c];
        }
        for (var h in t)
          J(t, h) &&
            ((r && String(Number(h)) === h && h < t.length) ||
              (N && o["$" + h] instanceof Symbol) ||
              (k.call(/[^\w$]/, h)
                ? n.push(e(h, t) + ": " + e(t[h], t))
                : n.push(h + ": " + e(t[h], t))));
        if ("function" == typeof F)
          for (var d = 0; d < l.length; d++)
            U.call(t, l[d]) && n.push("[" + e(l[d]) + "]: " + e(t[l[d]], t));
        return n;
      }
    },
    ,
    function (t, e, r) {
      "use strict";
      var n = r(293),
        o = Object.prototype.hasOwnProperty,
        l = Array.isArray,
        c = {
          allowDots: !1,
          allowPrototypes: !1,
          allowSparse: !1,
          arrayLimit: 20,
          charset: "utf-8",
          charsetSentinel: !1,
          comma: !1,
          decoder: n.decode,
          delimiter: "&",
          depth: 5,
          ignoreQueryPrefix: !1,
          interpretNumericEntities: !1,
          parameterLimit: 1e3,
          parseArrays: !0,
          plainObjects: !1,
          strictNullHandling: !1,
        },
        h = function (t) {
          return t.replace(/&#(\d+);/g, function (t, e) {
            return String.fromCharCode(parseInt(e, 10));
          });
        },
        d = function (t, e) {
          return t && "string" == typeof t && e.comma && t.indexOf(",") > -1
            ? t.split(",")
            : t;
        },
        f = function (t, e, r, n) {
          if (t) {
            var l = r.allowDots ? t.replace(/\.([^.[]+)/g, "[$1]") : t,
              c = /(\[[^[\]]*])/g,
              h = r.depth > 0 && /(\[[^[\]]*])/.exec(l),
              f = h ? l.slice(0, h.index) : l,
              m = [];
            if (f) {
              if (
                !r.plainObjects &&
                o.call(Object.prototype, f) &&
                !r.allowPrototypes
              )
                return;
              m.push(f);
            }
            for (
              var i = 0;
              r.depth > 0 && null !== (h = c.exec(l)) && i < r.depth;
            ) {
              if (
                ((i += 1),
                !r.plainObjects &&
                  o.call(Object.prototype, h[1].slice(1, -1)) &&
                  !r.allowPrototypes)
              )
                return;
              m.push(h[1]);
            }
            return (
              h && m.push("[" + l.slice(h.index) + "]"),
              (function (t, e, r, n) {
                for (var o = n ? e : d(e, r), i = t.length - 1; i >= 0; --i) {
                  var l,
                    c = t[i];
                  if ("[]" === c && r.parseArrays) l = [].concat(o);
                  else {
                    l = r.plainObjects ? Object.create(null) : {};
                    var h =
                        "[" === c.charAt(0) && "]" === c.charAt(c.length - 1)
                          ? c.slice(1, -1)
                          : c,
                      f = parseInt(h, 10);
                    r.parseArrays || "" !== h
                      ? !isNaN(f) &&
                        c !== h &&
                        String(f) === h &&
                        f >= 0 &&
                        r.parseArrays &&
                        f <= r.arrayLimit
                        ? ((l = [])[f] = o)
                        : "__proto__" !== h && (l[h] = o)
                      : (l = { 0: o });
                  }
                  o = l;
                }
                return o;
              })(m, e, r, n)
            );
          }
        };
      t.exports = function (t, e) {
        var r = (function (t) {
          if (!t) return c;
          if (
            null !== t.decoder &&
            void 0 !== t.decoder &&
            "function" != typeof t.decoder
          )
            throw new TypeError("Decoder has to be a function.");
          if (
            void 0 !== t.charset &&
            "utf-8" !== t.charset &&
            "iso-8859-1" !== t.charset
          )
            throw new TypeError(
              "The charset option must be either utf-8, iso-8859-1, or undefined",
            );
          var e = void 0 === t.charset ? c.charset : t.charset;
          return {
            allowDots: void 0 === t.allowDots ? c.allowDots : !!t.allowDots,
            allowPrototypes:
              "boolean" == typeof t.allowPrototypes
                ? t.allowPrototypes
                : c.allowPrototypes,
            allowSparse:
              "boolean" == typeof t.allowSparse ? t.allowSparse : c.allowSparse,
            arrayLimit:
              "number" == typeof t.arrayLimit ? t.arrayLimit : c.arrayLimit,
            charset: e,
            charsetSentinel:
              "boolean" == typeof t.charsetSentinel
                ? t.charsetSentinel
                : c.charsetSentinel,
            comma: "boolean" == typeof t.comma ? t.comma : c.comma,
            decoder: "function" == typeof t.decoder ? t.decoder : c.decoder,
            delimiter:
              "string" == typeof t.delimiter || n.isRegExp(t.delimiter)
                ? t.delimiter
                : c.delimiter,
            depth:
              "number" == typeof t.depth || !1 === t.depth ? +t.depth : c.depth,
            ignoreQueryPrefix: !0 === t.ignoreQueryPrefix,
            interpretNumericEntities:
              "boolean" == typeof t.interpretNumericEntities
                ? t.interpretNumericEntities
                : c.interpretNumericEntities,
            parameterLimit:
              "number" == typeof t.parameterLimit
                ? t.parameterLimit
                : c.parameterLimit,
            parseArrays: !1 !== t.parseArrays,
            plainObjects:
              "boolean" == typeof t.plainObjects
                ? t.plainObjects
                : c.plainObjects,
            strictNullHandling:
              "boolean" == typeof t.strictNullHandling
                ? t.strictNullHandling
                : c.strictNullHandling,
          };
        })(e);
        if ("" === t || null == t)
          return r.plainObjects ? Object.create(null) : {};
        for (
          var m =
              "string" == typeof t
                ? (function (t, e) {
                    var i,
                      r = { __proto__: null },
                      f = e.ignoreQueryPrefix ? t.replace(/^\?/, "") : t,
                      m =
                        e.parameterLimit === 1 / 0 ? void 0 : e.parameterLimit,
                      y = f.split(e.delimiter, m),
                      v = -1,
                      E = e.charset;
                    if (e.charsetSentinel)
                      for (i = 0; i < y.length; ++i)
                        0 === y[i].indexOf("utf8=") &&
                          ("utf8=%E2%9C%93" === y[i]
                            ? (E = "utf-8")
                            : "utf8=%26%2310003%3B" === y[i] &&
                              (E = "iso-8859-1"),
                          (v = i),
                          (i = y.length));
                    for (i = 0; i < y.length; ++i)
                      if (i !== v) {
                        var D,
                          T,
                          S = y[i],
                          _ = S.indexOf("]="),
                          w = -1 === _ ? S.indexOf("=") : _ + 1;
                        (-1 === w
                          ? ((D = e.decoder(S, c.decoder, E, "key")),
                            (T = e.strictNullHandling ? null : ""))
                          : ((D = e.decoder(
                              S.slice(0, w),
                              c.decoder,
                              E,
                              "key",
                            )),
                            (T = n.maybeMap(d(S.slice(w + 1), e), function (t) {
                              return e.decoder(t, c.decoder, E, "value");
                            }))),
                          T &&
                            e.interpretNumericEntities &&
                            "iso-8859-1" === E &&
                            (T = h(T)),
                          S.indexOf("[]=") > -1 && (T = l(T) ? [T] : T),
                          o.call(r, D)
                            ? (r[D] = n.combine(r[D], T))
                            : (r[D] = T));
                      }
                    return r;
                  })(t, r)
                : t,
            y = r.plainObjects ? Object.create(null) : {},
            v = Object.keys(m),
            i = 0;
          i < v.length;
          ++i
        ) {
          var E = v[i],
            D = f(E, m[E], r, "string" == typeof t);
          y = n.merge(y, D, r);
        }
        return !0 === r.allowSparse ? y : n.compact(y);
      };
    },
    function (t, e) {
      t.exports = function (t) {
        return t
          .replace(/[A-Z]/g, function (t) {
            return "-" + t.toLowerCase();
          })
          .toLowerCase();
      };
    },
    ,
    function (t, e, r) {
      var n, o, l;
      !(function (c, h) {
        ((h = h.bind(null, c, c.document)),
          t.exports
            ? h(r(130))
            : ((o = [r(130)]),
              void 0 ===
                (l = "function" == typeof (n = h) ? n.apply(e, o) : n) ||
                (t.exports = l)));
      })(window, function (t, e, r) {
        "use strict";
        var n,
          o,
          l = {};
        function c(t, style, r) {
          if (!l[t]) {
            var n = e.createElement(style ? "link" : "script"),
              o = e.getElementsByTagName("script")[0];
            (style
              ? ((n.rel = "stylesheet"), (n.href = t))
              : ((n.onload = function () {
                  ((n.onerror = null), (n.onload = null), r());
                }),
                (n.onerror = n.onload),
                (n.src = t)),
              (l[t] = !0),
              (l[n.src || n.href] = !0),
              o.parentNode.insertBefore(n, o));
          }
        }
        e.addEventListener &&
          ((o = /\(|\)|\s|'/),
          (n = function (t, r) {
            var img = e.createElement("img");
            ((img.onload = function () {
              ((img.onload = null), (img.onerror = null), (img = null), r());
            }),
              (img.onerror = img.onload),
              (img.src = t),
              img && img.complete && img.onload && img.onload());
          }),
          addEventListener(
            "lazybeforeunveil",
            function (t) {
              var e, l, h;
              if (t.detail.instance == r && !t.defaultPrevented) {
                var d = t.target;
                if (
                  ("none" == d.preload &&
                    (d.preload = d.getAttribute("data-preload") || "auto"),
                  null != d.getAttribute("data-autoplay"))
                )
                  if (d.getAttribute("data-expand") && !d.autoplay)
                    try {
                      d.play();
                    } catch (t) {}
                  else
                    requestAnimationFrame(function () {
                      (d.setAttribute("data-expand", "-10"),
                        r.aC(d, r.cfg.lazyClass));
                    });
                ((e = d.getAttribute("data-link")) && c(e, !0),
                  (e = d.getAttribute("data-script")) &&
                    ((t.detail.firesLoad = !0),
                    c(e, null, function () {
                      ((t.detail.firesLoad = !1),
                        r.fire(d, "_lazyloaded", {}, !0, !0));
                    })),
                  (e = d.getAttribute("data-require")) &&
                    (r.cfg.requireJs ? r.cfg.requireJs([e]) : c(e)),
                  (l = d.getAttribute("data-bg")) &&
                    ((t.detail.firesLoad = !0),
                    n(l, function () {
                      ((d.style.backgroundImage =
                        "url(" + (o.test(l) ? JSON.stringify(l) : l) + ")"),
                        (t.detail.firesLoad = !1),
                        r.fire(d, "_lazyloaded", {}, !0, !0));
                    })),
                  (h = d.getAttribute("data-poster")) &&
                    ((t.detail.firesLoad = !0),
                    n(h, function () {
                      ((d.poster = h),
                        (t.detail.firesLoad = !1),
                        r.fire(d, "_lazyloaded", {}, !0, !0));
                    })));
              }
            },
            !1,
          ));
      });
    },
    function (t, e, r) {
      "use strict";
      (r.r(e),
        r.d(e, "ScrollToPlugin", function () {
          return x;
        }),
        r.d(e, "default", function () {
          return x;
        }));
      var n,
        o,
        l,
        c,
        h,
        d,
        f,
        m,
        y = function () {
          return "undefined" != typeof window;
        },
        v = function () {
          return n || (y() && (n = window.gsap) && n.registerPlugin && n);
        },
        E = function (t) {
          return "string" == typeof t;
        },
        D = function (t) {
          return "function" == typeof t;
        },
        T = function (element, t) {
          var e = "x" === t ? "Width" : "Height",
            r = "scroll" + e,
            n = "client" + e;
          return element === l || element === c || element === h
            ? Math.max(c[r], h[r]) - (l["inner" + e] || c[n] || h[n])
            : element[r] - element["offset" + e];
        },
        S = function (t, e) {
          var p = "scroll" + ("x" === e ? "Left" : "Top");
          return (
            t === l &&
              (null != t.pageXOffset
                ? (p = "page" + e.toUpperCase() + "Offset")
                : (t = null != c[p] ? c : h)),
            function () {
              return t[p];
            }
          );
        },
        _ = function (element, t) {
          if (!(element = d(element)[0]) || !element.getBoundingClientRect)
            return (
              console.warn("scrollTo target doesn't exist. Using 0") || {
                x: 0,
                y: 0,
              }
            );
          var rect = element.getBoundingClientRect(),
            e = !t || t === l || t === h,
            r = e
              ? {
                  top:
                    c.clientTop -
                    (l.pageYOffset || c.scrollTop || h.scrollTop || 0),
                  left:
                    c.clientLeft -
                    (l.pageXOffset || c.scrollLeft || h.scrollLeft || 0),
                }
              : t.getBoundingClientRect(),
            n = { x: rect.left - r.left, y: rect.top - r.top };
          return (!e && t && ((n.x += S(t, "x")()), (n.y += S(t, "y")())), n);
        },
        w = function (t, e, r, n, o) {
          return isNaN(t) || "object" == typeof t
            ? E(t) && "=" === t.charAt(1)
              ? parseFloat(t.substr(2)) * ("-" === t.charAt(0) ? -1 : 1) + n - o
              : "max" === t
                ? T(e, r) - o
                : Math.min(T(e, r), _(t, e)[r] - o)
            : parseFloat(t) - o;
        },
        A = function () {
          ((n = v()),
            y() &&
              n &&
              "undefined" != typeof document &&
              document.body &&
              ((l = window),
              (h = document.body),
              (c = document.documentElement),
              (d = n.utils.toArray),
              n.config({ autoKillThreshold: 7 }),
              (f = n.config()),
              (o = 1)));
        },
        x = {
          version: "3.11.5",
          name: "scrollTo",
          rawVars: 1,
          register: function (t) {
            ((n = t), A());
          },
          init: function (t, e, r, c, h) {
            o || A();
            var data = this,
              d = n.getProperty(t, "scrollSnapType");
            ((data.isWin = t === l),
              (data.target = t),
              (data.tween = r),
              (e = (function (t, e, r, n) {
                if ((D(t) && (t = t(e, r, n)), "object" != typeof t))
                  return E(t) && "max" !== t && "=" !== t.charAt(1)
                    ? { x: t, y: t }
                    : { y: t };
                if (t.nodeType) return { y: t, x: t };
                var p,
                  o = {};
                for (p in t)
                  o[p] = "onAutoKill" !== p && D(t[p]) ? t[p](e, r, n) : t[p];
                return o;
              })(e, c, t, h)),
              (data.vars = e),
              (data.autoKill = !!e.autoKill),
              (data.getX = S(t, "x")),
              (data.getY = S(t, "y")),
              (data.x = data.xPrev = data.getX()),
              (data.y = data.yPrev = data.getY()),
              m || (m = n.core.globals().ScrollTrigger),
              "smooth" === n.getProperty(t, "scrollBehavior") &&
                n.set(t, { scrollBehavior: "auto" }),
              d &&
                "none" !== d &&
                ((data.snap = 1),
                (data.snapInline = t.style.scrollSnapType),
                (t.style.scrollSnapType = "none")),
              null != e.x
                ? (data.add(
                    data,
                    "x",
                    data.x,
                    w(e.x, t, "x", data.x, e.offsetX || 0),
                    c,
                    h,
                  ),
                  data._props.push("scrollTo_x"))
                : (data.skipX = 1),
              null != e.y
                ? (data.add(
                    data,
                    "y",
                    data.y,
                    w(e.y, t, "y", data.y, e.offsetY || 0),
                    c,
                    h,
                  ),
                  data._props.push("scrollTo_y"))
                : (data.skipY = 1));
          },
          render: function (t, data) {
            for (
              var e,
                r,
                n,
                o,
                c,
                h = data._pt,
                d = data.target,
                y = data.tween,
                v = data.autoKill,
                E = data.xPrev,
                D = data.yPrev,
                S = data.isWin,
                _ = data.snap,
                w = data.snapInline;
              h;
            )
              (h.r(t, h.d), (h = h._next));
            ((e = S || !data.skipX ? data.getX() : E),
              (n = (r = S || !data.skipY ? data.getY() : D) - D),
              (o = e - E),
              (c = f.autoKillThreshold),
              data.x < 0 && (data.x = 0),
              data.y < 0 && (data.y = 0),
              v &&
                (!data.skipX &&
                  (o > c || o < -c) &&
                  e < T(d, "x") &&
                  (data.skipX = 1),
                !data.skipY &&
                  (n > c || n < -c) &&
                  r < T(d, "y") &&
                  (data.skipY = 1),
                data.skipX &&
                  data.skipY &&
                  (y.kill(),
                  data.vars.onAutoKill &&
                    data.vars.onAutoKill.apply(
                      y,
                      data.vars.onAutoKillParams || [],
                    ))),
              S
                ? l.scrollTo(data.skipX ? e : data.x, data.skipY ? r : data.y)
                : (data.skipY || (d.scrollTop = data.y),
                  data.skipX || (d.scrollLeft = data.x)),
              !_ ||
                (1 !== t && 0 !== t) ||
                ((r = d.scrollTop),
                (e = d.scrollLeft),
                w
                  ? (d.style.scrollSnapType = w)
                  : d.style.removeProperty("scroll-snap-type"),
                (d.scrollTop = r + 1),
                (d.scrollLeft = e + 1),
                (d.scrollTop = r),
                (d.scrollLeft = e)),
              (data.xPrev = data.x),
              (data.yPrev = data.y),
              m && m.update());
          },
          kill: function (t) {
            var e = "scrollTo" === t;
            ((e || "scrollTo_x" === t) && (this.skipX = 1),
              (e || "scrollTo_y" === t) && (this.skipY = 1));
          },
        };
      ((x.max = T),
        (x.getOffset = _),
        (x.buildGetter = S),
        v() && n.registerPlugin(x));
    },
    ,
    ,
    ,
    function (t, e) {
      !(function () {
        "use strict";
        var t = function (t, e) {
          var r = function (t) {
              for (var i = 0, e = t.length; i < e; i++) n(t[i]);
            },
            n = function (t) {
              var e = t.target,
                r = t.attributeName,
                n = t.oldValue;
              e.attributeChangedCallback(r, n, e.getAttribute(r));
            };
          return function (o, l) {
            var c = o.constructor.observedAttributes;
            return (
              c &&
                t(l).then(function () {
                  new e(r).observe(o, {
                    attributes: !0,
                    attributeOldValue: !0,
                    attributeFilter: c,
                  });
                  for (var i = 0, t = c.length; i < t; i++)
                    o.hasAttribute(c[i]) &&
                      n({ target: o, attributeName: c[i], oldValue: null });
                }),
              o
            );
          };
        };
        function e(t, e) {
          (null == e || e > t.length) && (e = t.length);
          for (var i = 0, r = new Array(e); i < e; i++) r[i] = t[i];
          return r;
        }
        function r(t, r) {
          var n =
            ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
            t["@@iterator"];
          if (!n) {
            if (
              Array.isArray(t) ||
              (n = (function (t, r) {
                if (t) {
                  if ("string" == typeof t) return e(t, r);
                  var n = Object.prototype.toString.call(t).slice(8, -1);
                  return (
                    "Object" === n && t.constructor && (n = t.constructor.name),
                    "Map" === n || "Set" === n
                      ? Array.from(t)
                      : "Arguments" === n ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? e(t, r)
                        : void 0
                  );
                }
              })(t)) ||
              (r && t && "number" == typeof t.length)
            ) {
              n && (t = n);
              var i = 0,
                o = function () {};
              return {
                s: o,
                n: function () {
                  return i >= t.length
                    ? { done: !0 }
                    : { done: !1, value: t[i++] };
                },
                e: function (t) {
                  throw t;
                },
                f: o,
              };
            }
            throw new TypeError(
              "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.",
            );
          }
          var l,
            c = !0,
            h = !1;
          return {
            s: function () {
              n = n.call(t);
            },
            n: function () {
              var t = n.next();
              return ((c = t.done), t);
            },
            e: function (t) {
              ((h = !0), (l = t));
            },
            f: function () {
              try {
                c || null == n.return || n.return();
              } finally {
                if (h) throw l;
              }
            },
          };
        }
        var n = !0,
          o = !1,
          l = "querySelectorAll",
          c = "querySelectorAll",
          h = self,
          d = h.document,
          f = h.Element,
          m = h.MutationObserver,
          y = h.Set,
          v = h.WeakMap,
          E = function (element) {
            return c in element;
          },
          filter = [].filter,
          D = function (t) {
            var e = new v(),
              h = function (element, r) {
                var n;
                if (r)
                  for (
                    var q,
                      o = (function (element) {
                        return (
                          element.matches ||
                          element.webkitMatchesSelector ||
                          element.msMatchesSelector
                        );
                      })(element),
                      i = 0,
                      l = T.length;
                    i < l;
                    i++
                  )
                    o.call(element, (q = T[i])) &&
                      (e.has(element) || e.set(element, new y()),
                      (n = e.get(element)).has(q) ||
                        (n.add(q), t.handle(element, r, q)));
                else
                  e.has(element) &&
                    ((n = e.get(element)),
                    e.delete(element),
                    n.forEach(function (q) {
                      t.handle(element, r, q);
                    }));
              },
              D = function (t) {
                for (
                  var e =
                      !(arguments.length > 1 && void 0 !== arguments[1]) ||
                      arguments[1],
                    i = 0,
                    r = t.length;
                  i < r;
                  i++
                )
                  h(t[i], e);
              },
              T = t.query,
              S = t.root || d,
              _ = (function (t) {
                var e =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : document,
                  c =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : MutationObserver,
                  h =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : ["*"],
                  d = function e(o, c, h, d, f, m) {
                    var y,
                      v = r(o);
                    try {
                      for (v.s(); !(y = v.n()).done; ) {
                        var E = y.value;
                        (m || l in E) &&
                          (f
                            ? h.has(E) || (h.add(E), d.delete(E), t(E, f))
                            : d.has(E) || (d.add(E), h.delete(E), t(E, f)),
                          m || e(E[l](c), c, h, d, f, n));
                      }
                    } catch (t) {
                      v.e(t);
                    } finally {
                      v.f();
                    }
                  },
                  f = new c(function (t) {
                    if (h.length) {
                      var e,
                        l = h.join(","),
                        c = new Set(),
                        f = new Set(),
                        m = r(t);
                      try {
                        for (m.s(); !(e = m.n()).done; ) {
                          var y = e.value,
                            v = y.addedNodes,
                            E = y.removedNodes;
                          (d(E, l, c, f, o, o), d(v, l, c, f, n, o));
                        }
                      } catch (t) {
                        m.e(t);
                      } finally {
                        m.f();
                      }
                    }
                  }),
                  m = f.observe;
                return (
                  (f.observe = function (t) {
                    return m.call(f, t, { subtree: n, childList: n });
                  })(e),
                  f
                );
              })(h, S, m, T),
              w = f.prototype.attachShadow;
            return (
              w &&
                (f.prototype.attachShadow = function (t) {
                  var e = w.call(this, t);
                  return (_.observe(e), e);
                }),
              T.length && D(S[c](T)),
              {
                drop: function (t) {
                  for (var i = 0, r = t.length; i < r; i++) e.delete(t[i]);
                },
                flush: function () {
                  for (var t = _.takeRecords(), i = 0, e = t.length; i < e; i++)
                    (D(filter.call(t[i].removedNodes, E), !1),
                      D(filter.call(t[i].addedNodes, E), !0));
                },
                observer: _,
                parse: D,
              }
            );
          },
          T = self,
          S = T.document,
          _ = T.Map,
          w = T.MutationObserver,
          A = T.Object,
          x = T.Set,
          L = T.WeakMap,
          k = T.Element,
          C = T.HTMLElement,
          R = T.Node,
          O = T.Error,
          I = T.TypeError,
          P = T.Reflect,
          F = A.defineProperty,
          M = A.keys,
          N = A.getOwnPropertyNames,
          B = A.setPrototypeOf,
          U = !self.customElements,
          j = function (element) {
            for (
              var t = M(element), e = [], r = new x(), n = t.length, i = 0;
              i < n;
              i++
            ) {
              e[i] = element[t[i]];
              try {
                delete element[t[i]];
              } catch (t) {
                r.add(i);
              }
            }
            return function () {
              for (var o = 0; o < n; o++) r.has(o) || (element[t[o]] = e[o]);
            };
          };
        if (U) {
          var $ = function () {
              var t = this.constructor;
              if (!K.has(t)) throw new I("Illegal constructor");
              var e = K.get(t);
              if (X) return J(X, e);
              var element = G.call(S, e);
              return J(B(element, t.prototype), e);
            },
            G = S.createElement,
            K = new _(),
            H = new _(),
            V = new _(),
            Y = new _(),
            z = [],
            W = D({
              query: z,
              handle: function (element, t, e) {
                var r = V.get(e);
                if (t && !r.isPrototypeOf(element)) {
                  var n = j(element);
                  X = B(element, r);
                  try {
                    new r.constructor();
                  } finally {
                    ((X = null), n());
                  }
                }
                var o = "".concat(t ? "" : "dis", "connectedCallback");
                o in r && element[o]();
              },
            }).parse,
            X = null,
            Q = function (t) {
              if (!H.has(t)) {
                var e,
                  r = new Promise(function (t) {
                    e = t;
                  });
                H.set(t, { $: r, _: e });
              }
              return H.get(t).$;
            },
            J = t(Q, w);
          ((self.customElements = {
            define: function (t, e) {
              if (Y.has(t))
                throw new O(
                  'the name "'.concat(
                    t,
                    '" has already been used with this registry',
                  ),
                );
              (K.set(e, t),
                V.set(t, e.prototype),
                Y.set(t, e),
                z.push(t),
                Q(t).then(function () {
                  W(S.querySelectorAll(t));
                }),
                H.get(t)._(e));
            },
            get: function (t) {
              return Y.get(t);
            },
            whenDefined: Q,
          }),
            F(($.prototype = C.prototype), "constructor", { value: $ }),
            (self.HTMLElement = $),
            (S.createElement = function (t, e) {
              var r = e && e.is,
                n = r ? Y.get(r) : Y.get(t);
              return n ? new n() : G.call(S, t);
            }),
            "isConnected" in R.prototype ||
              F(R.prototype, "isConnected", {
                configurable: !0,
                get: function () {
                  return !(
                    this.ownerDocument.compareDocumentPosition(this) &
                    this.DOCUMENT_POSITION_DISCONNECTED
                  );
                },
              }));
        } else if ((U = !self.customElements.get("extends-br")))
          try {
            var Z = function t() {
              return self.Reflect.construct(HTMLBRElement, [], t);
            };
            Z.prototype = HTMLLIElement.prototype;
            var tt = "extends-br";
            (self.customElements.define("extends-br", Z, { extends: "br" }),
              (U =
                S.createElement("br", { is: tt }).outerHTML.indexOf(tt) < 0));
            var et = self.customElements,
              nt = et.get,
              it = et.whenDefined;
            self.customElements.whenDefined = function (t) {
              var e = this;
              return it.call(this, t).then(function (r) {
                return r || nt.call(e, t);
              });
            };
          } catch (t) {}
        if (U) {
          var st = function (element) {
              var t = pt.get(element);
              St(t.querySelectorAll(this), element.isConnected);
            },
            at = self.customElements,
            ot = S.createElement,
            lt = at.define,
            ut = at.get,
            ct = at.upgrade,
            ht = P || {
              construct: function (t) {
                return t.call(this);
              },
            },
            ft = ht.construct,
            pt = new L(),
            gt = new x(),
            mt = new _(),
            yt = new _(),
            vt = new _(),
            bt = new _(),
            Et = [],
            Dt = [],
            Tt = function (t) {
              return bt.get(t) || ut.call(at, t);
            },
            St = D({
              query: Dt,
              handle: function (element, t, e) {
                var r = vt.get(e);
                if (t && !r.isPrototypeOf(element)) {
                  var n = j(element);
                  Lt = B(element, r);
                  try {
                    new r.constructor();
                  } finally {
                    ((Lt = null), n());
                  }
                }
                var o = "".concat(t ? "" : "dis", "connectedCallback");
                o in r && element[o]();
              },
            }).parse,
            _t = D({
              query: Et,
              handle: function (element, t) {
                pt.has(element) &&
                  (t ? gt.add(element) : gt.delete(element),
                  Dt.length && st.call(Dt, element));
              },
            }).parse,
            wt = k.prototype.attachShadow;
          wt &&
            (k.prototype.attachShadow = function (t) {
              var e = wt.call(this, t);
              return (pt.set(this, e), e);
            });
          var At = function (t) {
              if (!yt.has(t)) {
                var e,
                  r = new Promise(function (t) {
                    e = t;
                  });
                yt.set(t, { $: r, _: e });
              }
              return yt.get(t).$;
            },
            xt = t(At, w),
            Lt = null;
          (N(self)
            .filter(function (t) {
              return /^HTML.*Element$/.test(t);
            })
            .forEach(function (t) {
              var e = self[t];
              function r() {
                var t = this.constructor;
                if (!mt.has(t)) throw new I("Illegal constructor");
                var r = mt.get(t),
                  n = r.is,
                  o = r.tag;
                if (n) {
                  if (Lt) return xt(Lt, n);
                  var element = ot.call(S, o);
                  return (
                    element.setAttribute("is", n),
                    xt(B(element, t.prototype), n)
                  );
                }
                return ft.call(this, e, [], t);
              }
              (F((r.prototype = e.prototype), "constructor", { value: r }),
                F(self, t, { value: r }));
            }),
            (S.createElement = function (t, e) {
              var r = e && e.is;
              if (r) {
                var n = bt.get(r);
                if (n && mt.get(n).tag === t) return new n();
              }
              var element = ot.call(S, t);
              return (r && element.setAttribute("is", r), element);
            }),
            (at.get = Tt),
            (at.whenDefined = At),
            (at.upgrade = function (element) {
              var t = element.getAttribute("is");
              if (t) {
                var e = bt.get(t);
                if (e) return void xt(B(element, e.prototype), t);
              }
              ct.call(at, element);
            }),
            (at.define = function (t, e, r) {
              if (Tt(t))
                throw new O(
                  "'".concat(
                    t,
                    "' has already been defined as a custom element",
                  ),
                );
              var n,
                o = r && r.extends;
              (mt.set(e, o ? { is: t, tag: o } : { is: "", tag: t }),
                o
                  ? ((n = "".concat(o, '[is="').concat(t, '"]')),
                    vt.set(n, e.prototype),
                    bt.set(t, e),
                    Dt.push(n))
                  : (lt.apply(at, arguments), Et.push((n = t))),
                At(t).then(function () {
                  o
                    ? (St(S.querySelectorAll(n)), gt.forEach(st, [n]))
                    : _t(S.querySelectorAll(n));
                }),
                yt.get(t)._(e));
            }));
        }
      })();
    },
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    ,
    function (t, e, r) {
      "use strict";
      (r.r(e),
        r.d(e, "Flip", function () {
          return Ut;
        }),
        r.d(e, "default", function () {
          return Ut;
        }));
      var n,
        o,
        l,
        c,
        h,
        d,
        f,
        m,
        y,
        v = "transform",
        E = v + "Origin",
        D = function (element) {
          var t = element.ownerDocument || element;
          !(v in element.style) &&
            "msTransform" in element.style &&
            (E = (v = "msTransform") + "Origin");
          for (; t.parentNode && (t = t.parentNode); );
          if (((o = window), (f = new O()), t)) {
            ((n = t),
              (l = t.documentElement),
              (c = t.body),
              ((m = n.createElementNS(
                "http://www.w3.org/2000/svg",
                "g",
              )).style.transform = "none"));
            var e = t.createElement("div"),
              r = t.createElement("div");
            (c.appendChild(e),
              e.appendChild(r),
              (e.style.position = "static"),
              (e.style[v] = "translate3d(0,0,1px)"),
              (y = r.offsetParent !== e),
              c.removeChild(e));
          }
          return t;
        },
        T = [],
        S = [],
        _ = function () {
          return (
            o.pageYOffset || n.scrollTop || l.scrollTop || c.scrollTop || 0
          );
        },
        w = function () {
          return (
            o.pageXOffset || n.scrollLeft || l.scrollLeft || c.scrollLeft || 0
          );
        },
        A = function (element) {
          return (
            element.ownerSVGElement ||
            ("svg" === (element.tagName + "").toLowerCase() ? element : null)
          );
        },
        x = function t(element) {
          return (
            "fixed" === o.getComputedStyle(element).position ||
            ((element = element.parentNode) && 1 === element.nodeType
              ? t(element)
              : void 0)
          );
        },
        L = function t(element, i) {
          if (element.parentNode && (n || D(element))) {
            var svg = A(element),
              e = svg
                ? svg.getAttribute("xmlns") || "http://www.w3.org/2000/svg"
                : "http://www.w3.org/1999/xhtml",
              r = svg ? (i ? "rect" : "g") : "div",
              o = 2 !== i ? 0 : 100,
              l = 3 === i ? 100 : 0,
              c =
                "position:absolute;display:block;pointer-events:none;margin:0;padding:0;",
              f = n.createElementNS
                ? n.createElementNS(e.replace(/^https/, "http"), r)
                : n.createElement(r);
            return (
              i &&
                (svg
                  ? (d || (d = t(element)),
                    f.setAttribute("width", 0.01),
                    f.setAttribute("height", 0.01),
                    f.setAttribute(
                      "transform",
                      "translate(" + o + "," + l + ")",
                    ),
                    d.appendChild(f))
                  : (h || ((h = t(element)).style.cssText = c),
                    (f.style.cssText =
                      c +
                      "width:0.1px;height:0.1px;top:" +
                      l +
                      "px;left:" +
                      o +
                      "px"),
                    h.appendChild(f))),
              f
            );
          }
          throw "Need document and parent.";
        },
        k = function (svg) {
          var t,
            e = svg.getCTM();
          return (
            e ||
              ((t = svg.style[v]),
              (svg.style[v] = "none"),
              svg.appendChild(m),
              (e = m.getCTM()),
              svg.removeChild(m),
              t
                ? (svg.style[v] = t)
                : svg.style.removeProperty(
                    v.replace(/([A-Z])/g, "-$1").toLowerCase(),
                  )),
            e || f.clone()
          );
        },
        C = function (element, t) {
          var e,
            r,
            b,
            n,
            l,
            c,
            svg = A(element),
            m = element === svg,
            D = svg ? T : S,
            _ = element.parentNode;
          if (element === o) return element;
          if (
            (D.length || D.push(L(element, 1), L(element, 2), L(element, 3)),
            (e = svg ? d : h),
            svg)
          )
            (m
              ? ((n = -(b = k(element)).e / b.a), (l = -b.f / b.d), (r = f))
              : element.getBBox
                ? ((b = element.getBBox()),
                  (n =
                    (r = (r = element.transform
                      ? element.transform.baseVal
                      : {}).numberOfItems
                      ? r.numberOfItems > 1
                        ? (function (t) {
                            for (
                              var e = new O(), i = 0;
                              i < t.numberOfItems;
                              i++
                            )
                              e.multiply(t.getItem(i).matrix);
                            return e;
                          })(r)
                        : r.getItem(0).matrix
                      : f).a *
                      b.x +
                    r.c * b.y),
                  (l = r.b * b.x + r.d * b.y))
                : ((r = new O()), (n = l = 0)),
              t && "g" === element.tagName.toLowerCase() && (n = l = 0),
              (m ? svg : _).appendChild(e),
              e.setAttribute(
                "transform",
                "matrix(" +
                  r.a +
                  "," +
                  r.b +
                  "," +
                  r.c +
                  "," +
                  r.d +
                  "," +
                  (r.e + n) +
                  "," +
                  (r.f + l) +
                  ")",
              ));
          else {
            if (((n = l = 0), y))
              for (
                r = element.offsetParent, b = element;
                b && (b = b.parentNode) && b !== r && b.parentNode;
              )
                (o.getComputedStyle(b)[v] + "").length > 4 &&
                  ((n = b.offsetLeft), (l = b.offsetTop), (b = 0));
            if (
              "absolute" !== (c = o.getComputedStyle(element)).position &&
              "fixed" !== c.position
            )
              for (r = element.offsetParent; _ && _ !== r; )
                ((n += _.scrollLeft || 0),
                  (l += _.scrollTop || 0),
                  (_ = _.parentNode));
            (((b = e.style).top = element.offsetTop - l + "px"),
              (b.left = element.offsetLeft - n + "px"),
              (b[v] = c[v]),
              (b[E] = c[E]),
              (b.position = "fixed" === c.position ? "fixed" : "absolute"),
              element.parentNode.appendChild(e));
          }
          return e;
        },
        R = function (t, a, b, e, r, n, o) {
          return (
            (t.a = a),
            (t.b = b),
            (t.c = e),
            (t.d = r),
            (t.e = n),
            (t.f = o),
            t
          );
        },
        O = (function () {
          function t(a, b, t, e, r, n) {
            (void 0 === a && (a = 1),
              void 0 === b && (b = 0),
              void 0 === t && (t = 0),
              void 0 === e && (e = 1),
              void 0 === r && (r = 0),
              void 0 === n && (n = 0),
              R(this, a, b, t, e, r, n));
          }
          var e = t.prototype;
          return (
            (e.inverse = function () {
              var a = this.a,
                b = this.b,
                t = this.c,
                e = this.d,
                r = this.e,
                n = this.f,
                o = a * e - b * t || 1e-10;
              return R(
                this,
                e / o,
                -b / o,
                -t / o,
                a / o,
                (t * n - e * r) / o,
                -(a * n - b * r) / o,
              );
            }),
            (e.multiply = function (t) {
              var a = this.a,
                b = this.b,
                e = this.c,
                r = this.d,
                n = this.e,
                o = this.f,
                l = t.a,
                c = t.c,
                h = t.b,
                d = t.d,
                f = t.e,
                m = t.f;
              return R(
                this,
                l * a + h * e,
                l * b + h * r,
                c * a + d * e,
                c * b + d * r,
                n + f * a + m * e,
                o + f * b + m * r,
              );
            }),
            (e.clone = function () {
              return new t(this.a, this.b, this.c, this.d, this.e, this.f);
            }),
            (e.equals = function (t) {
              var a = this.a,
                b = this.b,
                e = this.c,
                r = this.d,
                n = this.e,
                o = this.f;
              return (
                a === t.a &&
                b === t.b &&
                e === t.c &&
                r === t.d &&
                n === t.e &&
                o === t.f
              );
            }),
            (e.apply = function (t, e) {
              void 0 === e && (e = {});
              var r = t.x,
                n = t.y,
                a = this.a,
                b = this.b,
                o = this.c,
                l = this.d,
                c = this.e,
                h = this.f;
              return (
                (e.x = r * a + n * o + c || 0),
                (e.y = r * b + n * l + h || 0),
                e
              );
            }),
            t
          );
        })();
      function I(element, t, e, r) {
        if (
          !element ||
          !element.parentNode ||
          (n || D(element)).documentElement === element
        )
          return new O();
        var o = (function (t) {
            for (var a, e; t && t !== c; )
              ((e = t._gsap) && e.uncache && e.get(t, "x"),
                e &&
                  !e.scaleX &&
                  !e.scaleY &&
                  e.renderTransform &&
                  ((e.scaleX = e.scaleY = 1e-4),
                  e.renderTransform(1, e),
                  a ? a.push(e) : (a = [e])),
                (t = t.parentNode));
            return a;
          })(element),
          l = A(element) ? T : S,
          h = C(element, e),
          d = l[0].getBoundingClientRect(),
          f = l[1].getBoundingClientRect(),
          m = l[2].getBoundingClientRect(),
          y = h.parentNode,
          v = !r && x(element),
          E = new O(
            (f.left - d.left) / 100,
            (f.top - d.top) / 100,
            (m.left - d.left) / 100,
            (m.top - d.top) / 100,
            d.left + (v ? 0 : w()),
            d.top + (v ? 0 : _()),
          );
        if ((y.removeChild(h), o))
          for (d = o.length; d--; )
            (((f = o[d]).scaleX = f.scaleY = 0), f.renderTransform(1, f));
        return t ? E.inverse() : E;
      }
      var P,
        F,
        M,
        N,
        B,
        U,
        j,
        $,
        G = 1,
        K = function (t, e) {
          return t.actions.forEach(function (a) {
            return a.vars[e] && a.vars[e](a);
          });
        },
        H = {},
        V = 180 / Math.PI,
        Y = Math.PI / 180,
        z = {},
        W = {},
        X = {},
        Q = function (t) {
          return "string" == typeof t ? t.split(" ").join("").split(",") : t;
        },
        J = Q("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),
        Z = Q(
          "transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight",
        ),
        tt = function (t) {
          return P(t)[0] || console.warn("Element not found:", t);
        },
        et = function (t) {
          return Math.round(1e4 * t) / 1e4 || 0;
        },
        nt = function (t, e, r) {
          return t.forEach(function (t) {
            return t.classList[r](e);
          });
        },
        it = {
          zIndex: 1,
          kill: 1,
          simple: 1,
          spin: 1,
          clearProps: 1,
          targets: 1,
          toggleClass: 1,
          onComplete: 1,
          onUpdate: 1,
          onInterrupt: 1,
          onStart: 1,
          delay: 1,
          repeat: 1,
          repeatDelay: 1,
          yoyo: 1,
          scale: 1,
          fade: 1,
          absolute: 1,
          props: 1,
          onEnter: 1,
          onLeave: 1,
          custom: 1,
          paused: 1,
          nested: 1,
          prune: 1,
          absoluteOnLeave: 1,
        },
        st = {
          zIndex: 1,
          simple: 1,
          clearProps: 1,
          scale: 1,
          absolute: 1,
          fitChild: 1,
          getVars: 1,
          props: 1,
        },
        at = function (p) {
          return p.replace(/([A-Z])/g, "-$1").toLowerCase();
        },
        ot = function (t, e) {
          var p,
            r = {};
          for (p in t) e[p] || (r[p] = t[p]);
          return r;
        },
        lt = {},
        ut = function (t) {
          var p = (lt[t] = Q(t));
          return ((X[t] = p.concat(Z)), p);
        },
        ct = function t(e, r, n) {
          void 0 === n && (n = 0);
          for (
            var o = e.parentNode,
              l = 1e3 * Math.pow(10, n) * (r ? -1 : 1),
              c = r ? 900 * -l : 0;
            e;
          )
            ((c += l), (e = e.previousSibling));
          return o ? c + t(o, r, n + 1) : c;
        },
        ht = function (t, e, r) {
          return (
            t.forEach(function (t) {
              return (t.d = ct(r ? t.element : t.t, e));
            }),
            t.sort(function (t, e) {
              return t.d - e.d;
            }),
            t
          );
        },
        ft = function (t, e) {
          for (
            var p,
              r,
              style = t.element.style,
              a = (t.css = t.css || []),
              i = e.length;
            i--;
          )
            ((r = style[(p = e[i])] || style.getPropertyValue(p)),
              a.push(r ? p : W[p] || (W[p] = at(p)), r));
          return style;
        },
        pt = function (t) {
          var e = t.css,
            style = t.element.style,
            i = 0;
          for (t.cache.uncache = 1; i < e.length; i += 2)
            e[i + 1] ? (style[e[i]] = e[i + 1]) : style.removeProperty(e[i]);
          !e[e.indexOf("transform") + 1] &&
            style.translate &&
            (style.removeProperty("translate"),
            style.removeProperty("scale"),
            style.removeProperty("rotate"));
        },
        gt = function (t, e) {
          (t.forEach(function (t) {
            return (t.a.cache.uncache = 1);
          }),
            e || t.finalStates.forEach(pt));
        },
        mt =
          "paddingTop,paddingRight,paddingBottom,paddingLeft,gridArea,transition".split(
            ",",
          ),
        yt = function (t, e, r) {
          var n,
            o,
            l,
            element = t.element,
            c = t.width,
            h = t.height,
            d = t.uncache,
            f = t.getProp,
            style = element.style,
            i = 4;
          if (("object" != typeof e && (e = t), M && 1 !== r))
            return (
              M._abs.push({ t: element, b: t, a: t, sd: 0 }),
              M._final.push(function () {
                return (t.cache.uncache = 1) && pt(t);
              }),
              element
            );
          for (
            o = "none" === f("display"),
              (t.isVisible && !o) ||
                (o && (ft(t, ["display"]).display = e.display),
                (t.matrix = e.matrix),
                (t.width = c = t.width || e.width),
                (t.height = h = t.height || e.height)),
              ft(t, mt),
              l = window.getComputedStyle(element);
            i--;
          )
            style[mt[i]] = l[mt[i]];
          if (
            ((style.gridArea = "1 / 1 / 1 / 1"),
            (style.transition = "none"),
            (style.position = "absolute"),
            (style.width = c + "px"),
            (style.height = h + "px"),
            style.top || (style.top = "0px"),
            style.left || (style.left = "0px"),
            d)
          )
            n = new Mt(element);
          else if ((((n = ot(t, z)).position = "absolute"), t.simple)) {
            var m = element.getBoundingClientRect();
            n.matrix = new O(1, 0, 0, 1, m.left + w(), m.top + _());
          } else n.matrix = I(element, !1, !1, !0);
          return (
            (n = wt(n, t, !0)),
            (t.x = U(n.x, 0.01)),
            (t.y = U(n.y, 0.01)),
            element
          );
        },
        vt = function (t, e) {
          return (
            !0 !== e &&
              ((e = P(e)),
              (t = t.filter(function (t) {
                if (-1 !== e.indexOf((t.sd < 0 ? t.b : t.a).element)) return !0;
                (t.t._gsap.renderTransform(1),
                  t.b.isVisible &&
                    ((t.t.style.width = t.b.width + "px"),
                    (t.t.style.height = t.b.height + "px")));
              }))),
            t
          );
        },
        bt = function (t) {
          return ht(t, !0).forEach(function (t) {
            return (
              (t.a.isVisible || t.b.isVisible) &&
              yt(t.sd < 0 ? t.b : t.a, t.b, 1)
            );
          });
        },
        Et = function (t, e) {
          return (e && t.idLookup[Dt(e).id]) || t.elementStates[0];
        },
        Dt = function (t, e, r, n) {
          return t instanceof Mt
            ? t
            : t instanceof Ft
              ? Et(t, n)
              : new Mt(
                  "string" == typeof t
                    ? tt(t) || console.warn(t + " not found")
                    : t,
                  e,
                  r,
                );
        },
        Tt = function (element, t) {
          var p,
            style = element.style || element;
          for (p in t) style[p] = t[p];
        },
        St = function (t) {
          return t.map(function (t) {
            return t.element;
          });
        },
        _t = function (t, e, r) {
          return t && e.length && r.add(t(St(e), r, new Ft(e, 0, !0)), 0);
        },
        wt = function (t, e, r, n, o, l) {
          var c,
            h,
            d,
            f,
            m,
            y,
            v,
            element = t.element,
            E = t.cache,
            D = t.parent,
            T = t.x,
            S = t.y,
            _ = e.width,
            w = e.height,
            A = e.scaleX,
            x = e.scaleY,
            L = e.rotation,
            k = e.bounds,
            C = l && j && j(element, "transform"),
            R = t,
            O = e.matrix,
            M = O.e,
            N = O.f,
            B =
              t.bounds.width !== k.width ||
              t.bounds.height !== k.height ||
              t.scaleX !== A ||
              t.scaleY !== x ||
              t.rotation !== L,
            $ = !B && t.simple && e.simple && !o;
          return (
            $ || !D
              ? ((A = x = 1), (L = c = 0))
              : ((m = (function (t) {
                  var e = t._gsap || F.core.getCache(t);
                  return e.gmCache === F.ticker.frame
                    ? e.gMatrix
                    : ((e.gmCache = F.ticker.frame),
                      (e.gMatrix = I(t, !0, !1, !0)));
                })(D)),
                (y = m
                  .clone()
                  .multiply(
                    e.ctm ? e.matrix.clone().multiply(e.ctm) : e.matrix,
                  )),
                (L = et(Math.atan2(y.b, y.a) * V)),
                (c = et(Math.atan2(y.c, y.d) * V + L) % 360),
                (A = Math.sqrt(Math.pow(y.a, 2) + Math.pow(y.b, 2))),
                (x =
                  Math.sqrt(Math.pow(y.c, 2) + Math.pow(y.d, 2)) *
                  Math.cos(c * Y)),
                o &&
                  ((o = P(o)[0]),
                  (f = F.getProperty(o)),
                  (v =
                    o.getBBox && "function" == typeof o.getBBox && o.getBBox()),
                  (R = {
                    scaleX: f("scaleX"),
                    scaleY: f("scaleY"),
                    width: v
                      ? v.width
                      : Math.ceil(parseFloat(f("width", "px"))),
                    height: v ? v.height : parseFloat(f("height", "px")),
                  })),
                (E.rotation = L + "deg"),
                (E.skewX = c + "deg")),
            r
              ? ((A *= _ !== R.width && R.width ? _ / R.width : 1),
                (x *= w !== R.height && R.height ? w / R.height : 1),
                (E.scaleX = A),
                (E.scaleY = x))
              : ((_ = U((_ * A) / R.scaleX, 0)),
                (w = U((w * x) / R.scaleY, 0)),
                (element.style.width = _ + "px"),
                (element.style.height = w + "px")),
            n && Tt(element, e.props),
            $ || !D
              ? ((T += M - t.matrix.e), (S += N - t.matrix.f))
              : B || D !== e.parent
                ? (E.renderTransform(1, E),
                  (y = I(o || element, !1, !1, !0)),
                  (h = m.apply({ x: y.e, y: y.f })),
                  (T += (d = m.apply({ x: M, y: N })).x - h.x),
                  (S += d.y - h.y))
                : ((m.e = m.f = 0),
                  (T += (d = m.apply({ x: M - t.matrix.e, y: N - t.matrix.f }))
                    .x),
                  (S += d.y)),
            (T = U(T, 0.02)),
            (S = U(S, 0.02)),
            !l || l instanceof Mt
              ? ((E.x = T + "px"), (E.y = S + "px"), E.renderTransform(1, E))
              : C && C.revert(),
            l &&
              ((l.x = T),
              (l.y = S),
              (l.rotation = L),
              (l.skewX = c),
              r
                ? ((l.scaleX = A), (l.scaleY = x))
                : ((l.width = _), (l.height = w))),
            l || E
          );
        },
        At = function (t, e) {
          return t instanceof Ft ? t : new Ft(t, e);
        },
        xt = function (t, e, r) {
          var n = t.idLookup[r],
            o = t.alt[r];
          return !o.isVisible ||
            ((e.getElementState(o.element) || o).isVisible && n.isVisible)
            ? n
            : o;
        },
        Lt = [],
        kt = "width,height,overflowX,overflowY".split(","),
        Ct = function (t) {
          if (t !== $) {
            var s = B.style,
              e = B.clientWidth === window.outerWidth,
              r = B.clientHeight === window.outerHeight,
              i = 4;
            if (t && (e || r)) {
              for (; i--; ) Lt[i] = s[kt[i]];
              (e &&
                ((s.width = B.clientWidth + "px"), (s.overflowY = "hidden")),
                r &&
                  ((s.height = B.clientHeight + "px"),
                  (s.overflowX = "hidden")),
                ($ = t));
            } else if ($) {
              for (; i--; )
                Lt[i] ? (s[kt[i]] = Lt[i]) : s.removeProperty(at(kt[i]));
              $ = t;
            }
          }
        },
        Rt = function (t, e, r, n) {
          (t instanceof Ft && e instanceof Ft) ||
            console.warn("Not a valid state object.");
          var o,
            p,
            l,
            i,
            c,
            h,
            d,
            f,
            m,
            y,
            v,
            E,
            a,
            b,
            D,
            T = (r = r || {}),
            S = T.clearProps,
            _ = T.onEnter,
            w = T.onLeave,
            A = T.absolute,
            x = T.absoluteOnLeave,
            L = T.custom,
            k = T.delay,
            C = T.paused,
            R = T.repeat,
            O = T.repeatDelay,
            P = T.yoyo,
            N = T.toggleClass,
            B = T.nested,
            U = T.zIndex,
            j = T.scale,
            $ = T.fade,
            G = T.stagger,
            K = T.spin,
            H = T.prune,
            V = ("props" in r ? r : t).props,
            Y = ot(r, it),
            z = F.timeline({
              delay: k,
              paused: C,
              repeat: R,
              repeatDelay: O,
              yoyo: P,
              data: "isFlip",
            }),
            W = Y,
            Q = [],
            tt = [],
            et = [],
            at = [],
            ct = !0 === K ? 1 : K || 0,
            pt =
              "function" == typeof K
                ? K
                : function () {
                    return ct;
                  },
            mt = t.interrupted || e.interrupted,
            yt = z[1 !== n ? "to" : "from"];
          for (p in e.idLookup)
            ((v = e.alt[p] ? xt(e, t, p) : e.idLookup[p]),
              (c = v.element),
              (y = t.idLookup[p]),
              t.alt[p] &&
                c === y.element &&
                (t.alt[p].isVisible || !v.isVisible) &&
                (y = t.alt[p]),
              y
                ? ((h = {
                    t: c,
                    b: y,
                    a: v,
                    sd: y.element === c ? 0 : v.isVisible ? 1 : -1,
                  }),
                  et.push(h),
                  h.sd &&
                    (h.sd < 0 && ((h.b = v), (h.a = y)),
                    mt && ft(h.b, V ? X[V] : Z),
                    $ &&
                      et.push(
                        (h.swap = {
                          t: y.element,
                          b: h.b,
                          a: h.a,
                          sd: -h.sd,
                          swap: h,
                        }),
                      )),
                  (c._flip = y.element._flip = M ? M.timeline : z))
                : v.isVisible &&
                  (et.push({
                    t: c,
                    b: ot(v, { isVisible: 1 }),
                    a: v,
                    sd: 0,
                    entering: 1,
                  }),
                  (c._flip = M ? M.timeline : z)));
          (V &&
            (lt[V] || ut(V)).forEach(function (p) {
              return (Y[p] = function (i) {
                return et[i].a.props[p];
              });
            }),
          (et.finalStates = m = []),
          (E = function () {
            for (ht(et), Ct(!0), i = 0; i < et.length; i++)
              ((h = et[i]),
                (a = h.a),
                (b = h.b),
                !H || a.isDifferent(b) || h.entering
                  ? ((c = h.t),
                    B && !(h.sd < 0) && i && (a.matrix = I(c, !1, !1, !0)),
                    b.isVisible && a.isVisible
                      ? (h.sd < 0
                          ? ((d = new Mt(c, V, t.simple)),
                            wt(d, a, j, 0, 0, d),
                            (d.matrix = I(c, !1, !1, !0)),
                            (d.css = h.b.css),
                            (h.a = a = d),
                            $ && (c.style.opacity = mt ? b.opacity : a.opacity),
                            G && at.push(c))
                          : h.sd > 0 &&
                            $ &&
                            (c.style.opacity = mt
                              ? a.opacity - b.opacity
                              : "0"),
                        wt(a, b, j, V))
                      : b.isVisible !== a.isVisible &&
                        (b.isVisible
                          ? a.isVisible ||
                            ((b.css = a.css),
                            tt.push(b),
                            et.splice(i--, 1),
                            A && B && wt(a, b, j, V))
                          : (a.isVisible && Q.push(a), et.splice(i--, 1))),
                    j ||
                      ((c.style.maxWidth = Math.max(a.width, b.width) + "px"),
                      (c.style.maxHeight = Math.max(a.height, b.height) + "px"),
                      (c.style.minWidth = Math.min(a.width, b.width) + "px"),
                      (c.style.minHeight =
                        Math.min(a.height, b.height) + "px")),
                    B && N && c.classList.add(N))
                  : et.splice(i--, 1),
                m.push(a));
            var e;
            if (
              (N &&
                ((e = m.map(function (s) {
                  return s.element;
                })),
                B &&
                  e.forEach(function (t) {
                    return t.classList.remove(N);
                  })),
              Ct(!1),
              j
                ? ((Y.scaleX = function (i) {
                    return et[i].a.scaleX;
                  }),
                  (Y.scaleY = function (i) {
                    return et[i].a.scaleY;
                  }))
                : ((Y.width = function (i) {
                    return et[i].a.width + "px";
                  }),
                  (Y.height = function (i) {
                    return et[i].a.height + "px";
                  }),
                  (Y.autoRound = r.autoRound || !1)),
              (Y.x = function (i) {
                return et[i].a.x + "px";
              }),
              (Y.y = function (i) {
                return et[i].a.y + "px";
              }),
              (Y.rotation = function (i) {
                return et[i].a.rotation + (K ? 360 * pt(i, f[i], f) : 0);
              }),
              (Y.skewX = function (i) {
                return et[i].a.skewX;
              }),
              (f = et.map(function (t) {
                return t.t;
              })),
              (U || 0 === U) &&
                ((Y.modifiers = {
                  zIndex: function () {
                    return U;
                  },
                }),
                (Y.zIndex = U),
                (Y.immediateRender = !1 !== r.immediateRender)),
              $ &&
                (Y.opacity = function (i) {
                  return et[i].sd < 0
                    ? 0
                    : et[i].sd > 0
                      ? et[i].a.opacity
                      : "+=0";
                }),
              at.length)
            ) {
              G = F.utils.distribute(G);
              var n = f.slice(at.length);
              Y.stagger = function (i, t) {
                return G(~at.indexOf(t) ? f.indexOf(et[i].swap.t) : i, t, n);
              };
            }
            if (
              (J.forEach(function (t) {
                return r[t] && z.eventCallback(t, r[t], r[t + "Params"]);
              }),
              L && f.length)
            )
              for (p in ((W = ot(Y, it)),
              "scale" in L && ((L.scaleX = L.scaleY = L.scale), delete L.scale),
              L))
                (((o = ot(L[p], st))[p] = Y[p]),
                  !("duration" in o) &&
                    "duration" in Y &&
                    (o.duration = Y.duration),
                  (o.stagger = Y.stagger),
                  yt.call(z, f, o, 0),
                  delete W[p]);
            ((f.length || tt.length || Q.length) &&
              (N &&
                z.add(function () {
                  return nt(e, N, z._zTime < 0 ? "remove" : "add");
                }, 0) &&
                !C &&
                nt(e, N, "add"),
              f.length && yt.call(z, f, W, 0)),
              _t(_, Q, z),
              _t(w, tt, z));
            var y = M && M.timeline;
            (y &&
              (y.add(z, 0),
              M._final.push(function () {
                return gt(et, !S);
              })),
              (l = z.duration()),
              z.call(function () {
                var t = z.time() >= l;
                (t && !y && gt(et, !S), N && nt(e, N, t ? "remove" : "add"));
              }));
          }),
          x &&
            (A = et
              .filter(function (t) {
                return !t.sd && !t.a.isVisible && t.b.isVisible;
              })
              .map(function (t) {
                return t.a.element;
              })),
          M)
            ? (A && (D = M._abs).push.apply(D, vt(et, A)), M._run.push(E))
            : (A && bt(vt(et, A)), E());
          var Et = M ? M.timeline : z;
          return (
            (Et.revert = function () {
              return It(Et, 1);
            }),
            Et
          );
        },
        Ot = function t(e) {
          (e.vars.onInterrupt &&
            e.vars.onInterrupt.apply(e, e.vars.onInterruptParams || []),
            e.getChildren(!0, !1, !0).forEach(t));
        },
        It = function (t, e) {
          if (t && t.progress() < 1 && !t.paused())
            return (e && (Ot(t), e < 2 && t.progress(1), t.kill()), !0);
        },
        Pt = function (t) {
          for (
            var e,
              r = (t.idLookup = {}),
              n = (t.alt = {}),
              o = t.elementStates,
              i = o.length;
            i--;
          )
            r[(e = o[i]).id] ? (n[e.id] = e) : (r[e.id] = e);
        },
        Ft = (function () {
          function t(t, e, r) {
            if (
              ((this.props = e && e.props),
              (this.simple = !(!e || !e.simple)),
              r)
            )
              ((this.targets = St(t)), (this.elementStates = t), Pt(this));
            else {
              this.targets = P(t);
              var n = e && (!1 === e.kill || (e.batch && !e.kill));
              (M && !n && M._kill.push(this), this.update(n || !!M));
            }
          }
          var e = t.prototype;
          return (
            (e.update = function (t) {
              var e = this;
              return (
                (this.elementStates = this.targets.map(function (t) {
                  return new Mt(t, e.props, e.simple);
                })),
                Pt(this),
                this.interrupt(t),
                this.recordInlineStyles(),
                this
              );
            }),
            (e.clear = function () {
              return (
                (this.targets.length = this.elementStates.length = 0),
                Pt(this),
                this
              );
            }),
            (e.fit = function (t, e, r) {
              for (
                var n,
                  o,
                  l = ht(this.elementStates.slice(0), !1, !0),
                  c = (t || this).idLookup,
                  i = 0;
                i < l.length;
                i++
              )
                ((n = l[i]),
                  r && (n.matrix = I(n.element, !1, !1, !0)),
                  (o = c[n.id]) && wt(n, o, e, !0, 0, n),
                  (n.matrix = I(n.element, !1, !1, !0)));
              return this;
            }),
            (e.getProperty = function (element, t) {
              var e = this.getElementState(element) || z;
              return (t in e ? e : e.props || z)[t];
            }),
            (e.add = function (t) {
              for (
                var e,
                  r,
                  n,
                  i = t.targets.length,
                  o = this.idLookup,
                  l = this.alt;
                i--;
              )
                (n = o[(r = t.elementStates[i]).id]) &&
                (r.element === n.element ||
                  (l[r.id] && l[r.id].element === r.element))
                  ? ((e = this.elementStates.indexOf(
                      r.element === n.element ? n : l[r.id],
                    )),
                    this.targets.splice(e, 1, t.targets[i]),
                    this.elementStates.splice(e, 1, r))
                  : (this.targets.push(t.targets[i]),
                    this.elementStates.push(r));
              return (
                t.interrupted && (this.interrupted = !0),
                t.simple || (this.simple = !1),
                Pt(this),
                this
              );
            }),
            (e.compare = function (t) {
              var e,
                r,
                p,
                n,
                o,
                l,
                c,
                h,
                d = t.idLookup,
                f = this.idLookup,
                m = [],
                y = [],
                v = [],
                E = [],
                D = [],
                T = t.alt,
                S = this.alt,
                _ = function (t, e, r) {
                  return (
                    (t.isVisible !== e.isVisible
                      ? t.isVisible
                        ? v
                        : E
                      : t.isVisible
                        ? y
                        : m
                    ).push(r) && D.push(r)
                  );
                },
                w = function (t, e, r) {
                  return D.indexOf(r) < 0 && _(t, e, r);
                };
              for (p in d)
                ((o = T[p]),
                  (l = S[p]),
                  (n = (e = o ? xt(t, this, p) : d[p]).element),
                  (r = f[p]),
                  l
                    ? ((h =
                        r.isVisible || (!l.isVisible && n === r.element)
                          ? r
                          : l),
                      (c =
                        !o ||
                        e.isVisible ||
                        o.isVisible ||
                        h.element !== o.element
                          ? e
                          : o).isVisible &&
                      h.isVisible &&
                      c.element !== h.element
                        ? ((c.isDifferent(h) ? y : m).push(
                            c.element,
                            h.element,
                          ),
                          D.push(c.element, h.element))
                        : _(c, h, c.element),
                      o && c.element === o.element && (o = d[p]),
                      w(c.element !== r.element && o ? o : c, r, r.element),
                      w(o && o.element === l.element ? o : c, l, l.element),
                      o && w(o, l.element === o.element ? l : r, o.element))
                    : (r
                        ? r.isDifferent(e)
                          ? _(e, r, n)
                          : m.push(n)
                        : v.push(n),
                      o && w(o, r, o.element)));
              for (p in f)
                d[p] || (E.push(f[p].element), S[p] && E.push(S[p].element));
              return { changed: y, unchanged: m, enter: v, leave: E };
            }),
            (e.recordInlineStyles = function () {
              for (
                var t = X[this.props] || Z, i = this.elementStates.length;
                i--;
              )
                ft(this.elementStates[i], t);
            }),
            (e.interrupt = function (t) {
              var e = this,
                r = [];
              (this.targets.forEach(function (n) {
                var o = n._flip,
                  l = It(o, t ? 0 : 1);
                (t &&
                  l &&
                  r.indexOf(o) < 0 &&
                  o.add(function () {
                    return e.updateVisibility();
                  }),
                  l && r.push(o));
              }),
                !t && r.length && this.updateVisibility(),
                this.interrupted || (this.interrupted = !!r.length));
            }),
            (e.updateVisibility = function () {
              this.elementStates.forEach(function (t) {
                var b = t.element.getBoundingClientRect();
                ((t.isVisible = !!(b.width || b.height || b.top || b.left)),
                  (t.uncache = 1));
              });
            }),
            (e.getElementState = function (element) {
              return this.elementStates[this.targets.indexOf(tt(element))];
            }),
            (e.makeAbsolute = function () {
              return ht(this.elementStates.slice(0), !0, !0).map(yt);
            }),
            t
          );
        })(),
        Mt = (function () {
          function t(element, t, e) {
            ((this.element = element), this.update(t, e));
          }
          var e = t.prototype;
          return (
            (e.isDifferent = function (t) {
              var e = this.bounds,
                r = t.bounds;
              return (
                e.top !== r.top ||
                e.left !== r.left ||
                e.width !== r.width ||
                e.height !== r.height ||
                !this.matrix.equals(t.matrix) ||
                this.opacity !== t.opacity ||
                (this.props &&
                  t.props &&
                  JSON.stringify(this.props) !== JSON.stringify(t.props))
              );
            }),
            (e.update = function (t, e) {
              var r,
                n,
                o = this,
                element = o.element,
                l = F.getProperty(element),
                c = F.core.getCache(element),
                h = element.getBoundingClientRect(),
                d =
                  element.getBBox &&
                  "function" == typeof element.getBBox &&
                  "svg" !== element.nodeName.toLowerCase() &&
                  element.getBBox(),
                f = e
                  ? new O(1, 0, 0, 1, h.left + w(), h.top + _())
                  : I(element, !1, !1, !0);
              ((o.getProp = l),
                (o.element = element),
                (o.id =
                  ((n = (r = element).getAttribute("data-flip-id")) ||
                    r.setAttribute("data-flip-id", (n = "auto-" + G++)),
                  n)),
                (o.matrix = f),
                (o.cache = c),
                (o.bounds = h),
                (o.isVisible = !!(h.width || h.height || h.left || h.top)),
                (o.display = l("display")),
                (o.position = l("position")),
                (o.parent = element.parentNode),
                (o.x = l("x")),
                (o.y = l("y")),
                (o.scaleX = c.scaleX),
                (o.scaleY = c.scaleY),
                (o.rotation = l("rotation")),
                (o.skewX = l("skewX")),
                (o.opacity = l("opacity")),
                (o.width = d ? d.width : U(l("width", "px"), 0.04)),
                (o.height = d ? d.height : U(l("height", "px"), 0.04)),
                t &&
                  (function (t, e) {
                    for (
                      var r = F.getProperty(t.element, null, "native"),
                        n = (t.props = {}),
                        i = e.length;
                      i--;
                    )
                      n[e[i]] = (r(e[i]) + "").trim();
                    n.zIndex && (n.zIndex = parseFloat(n.zIndex) || 0);
                  })(o, lt[t] || ut(t)),
                (o.ctm =
                  element.getCTM &&
                  "svg" === element.nodeName.toLowerCase() &&
                  k(element).inverse()),
                (o.simple =
                  e ||
                  (1 === et(f.a) && !et(f.b) && !et(f.c) && 1 === et(f.d))),
                (o.uncache = 0));
            }),
            t
          );
        })(),
        Nt = (function () {
          function t(t, e) {
            ((this.vars = t),
              (this.batch = e),
              (this.states = []),
              (this.timeline = e.timeline));
          }
          var e = t.prototype;
          return (
            (e.getStateById = function (t) {
              for (var i = this.states.length; i--; )
                if (this.states[i].idLookup[t]) return this.states[i];
            }),
            (e.kill = function () {
              this.batch.remove(this);
            }),
            t
          );
        })(),
        Bt = (function () {
          function t(t) {
            ((this.id = t),
              (this.actions = []),
              (this._kill = []),
              (this._final = []),
              (this._abs = []),
              (this._run = []),
              (this.data = {}),
              (this.state = new Ft()),
              (this.timeline = F.timeline()));
          }
          var e = t.prototype;
          return (
            (e.add = function (t) {
              var e = this.actions.filter(function (e) {
                return e.vars === t;
              });
              return e.length
                ? e[0]
                : ((e = new Nt(
                    "function" == typeof t ? { animate: t } : t,
                    this,
                  )),
                  this.actions.push(e),
                  e);
            }),
            (e.remove = function (t) {
              var i = this.actions.indexOf(t);
              return (i >= 0 && this.actions.splice(i, 1), this);
            }),
            (e.getState = function (t) {
              var e = this,
                r = M,
                n = N;
              return (
                (M = this),
                this.state.clear(),
                (this._kill.length = 0),
                this.actions.forEach(function (r) {
                  (r.vars.getState &&
                    ((r.states.length = 0),
                    (N = r),
                    (r.state = r.vars.getState(r))),
                    t &&
                      r.states.forEach(function (s) {
                        return e.state.add(s);
                      }));
                }),
                (N = n),
                (M = r),
                this.killConflicts(),
                this
              );
            }),
            (e.animate = function () {
              var t,
                e,
                r = this,
                n = M,
                o = this.timeline,
                i = this.actions.length;
              for (
                M = this,
                  o.clear(),
                  this._abs.length = this._final.length = this._run.length = 0,
                  this.actions.forEach(function (a) {
                    a.vars.animate && a.vars.animate(a);
                    var s,
                      t,
                      e = a.vars.onEnter,
                      r = a.vars.onLeave,
                      n = a.targets;
                    n &&
                      n.length &&
                      (e || r) &&
                      ((s = new Ft()),
                      a.states.forEach(function (t) {
                        return s.add(t);
                      }),
                      (t = s.compare(Ut.getState(n))).enter.length &&
                        e &&
                        e(t.enter),
                      t.leave.length && r && r(t.leave));
                  }),
                  bt(this._abs),
                  this._run.forEach(function (t) {
                    return t();
                  }),
                  e = o.duration(),
                  t = this._final.slice(0),
                  o.add(function () {
                    e <= o.time() &&
                      (t.forEach(function (t) {
                        return t();
                      }),
                      K(r, "onComplete"));
                  }),
                  M = n;
                i--;
              )
                this.actions[i].vars.once && this.actions[i].kill();
              return (K(this, "onStart"), o.restart(), this);
            }),
            (e.loadState = function (t) {
              t ||
                (t = function () {
                  return 0;
                });
              var e = [];
              return (
                this.actions.forEach(function (r) {
                  if (r.vars.loadState) {
                    var i,
                      n = function n(o) {
                        (o && (r.targets = o),
                          ~(i = e.indexOf(n)) &&
                            (e.splice(i, 1), e.length || t()));
                      };
                    (e.push(n), r.vars.loadState(n));
                  }
                }),
                e.length || t(),
                this
              );
            }),
            (e.setState = function () {
              return (
                this.actions.forEach(function (t) {
                  return (t.targets = t.vars.setState && t.vars.setState(t));
                }),
                this
              );
            }),
            (e.killConflicts = function (t) {
              return (
                this.state.interrupt(t),
                this._kill.forEach(function (e) {
                  return e.interrupt(t);
                }),
                this
              );
            }),
            (e.run = function (t, e) {
              var r = this;
              return (
                this !== M &&
                  (t || this.getState(e),
                  this.loadState(function () {
                    r._killed || (r.setState(), r.animate());
                  })),
                this
              );
            }),
            (e.clear = function (t) {
              (this.state.clear(), t || (this.actions.length = 0));
            }),
            (e.getStateById = function (t) {
              for (var s, i = this.actions.length; i--; )
                if ((s = this.actions[i].getStateById(t))) return s;
              return this.state.idLookup[t] && this.state;
            }),
            (e.kill = function () {
              ((this._killed = 1), this.clear(), delete H[this.id]);
            }),
            t
          );
        })(),
        Ut = (function () {
          function t() {}
          return (
            (t.getState = function (e, r) {
              var n = At(e, r);
              return (
                N && N.states.push(n),
                r && r.batch && t.batch(r.batch).state.add(n),
                n
              );
            }),
            (t.from = function (t, e) {
              return (
                "clearProps" in (e = e || {}) || (e.clearProps = !0),
                Rt(
                  t,
                  At(e.targets || t.targets, {
                    props: e.props || t.props,
                    simple: e.simple,
                    kill: !!e.kill,
                  }),
                  e,
                  -1,
                )
              );
            }),
            (t.to = function (t, e) {
              return Rt(
                t,
                At(e.targets || t.targets, {
                  props: e.props || t.props,
                  simple: e.simple,
                  kill: !!e.kill,
                }),
                e,
                1,
              );
            }),
            (t.fromTo = function (t, e, r) {
              return Rt(t, e, r);
            }),
            (t.fit = function (t, e, r) {
              var n = r ? ot(r, st) : {},
                o = r || n,
                l = o.absolute,
                c = o.scale,
                h = o.getVars,
                d = o.props,
                f = o.runBackwards,
                m = o.onComplete,
                y = o.simple,
                v = r && r.fitChild && tt(r.fitChild),
                E = Dt(e, d, y, t),
                D = Dt(t, 0, y, E),
                T = d ? X[d] : Z;
              return (
                d && Tt(n, E.props),
                f &&
                  (ft(D, T),
                  "immediateRender" in n || (n.immediateRender = !0),
                  (n.onComplete = function () {
                    (pt(D), m && m.apply(this, arguments));
                  })),
                l && yt(D, E),
                (n = wt(D, E, c || v, d, v, n.duration || h ? n : 0)),
                h ? n : n.duration ? F.to(D.element, n) : null
              );
            }),
            (t.makeAbsolute = function (t, e) {
              return (t instanceof Ft ? t : new Ft(t, e)).makeAbsolute();
            }),
            (t.batch = function (t) {
              return (t || (t = "default"), H[t] || (H[t] = new Bt(t)));
            }),
            (t.killFlipsOf = function (t, e) {
              (t instanceof Ft ? t.targets : P(t)).forEach(function (t) {
                return t && It(t._flip, !1 !== e ? 1 : 2);
              });
            }),
            (t.isFlipping = function (e) {
              var r = t.getByTarget(e);
              return !!r && r.isActive();
            }),
            (t.getByTarget = function (t) {
              return (tt(t) || z)._flip;
            }),
            (t.getElementState = function (t, e) {
              return new Mt(tt(t), e);
            }),
            (t.convertCoordinates = function (t, e, r) {
              var n = I(e, !0, !0).multiply(I(t));
              return r ? n.apply(r) : n;
            }),
            (t.register = function (t) {
              if ((B = "undefined" != typeof document && document.body)) {
                ((F = t),
                  D(B),
                  (P = F.utils.toArray),
                  (j = F.core.getStyleSaver));
                var e = F.utils.snap(0.1);
                U = function (t, r) {
                  return e(parseFloat(t) + r);
                };
              }
            }),
            t
          );
        })();
      ((Ut.version = "3.11.5"),
        "undefined" != typeof window &&
          window.gsap &&
          window.gsap.registerPlugin(Ut));
    },
    function (t, e, r) {
      "use strict";
      function n(t, e) {
        for (var i = 0; i < e.length; i++) {
          var r = e[i];
          ((r.enumerable = r.enumerable || !1),
            (r.configurable = !0),
            "value" in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r));
        }
      }
      (r.r(e),
        r.d(e, "ScrollTrigger", function () {
          return ur;
        }),
        r.d(e, "default", function () {
          return ur;
        }));
      var o,
        l,
        c,
        h,
        d,
        f,
        m,
        y,
        v,
        E,
        D,
        T,
        S,
        _ = function () {
          return (
            o ||
            ("undefined" != typeof window &&
              (o = window.gsap) &&
              o.registerPlugin &&
              o)
          );
        },
        w = 1,
        A = [],
        x = [],
        L = [],
        k = Date.now,
        C = function (t, e) {
          return e;
        },
        R = function (element, t) {
          return ~L.indexOf(element) && L[L.indexOf(element) + 1][t];
        },
        O = function (t) {
          return !!~E.indexOf(t);
        },
        I = function (element, t, e, r, n) {
          return element.addEventListener(t, e, { passive: !r, capture: !!n });
        },
        P = function (element, t, e, r) {
          return element.removeEventListener(t, e, !!r);
        },
        F = "scrollLeft",
        M = "scrollTop",
        N = function () {
          return (D && D.isPressed) || x.cache++;
        },
        B = function (t, e) {
          var r = function r(n) {
            if (n || 0 === n) {
              w && (c.history.scrollRestoration = "manual");
              var o = D && D.isPressed;
              ((n = r.v = Math.round(n) || (D && D.iOS ? 1 : 0)),
                t(n),
                (r.cacheID = x.cache),
                o && C("ss", n));
            } else
              (e || x.cache !== r.cacheID || C("ref")) &&
                ((r.cacheID = x.cache), (r.v = t()));
            return r.v + r.offset;
          };
          return ((r.offset = 0), t && r);
        },
        U = {
          s: F,
          p: "left",
          p2: "Left",
          os: "right",
          os2: "Right",
          d: "width",
          d2: "Width",
          a: "x",
          sc: B(function (t) {
            return arguments.length
              ? c.scrollTo(t, j.sc())
              : c.pageXOffset || h[F] || d[F] || f[F] || 0;
          }),
        },
        j = {
          s: M,
          p: "top",
          p2: "Top",
          os: "bottom",
          os2: "Bottom",
          d: "height",
          d2: "Height",
          a: "y",
          op: U,
          sc: B(function (t) {
            return arguments.length
              ? c.scrollTo(U.sc(), t)
              : c.pageYOffset || h[M] || d[M] || f[M] || 0;
          }),
        },
        $ = function (t) {
          return (
            o.utils.toArray(t)[0] ||
            ("string" == typeof t && !1 !== o.config().nullTargetWarn
              ? console.warn("Element not found:", t)
              : null)
          );
        },
        G = function (element, t) {
          var s = t.s,
            e = t.sc;
          O(element) && (element = h.scrollingElement || d);
          var i = x.indexOf(element),
            r = e === j.sc ? 1 : 2;
          (!~i && (i = x.push(element) - 1),
            x[i + r] || element.addEventListener("scroll", N));
          var n = x[i + r],
            l =
              n ||
              (x[i + r] =
                B(R(element, s), !0) ||
                (O(element)
                  ? e
                  : B(function (t) {
                      return arguments.length ? (element[s] = t) : element[s];
                    })));
          return (
            (l.target = element),
            n ||
              (l.smooth =
                "smooth" === o.getProperty(element, "scrollBehavior")),
            l
          );
        },
        K = function (t, e, r) {
          var n = t,
            o = t,
            l = k(),
            c = l,
            h = e || 50,
            d = Math.max(500, 3 * h),
            f = function (t, e) {
              var d = k();
              e || d - l > h
                ? ((o = n), (n = t), (c = l), (l = d))
                : r
                  ? (n += t)
                  : (n = o + ((t - o) / (d - c)) * (l - c));
            };
          return {
            update: f,
            reset: function () {
              ((o = n = r ? 0 : n), (c = l = 0));
            },
            getVelocity: function (t) {
              var e = c,
                h = o,
                m = k();
              return (
                (t || 0 === t) && t !== n && f(t),
                l === c || m - c > d
                  ? 0
                  : ((n + (r ? h : -h)) / ((r ? m : l) - e)) * 1e3
              );
            },
          };
        },
        H = function (t, e) {
          return (
            e && !t._gsapAllow && t.preventDefault(),
            t.changedTouches ? t.changedTouches[0] : t
          );
        },
        V = function (a) {
          var t = Math.max.apply(Math, a),
            e = Math.min.apply(Math, a);
          return Math.abs(t) >= Math.abs(e) ? t : e;
        },
        Y = function () {
          var t, data, e, r;
          (v = o.core.globals().ScrollTrigger) &&
            v.core &&
            ((t = v.core),
            (data = t.bridge || {}),
            (e = t._scrollers),
            (r = t._proxies),
            e.push.apply(e, x),
            r.push.apply(r, L),
            (x = e),
            (L = r),
            (C = function (t, e) {
              return data[t](e);
            }));
        },
        z = function (t) {
          return (
            (o = t || _()) &&
              "undefined" != typeof document &&
              document.body &&
              ((c = window),
              (h = document),
              (d = h.documentElement),
              (f = h.body),
              (E = [c, h, d, f]),
              o.utils.clamp,
              (S = o.core.context || function () {}),
              (y = "onpointerenter" in f ? "pointer" : "mouse"),
              (m = W.isTouch =
                c.matchMedia &&
                c.matchMedia("(hover: none), (pointer: coarse)").matches
                  ? 1
                  : "ontouchstart" in c ||
                      navigator.maxTouchPoints > 0 ||
                      navigator.msMaxTouchPoints > 0
                    ? 2
                    : 0),
              (T = W.eventTypes =
                (
                  "ontouchstart" in d
                    ? "touchstart,touchmove,touchcancel,touchend"
                    : "onpointerdown" in d
                      ? "pointerdown,pointermove,pointercancel,pointerup"
                      : "mousedown,mousemove,mouseup,mouseup"
                ).split(",")),
              setTimeout(function () {
                return (w = 0);
              }, 500),
              Y(),
              (l = 1)),
            l
          );
        };
      ((U.op = j), (x.cache = 0));
      var W = (function () {
        function t(t) {
          this.init(t);
        }
        var e, r, E;
        return (
          (t.prototype.init = function (t) {
            (l || z(o) || console.warn("Please gsap.registerPlugin(Observer)"),
              v || Y());
            var e = t.tolerance,
              r = t.dragMinimum,
              n = t.type,
              E = t.target,
              _ = t.lineHeight,
              w = t.debounce,
              x = t.preventDefault,
              L = t.onStop,
              C = t.onStopDelay,
              R = t.ignore,
              F = t.wheelSpeed,
              M = t.event,
              B = t.onDragStart,
              W = t.onDragEnd,
              X = t.onDrag,
              Q = t.onPress,
              J = t.onRelease,
              Z = t.onRight,
              tt = t.onLeft,
              et = t.onUp,
              nt = t.onDown,
              it = t.onChangeX,
              st = t.onChangeY,
              at = t.onChange,
              ot = t.onToggleX,
              lt = t.onToggleY,
              ut = t.onHover,
              ct = t.onHoverEnd,
              ht = t.onMove,
              ft = t.ignoreCheck,
              pt = t.isNormalizer,
              gt = t.onGestureStart,
              mt = t.onGestureEnd,
              yt = t.onWheel,
              vt = t.onEnable,
              bt = t.onDisable,
              Et = t.onClick,
              Dt = t.scrollSpeed,
              Tt = t.capture,
              St = t.allowClicks,
              _t = t.lockAxis,
              wt = t.onLockAxis;
            ((this.target = E = $(E) || d),
              (this.vars = t),
              R && (R = o.utils.toArray(R)),
              (e = e || 1e-9),
              (r = r || 0),
              (F = F || 1),
              (Dt = Dt || 1),
              (n = n || "wheel,touch,pointer"),
              (w = !1 !== w),
              _ || (_ = parseFloat(c.getComputedStyle(f).lineHeight) || 22));
            var At,
              xt,
              Lt,
              kt,
              Ct,
              Rt,
              Ot,
              It = this,
              Pt = 0,
              Ft = 0,
              Mt = G(E, U),
              Nt = G(E, j),
              Bt = Mt(),
              Ut = Nt(),
              jt =
                ~n.indexOf("touch") &&
                !~n.indexOf("pointer") &&
                "pointerdown" === T[0],
              $t = O(E),
              Gt = E.ownerDocument || h,
              Kt = [0, 0, 0],
              Ht = [0, 0, 0],
              Vt = 0,
              Yt = function () {
                return (Vt = k());
              },
              zt = function (t, e) {
                return (
                  ((It.event = t) && R && ~R.indexOf(t.target)) ||
                  (e && jt && "touch" !== t.pointerType) ||
                  (ft && ft(t, e))
                );
              },
              Wt = function () {
                var t = (It.deltaX = V(Kt)),
                  r = (It.deltaY = V(Ht)),
                  n = Math.abs(t) >= e,
                  o = Math.abs(r) >= e;
                (at && (n || o) && at(It, t, r, Kt, Ht),
                  n &&
                    (Z && It.deltaX > 0 && Z(It),
                    tt && It.deltaX < 0 && tt(It),
                    it && it(It),
                    ot && It.deltaX < 0 != Pt < 0 && ot(It),
                    (Pt = It.deltaX),
                    (Kt[0] = Kt[1] = Kt[2] = 0)),
                  o &&
                    (nt && It.deltaY > 0 && nt(It),
                    et && It.deltaY < 0 && et(It),
                    st && st(It),
                    lt && It.deltaY < 0 != Ft < 0 && lt(It),
                    (Ft = It.deltaY),
                    (Ht[0] = Ht[1] = Ht[2] = 0)),
                  (kt || Lt) &&
                    (ht && ht(It), Lt && (X(It), (Lt = !1)), (kt = !1)),
                  Rt && !(Rt = !1) && wt && wt(It),
                  Ct && (yt(It), (Ct = !1)),
                  (At = 0));
              },
              qt = function (t, e, r) {
                ((Kt[r] += t),
                  (Ht[r] += e),
                  It._vx.update(t),
                  It._vy.update(e),
                  w ? At || (At = requestAnimationFrame(Wt)) : Wt());
              },
              Xt = function (t, e) {
                (_t &&
                  !Ot &&
                  ((It.axis = Ot = Math.abs(t) > Math.abs(e) ? "x" : "y"),
                  (Rt = !0)),
                  "y" !== Ot && ((Kt[2] += t), It._vx.update(t, !0)),
                  "x" !== Ot && ((Ht[2] += e), It._vy.update(e, !0)),
                  w ? At || (At = requestAnimationFrame(Wt)) : Wt());
              },
              Qt = function (t) {
                if (!zt(t, 1)) {
                  var e = (t = H(t, x)).clientX,
                    n = t.clientY,
                    o = e - It.x,
                    l = n - It.y,
                    c = It.isDragging;
                  ((It.x = e),
                    (It.y = n),
                    (c ||
                      Math.abs(It.startX - e) >= r ||
                      Math.abs(It.startY - n) >= r) &&
                      (X && (Lt = !0),
                      c || (It.isDragging = !0),
                      Xt(o, l),
                      c || (B && B(It))));
                }
              },
              Jt = (It.onPress = function (t) {
                zt(t, 1) ||
                  (t && t.button) ||
                  ((It.axis = Ot = null),
                  xt.pause(),
                  (It.isPressed = !0),
                  (t = H(t)),
                  (Pt = Ft = 0),
                  (It.startX = It.x = t.clientX),
                  (It.startY = It.y = t.clientY),
                  It._vx.reset(),
                  It._vy.reset(),
                  I(pt ? E : Gt, T[1], Qt, x, !0),
                  (It.deltaX = It.deltaY = 0),
                  Q && Q(It));
              }),
              Zt = (It.onRelease = function (t) {
                if (!zt(t, 1)) {
                  P(pt ? E : Gt, T[1], Qt, !0);
                  var e = !isNaN(It.y - It.startY),
                    r =
                      It.isDragging &&
                      (Math.abs(It.x - It.startX) > 3 ||
                        Math.abs(It.y - It.startY) > 3),
                    n = H(t);
                  (!r &&
                    e &&
                    (It._vx.reset(),
                    It._vy.reset(),
                    x &&
                      St &&
                      o.delayedCall(0.08, function () {
                        if (k() - Vt > 300 && !t.defaultPrevented)
                          if (t.target.click) t.target.click();
                          else if (Gt.createEvent) {
                            var e = Gt.createEvent("MouseEvents");
                            (e.initMouseEvent(
                              "click",
                              !0,
                              !0,
                              c,
                              1,
                              n.screenX,
                              n.screenY,
                              n.clientX,
                              n.clientY,
                              !1,
                              !1,
                              !1,
                              !1,
                              0,
                              null,
                            ),
                              t.target.dispatchEvent(e));
                          }
                      })),
                    (It.isDragging = It.isGesturing = It.isPressed = !1),
                    L && !pt && xt.restart(!0),
                    W && r && W(It),
                    J && J(It, r));
                }
              }),
              te = function (t) {
                return (
                  t.touches &&
                  t.touches.length > 1 &&
                  (It.isGesturing = !0) &&
                  gt(t, It.isDragging)
                );
              },
              ee = function () {
                return (It.isGesturing = !1) || mt(It);
              },
              re = function (t) {
                if (!zt(t)) {
                  var e = Mt(),
                    r = Nt();
                  (qt((e - Bt) * Dt, (r - Ut) * Dt, 1),
                    (Bt = e),
                    (Ut = r),
                    L && xt.restart(!0));
                }
              },
              ne = function (t) {
                if (!zt(t)) {
                  ((t = H(t, x)), yt && (Ct = !0));
                  var e =
                    (1 === t.deltaMode
                      ? _
                      : 2 === t.deltaMode
                        ? c.innerHeight
                        : 1) * F;
                  (qt(t.deltaX * e, t.deltaY * e, 0),
                    L && !pt && xt.restart(!0));
                }
              },
              ie = function (t) {
                if (!zt(t)) {
                  var e = t.clientX,
                    r = t.clientY,
                    n = e - It.x,
                    o = r - It.y;
                  ((It.x = e), (It.y = r), (kt = !0), (n || o) && Xt(n, o));
                }
              },
              se = function (t) {
                ((It.event = t), ut(It));
              },
              ae = function (t) {
                ((It.event = t), ct(It));
              },
              oe = function (t) {
                return zt(t) || (H(t, x) && Et(It));
              };
            ((xt = It._dc =
              o
                .delayedCall(C || 0.25, function () {
                  (It._vx.reset(), It._vy.reset(), xt.pause(), L && L(It));
                })
                .pause()),
              (It.deltaX = It.deltaY = 0),
              (It._vx = K(0, 50, !0)),
              (It._vy = K(0, 50, !0)),
              (It.scrollX = Mt),
              (It.scrollY = Nt),
              (It.isDragging = It.isGesturing = It.isPressed = !1),
              S(this),
              (It.enable = function (t) {
                return (
                  It.isEnabled ||
                    (I($t ? Gt : E, "scroll", N),
                    n.indexOf("scroll") >= 0 &&
                      I($t ? Gt : E, "scroll", re, x, Tt),
                    n.indexOf("wheel") >= 0 && I(E, "wheel", ne, x, Tt),
                    ((n.indexOf("touch") >= 0 && m) ||
                      n.indexOf("pointer") >= 0) &&
                      (I(E, T[0], Jt, x, Tt),
                      I(Gt, T[2], Zt),
                      I(Gt, T[3], Zt),
                      St && I(E, "click", Yt, !1, !0),
                      Et && I(E, "click", oe),
                      gt && I(Gt, "gesturestart", te),
                      mt && I(Gt, "gestureend", ee),
                      ut && I(E, y + "enter", se),
                      ct && I(E, y + "leave", ae),
                      ht && I(E, y + "move", ie)),
                    (It.isEnabled = !0),
                    t && t.type && Jt(t),
                    vt && vt(It)),
                  It
                );
              }),
              (It.disable = function () {
                It.isEnabled &&
                  (A.filter(function (t) {
                    return t !== It && O(t.target);
                  }).length || P($t ? Gt : E, "scroll", N),
                  It.isPressed &&
                    (It._vx.reset(),
                    It._vy.reset(),
                    P(pt ? E : Gt, T[1], Qt, !0)),
                  P($t ? Gt : E, "scroll", re, Tt),
                  P(E, "wheel", ne, Tt),
                  P(E, T[0], Jt, Tt),
                  P(Gt, T[2], Zt),
                  P(Gt, T[3], Zt),
                  P(E, "click", Yt, !0),
                  P(E, "click", oe),
                  P(Gt, "gesturestart", te),
                  P(Gt, "gestureend", ee),
                  P(E, y + "enter", se),
                  P(E, y + "leave", ae),
                  P(E, y + "move", ie),
                  (It.isEnabled = It.isPressed = It.isDragging = !1),
                  bt && bt(It));
              }),
              (It.kill = It.revert =
                function () {
                  It.disable();
                  var i = A.indexOf(It);
                  (i >= 0 && A.splice(i, 1), D === It && (D = 0));
                }),
              A.push(It),
              pt && O(E) && (D = It),
              It.enable(M));
          }),
          (e = t),
          (r = [
            {
              key: "velocityX",
              get: function () {
                return this._vx.getVelocity();
              },
            },
            {
              key: "velocityY",
              get: function () {
                return this._vy.getVelocity();
              },
            },
          ]) && n(e.prototype, r),
          E && n(e, E),
          t
        );
      })();
      ((W.version = "3.11.5"),
        (W.create = function (t) {
          return new W(t);
        }),
        (W.register = z),
        (W.getAll = function () {
          return A.slice();
        }),
        (W.getById = function (t) {
          return A.filter(function (e) {
            return e.vars.id === t;
          })[0];
        }),
        _() && o.registerPlugin(W));
      var X,
        Q,
        J,
        Z,
        tt,
        et,
        nt,
        it,
        st,
        at,
        ot,
        lt,
        ut,
        ct,
        ht,
        ft,
        pt,
        gt,
        mt,
        yt,
        vt,
        bt,
        Et,
        Dt,
        Tt,
        St,
        _t,
        wt,
        At,
        xt,
        Lt,
        kt,
        Ct,
        Rt,
        Ot = 1,
        It = Date.now,
        Pt = It(),
        Ft = 0,
        Mt = 0,
        Nt = function t() {
          return Mt && requestAnimationFrame(t);
        },
        Bt = function () {
          return (ct = 1);
        },
        Ut = function () {
          return (ct = 0);
        },
        jt = function (t) {
          return t;
        },
        $t = function (t) {
          return Math.round(1e5 * t) / 1e5 || 0;
        },
        Gt = function () {
          return "undefined" != typeof window;
        },
        Kt = function () {
          return X || (Gt() && (X = window.gsap) && X.registerPlugin && X);
        },
        Ht = function (t) {
          return !!~nt.indexOf(t);
        },
        Vt = function (element) {
          return (
            R(element, "getBoundingClientRect") ||
            (Ht(element)
              ? function () {
                  return (
                    (nr.width = J.innerWidth),
                    (nr.height = J.innerHeight),
                    nr
                  );
                }
              : function () {
                  return ye(element);
                })
          );
        },
        Yt = function (element, t) {
          var s = t.s,
            e = t.d2,
            r = t.d,
            a = t.a;
          return Math.max(
            0,
            (s = "scroll" + e) && (a = R(element, s))
              ? a() - Vt(element)()[r]
              : Ht(element)
                ? (tt[s] || et[s]) -
                  (J["inner" + e] || tt["client" + e] || et["client" + e])
                : element[s] - element["offset" + e],
          );
        },
        zt = function (t, e) {
          for (var i = 0; i < mt.length; i += 3)
            (!e || ~e.indexOf(mt[i + 1])) && t(mt[i], mt[i + 1], mt[i + 2]);
        },
        Wt = function (t) {
          return "string" == typeof t;
        },
        qt = function (t) {
          return "function" == typeof t;
        },
        Xt = function (t) {
          return "number" == typeof t;
        },
        Qt = function (t) {
          return "object" == typeof t;
        },
        Jt = function (t, e, r) {
          return t && t.progress(e ? 0 : 1) && r && t.pause();
        },
        Zt = function (t, e) {
          if (t.enabled) {
            var r = e(t);
            r && r.totalTime && (t.callbackAnimation = r);
          }
        },
        te = Math.abs,
        ee = "left",
        re = "right",
        ne = "bottom",
        ie = "width",
        se = "height",
        ae = "Right",
        oe = "Left",
        le = "Top",
        ue = "Bottom",
        ce = "padding",
        he = "margin",
        de = "Width",
        fe = "Height",
        pe = "px",
        ge = function (element) {
          return J.getComputedStyle(element);
        },
        me = function (t, e) {
          for (var p in e) p in t || (t[p] = e[p]);
          return t;
        },
        ye = function (element, t) {
          var e =
              t &&
              "matrix(1, 0, 0, 1, 0, 0)" !== ge(element)[ht] &&
              X.to(element, {
                x: 0,
                y: 0,
                xPercent: 0,
                yPercent: 0,
                rotation: 0,
                rotationX: 0,
                rotationY: 0,
                scale: 1,
                skewX: 0,
                skewY: 0,
              }).progress(1),
            r = element.getBoundingClientRect();
          return (e && e.progress(0).kill(), r);
        },
        ve = function (element, t) {
          var e = t.d2;
          return element["offset" + e] || element["client" + e] || 0;
        },
        be = function (t) {
          var p,
            a = [],
            e = t.labels,
            r = t.duration();
          for (p in e) a.push(e[p] / r);
          return a;
        },
        Ee = function (t) {
          var e = X.utils.snap(t),
            a =
              Array.isArray(t) &&
              t.slice(0).sort(function (a, b) {
                return a - b;
              });
          return a
            ? function (t, r, n) {
                var i;
                if ((void 0 === n && (n = 0.001), !r)) return e(t);
                if (r > 0) {
                  for (t -= n, i = 0; i < a.length; i++)
                    if (a[i] >= t) return a[i];
                  return a[i - 1];
                }
                for (i = a.length, t += n; i--; ) if (a[i] <= t) return a[i];
                return a[0];
              }
            : function (r, n, o) {
                void 0 === o && (o = 0.001);
                var l = e(r);
                return !n || Math.abs(l - r) < o || l - r < 0 == n < 0
                  ? l
                  : e(n < 0 ? r - t : r + t);
              };
        },
        De = function (t, element, e, r) {
          return e.split(",").forEach(function (e) {
            return t(element, e, r);
          });
        },
        Te = function (element, t, e, r, n) {
          return element.addEventListener(t, e, { passive: !r, capture: !!n });
        },
        Se = function (element, t, e, r) {
          return element.removeEventListener(t, e, !!r);
        },
        _e = function (t, e, r) {
          (r = r && r.wheelHandler) && (t(e, "wheel", r), t(e, "touchmove", r));
        },
        we = {
          startColor: "green",
          endColor: "red",
          indent: 0,
          fontSize: "16px",
          fontWeight: "normal",
        },
        Ae = { toggleActions: "play", anticipatePin: 0 },
        xe = { top: 0, left: 0, center: 0.5, bottom: 1, right: 1 },
        Le = function (t, e) {
          if (Wt(t)) {
            var r = t.indexOf("="),
              n = ~r ? +(t.charAt(r - 1) + 1) * parseFloat(t.substr(r + 1)) : 0;
            (~r &&
              (t.indexOf("%") > r && (n *= e / 100), (t = t.substr(0, r - 1))),
              (t =
                n +
                (t in xe
                  ? xe[t] * e
                  : ~t.indexOf("%")
                    ? (parseFloat(t) * e) / 100
                    : parseFloat(t) || 0)));
          }
          return t;
        },
        ke = function (t, e, r, n, o, l, c, h) {
          var d = o.startColor,
            f = o.endColor,
            m = o.fontSize,
            y = o.indent,
            v = o.fontWeight,
            E = Z.createElement("div"),
            D = Ht(r) || "fixed" === R(r, "pinType"),
            T = -1 !== t.indexOf("scroller"),
            S = D ? et : r,
            _ = -1 !== t.indexOf("start"),
            w = _ ? d : f,
            A =
              "border-color:" +
              w +
              ";font-size:" +
              m +
              ";color:" +
              w +
              ";font-weight:" +
              v +
              ";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";
          return (
            (A += "position:" + ((T || h) && D ? "fixed;" : "absolute;")),
            (T || h || !D) &&
              (A += (n === j ? re : ne) + ":" + (l + parseFloat(y)) + "px;"),
            c &&
              (A +=
                "box-sizing:border-box;text-align:left;width:" +
                c.offsetWidth +
                "px;"),
            (E._isStart = _),
            E.setAttribute(
              "class",
              "gsap-marker-" + t + (e ? " marker-" + e : ""),
            ),
            (E.style.cssText = A),
            (E.innerText = e || 0 === e ? t + "-" + e : t),
            S.children[0] ? S.insertBefore(E, S.children[0]) : S.appendChild(E),
            (E._offset = E["offset" + n.op.d2]),
            Ce(E, 0, n, _),
            E
          );
        },
        Ce = function (marker, t, e, r) {
          var n = { display: "block" },
            o = e[r ? "os2" : "p2"],
            l = e[r ? "p2" : "os2"];
          ((marker._isFlipped = r),
            (n[e.a + "Percent"] = r ? -100 : 0),
            (n[e.a] = r ? "1px" : 0),
            (n["border" + o + de] = 1),
            (n["border" + l + de] = 0),
            (n[e.p] = t + "px"),
            X.set(marker, n));
        },
        Re = [],
        Oe = {},
        Ie = function () {
          return It() - Ft > 34 && (Lt || (Lt = requestAnimationFrame(qe)));
        },
        Pe = function () {
          (!Et || !Et.isPressed || Et.startX > et.clientWidth) &&
            (x.cache++,
            Et ? Lt || (Lt = requestAnimationFrame(qe)) : qe(),
            Ft || je("scrollStart"),
            (Ft = It()));
        },
        Fe = function () {
          ((St = J.innerWidth), (Tt = J.innerHeight));
        },
        Me = function () {
          (x.cache++,
            !ut &&
              !bt &&
              !Z.fullscreenElement &&
              !Z.webkitFullscreenElement &&
              (!Dt ||
                St !== J.innerWidth ||
                Math.abs(J.innerHeight - Tt) > 0.25 * J.innerHeight) &&
              it.restart(!0));
        },
        Ne = {},
        Be = [],
        Ue = function t() {
          return Se(ur, "scrollEnd", t) || Ye(!0);
        },
        je = function (t) {
          return (
            (Ne[t] &&
              Ne[t].map(function (t) {
                return t();
              })) ||
            Be
          );
        },
        $e = [],
        Ge = function (t) {
          for (var i = 0; i < $e.length; i += 5)
            (!t || ($e[i + 4] && $e[i + 4].query === t)) &&
              (($e[i].style.cssText = $e[i + 1]),
              $e[i].getBBox && $e[i].setAttribute("transform", $e[i + 2] || ""),
              ($e[i + 3].uncache = 1));
        },
        Ke = function (t, e) {
          var r;
          for (ft = 0; ft < Re.length; ft++)
            !(r = Re[ft]) ||
              (e && r._ctx !== e) ||
              (t ? r.kill(1) : r.revert(!0, !0));
          (e && Ge(e), e || je("revert"));
        },
        He = function (t, e) {
          (x.cache++,
            (e || !kt) &&
              x.forEach(function (t) {
                return qt(t) && t.cacheID++ && (t.rec = 0);
              }),
            Wt(t) && (J.history.scrollRestoration = At = t));
        },
        Ve = 0,
        Ye = function (t, e) {
          if (!Ft || t) {
            ((kt = ur.isRefreshing = !0),
              x.forEach(function (t) {
                return qt(t) && t.cacheID++ && (t.rec = t());
              }));
            var r = je("refreshInit");
            (yt && ur.sort(),
              e || Ke(),
              x.forEach(function (t) {
                qt(t) &&
                  (t.smooth && (t.target.style.scrollBehavior = "auto"), t(0));
              }),
              Re.slice(0).forEach(function (t) {
                return t.refresh();
              }),
              Re.forEach(function (t, i) {
                if (t._subPinOffset && t.pin) {
                  var e = t.vars.horizontal ? "offsetWidth" : "offsetHeight",
                    r = t.pin[e];
                  (t.revert(!0, 1),
                    t.adjustPinSpacing(t.pin[e] - r),
                    t.refresh());
                }
              }),
              Re.forEach(function (t) {
                return (
                  "max" === t.vars.end &&
                  t.setPositions(
                    t.start,
                    Math.max(t.start + 1, Yt(t.scroller, t._dir)),
                  )
                );
              }),
              r.forEach(function (t) {
                return t && t.render && t.render(-1);
              }),
              x.forEach(function (t) {
                qt(t) &&
                  (t.smooth &&
                    requestAnimationFrame(function () {
                      return (t.target.style.scrollBehavior = "smooth");
                    }),
                  t.rec && t(t.rec));
              }),
              He(At, 1),
              it.pause(),
              Ve++,
              (kt = 2),
              qe(2),
              Re.forEach(function (t) {
                return qt(t.vars.onRefresh) && t.vars.onRefresh(t);
              }),
              (kt = ur.isRefreshing = !1),
              je("refresh"));
          } else Te(ur, "scrollEnd", Ue);
        },
        ze = 0,
        We = 1,
        qe = function (t) {
          if (!kt || 2 === t) {
            ((ur.isUpdating = !0), Rt && Rt.update(0));
            var e = Re.length,
              time = It(),
              r = time - Pt >= 50,
              n = e && Re[0].scroll();
            if (
              ((We = ze > n ? -1 : 1),
              kt || (ze = n),
              r &&
                (Ft && !ct && time - Ft > 200 && ((Ft = 0), je("scrollEnd")),
                (ot = Pt),
                (Pt = time)),
              We < 0)
            ) {
              for (ft = e; ft-- > 0; ) Re[ft] && Re[ft].update(0, r);
              We = 1;
            } else for (ft = 0; ft < e; ft++) Re[ft] && Re[ft].update(0, r);
            ur.isUpdating = !1;
          }
          Lt = 0;
        },
        Xe = [
          ee,
          "top",
          ne,
          re,
          he + ue,
          he + ae,
          he + le,
          he + oe,
          "display",
          "flexShrink",
          "float",
          "zIndex",
          "gridColumnStart",
          "gridColumnEnd",
          "gridRowStart",
          "gridRowEnd",
          "gridArea",
          "justifySelf",
          "alignSelf",
          "placeSelf",
          "order",
        ],
        Qe = Xe.concat([
          ie,
          se,
          "boxSizing",
          "max" + de,
          "max" + fe,
          "position",
          he,
          ce,
          ce + le,
          ce + ae,
          ce + ue,
          ce + oe,
        ]),
        Je = function (t, e, r, n) {
          if (!t._gsap.swappedIn) {
            for (var p, i = Xe.length, o = e.style, l = t.style; i--; )
              o[(p = Xe[i])] = r[p];
            ((o.position = "absolute" === r.position ? "absolute" : "relative"),
              "inline" === r.display && (o.display = "inline-block"),
              (l[ne] = l[re] = "auto"),
              (o.flexBasis = r.flexBasis || "auto"),
              (o.overflow = "visible"),
              (o.boxSizing = "border-box"),
              (o[ie] = ve(t, U) + pe),
              (o[se] = ve(t, j) + pe),
              (o[ce] = l[he] = l.top = l[ee] = "0"),
              er(n),
              (l[ie] = l["max" + de] = r[ie]),
              (l[se] = l["max" + fe] = r[se]),
              (l[ce] = r[ce]),
              t.parentNode !== e &&
                (t.parentNode.insertBefore(e, t), e.appendChild(t)),
              (t._gsap.swappedIn = !0));
          }
        },
        Ze = /([A-Z])/g,
        er = function (t) {
          if (t) {
            var p,
              e,
              style = t.t.style,
              r = t.length,
              i = 0;
            for ((t.t._gsap || X.core.getCache(t.t)).uncache = 1; i < r; i += 2)
              ((e = t[i + 1]),
                (p = t[i]),
                e
                  ? (style[p] = e)
                  : style[p] &&
                    style.removeProperty(p.replace(Ze, "-$1").toLowerCase()));
          }
        },
        rr = function (element) {
          for (
            var t = Qe.length, style = element.style, e = [], i = 0;
            i < t;
            i++
          )
            e.push(Qe[i], style[Qe[i]]);
          return ((e.t = element), e);
        },
        nr = { left: 0, top: 0 },
        ir = function (t, e, r, n, o, marker, l, c, h, d, f, m, y) {
          (qt(t) && (t = t(c)),
            Wt(t) &&
              "max" === t.substr(0, 3) &&
              (t = m + ("=" === t.charAt(4) ? Le("0" + t.substr(3), r) : 0)));
          var v,
            E,
            element,
            time = y ? y.time() : 0;
          if ((y && y.seek(0), Xt(t)))
            (y &&
              (t = X.utils.mapRange(
                y.scrollTrigger.start,
                y.scrollTrigger.end,
                0,
                m,
                t,
              )),
              l && Ce(l, r, n, !0));
          else {
            qt(e) && (e = e(c));
            var D,
              T,
              S,
              _,
              w = (t || "0").split(" ");
            ((element = $(e) || et),
              ((D = ye(element) || {}) && (D.left || D.top)) ||
                "none" !== ge(element).display ||
                ((_ = element.style.display),
                (element.style.display = "block"),
                (D = ye(element)),
                _
                  ? (element.style.display = _)
                  : element.style.removeProperty("display")),
              (T = Le(w[0], D[n.d])),
              (S = Le(w[1] || "0", r)),
              (t = D[n.p] - h[n.p] - d + T + o - S),
              l && Ce(l, S, n, r - S < 20 || (l._isStart && S > 20)),
              (r -= r - S));
          }
          if (marker) {
            var A = t + r,
              x = marker._isStart;
            ((v = "scroll" + n.d2),
              Ce(
                marker,
                A,
                n,
                (x && A > 20) ||
                  (!x &&
                    (f ? Math.max(et[v], tt[v]) : marker.parentNode[v]) <=
                      A + 1),
              ),
              f &&
                ((h = ye(l)),
                f &&
                  (marker.style[n.op.p] =
                    h[n.op.p] - n.op.m - marker._offset + pe)));
          }
          return (
            y &&
              element &&
              ((v = ye(element)),
              y.seek(m),
              (E = ye(element)),
              (y._caScrollDist = v[n.p] - E[n.p]),
              (t = (t / y._caScrollDist) * m)),
            y && y.seek(time),
            y ? t : Math.round(t)
          );
        },
        sr = /(webkit|moz|length|cssText|inset)/i,
        ar = function (element, t, e, r) {
          if (element.parentNode !== t) {
            var p,
              n,
              style = element.style;
            if (t === et) {
              for (p in ((element._stOrig = style.cssText), (n = ge(element))))
                +p ||
                  sr.test(p) ||
                  !n[p] ||
                  "string" != typeof style[p] ||
                  "0" === p ||
                  (style[p] = n[p]);
              ((style.top = e), (style.left = r));
            } else style.cssText = element._stOrig;
            ((X.core.getCache(element).uncache = 1), t.appendChild(element));
          }
        },
        or = function (t, e, r) {
          var n = e,
            o = n;
          return function (e) {
            var l = Math.round(t());
            return (
              l !== n &&
                l !== o &&
                Math.abs(l - n) > 3 &&
                Math.abs(l - o) > 3 &&
                ((e = l), r && r()),
              (o = n),
              (n = e),
              e
            );
          };
        },
        lr = function (t, e) {
          var r = G(t, e),
            n = "_scroll" + e.p2,
            o = function e(o, l, c, h, d) {
              var f = e.tween,
                m = l.onComplete,
                y = {};
              c = c || r();
              var v = or(r, c, function () {
                (f.kill(), (e.tween = 0));
              });
              return (
                (d = (h && d) || 0),
                (h = h || o - c),
                f && f.kill(),
                Math.round(c),
                (l[n] = o),
                (l.modifiers = y),
                (y[n] = function () {
                  return v(c + h * f.ratio + d * f.ratio * f.ratio);
                }),
                (l.onUpdate = function () {
                  (x.cache++, qe());
                }),
                (l.onComplete = function () {
                  ((e.tween = 0), m && m.call(f));
                }),
                (f = e.tween = X.to(t, l))
              );
            };
          return (
            (t[n] = r),
            (r.wheelHandler = function () {
              return o.tween && o.tween.kill() && (o.tween = 0);
            }),
            Te(t, "wheel", r.wheelHandler),
            ur.isTouch && Te(t, "touchmove", r.wheelHandler),
            o
          );
        },
        ur = (function () {
          function t(e, r) {
            (Q ||
              t.register(X) ||
              console.warn("Please gsap.registerPlugin(ScrollTrigger)"),
              this.init(e, r));
          }
          return (
            (t.prototype.init = function (e, r) {
              if (
                ((this.progress = this.start = 0),
                this.vars && this.kill(!0, !0),
                Mt)
              ) {
                var n,
                  o,
                  l,
                  c,
                  h,
                  d,
                  f,
                  m,
                  y,
                  v,
                  E,
                  D,
                  T,
                  S,
                  _,
                  w,
                  A,
                  k,
                  C,
                  O,
                  I,
                  P,
                  F,
                  M,
                  N,
                  B,
                  K,
                  H,
                  V,
                  Y,
                  z,
                  W,
                  Q,
                  nt,
                  it,
                  lt,
                  ht,
                  pt,
                  gt,
                  mt,
                  element,
                  bt,
                  Et = (e = me(
                    Wt(e) || Xt(e) || e.nodeType ? { trigger: e } : e,
                    Ae,
                  )),
                  Dt = Et.onUpdate,
                  Tt = Et.toggleClass,
                  St = Et.id,
                  _t = Et.onToggle,
                  At = Et.onRefresh,
                  Lt = Et.scrub,
                  Pt = Et.trigger,
                  Nt = Et.pin,
                  Bt = Et.pinSpacing,
                  Ut = Et.invalidateOnRefresh,
                  Gt = Et.anticipatePin,
                  Kt = Et.onScrubComplete,
                  zt = Et.onSnapComplete,
                  ee = Et.once,
                  re = Et.snap,
                  ne = Et.pinReparent,
                  De = Et.pinSpacer,
                  _e = Et.containerAnimation,
                  xe = Et.fastScrollEnd,
                  Ce = Et.preventOverlaps,
                  Ie =
                    e.horizontal ||
                    (e.containerAnimation && !1 !== e.horizontal)
                      ? U
                      : j,
                  Fe = !Lt && 0 !== Lt,
                  Ne = $(e.scroller || J),
                  Be = X.core.getCache(Ne),
                  je = Ht(Ne),
                  $e =
                    "fixed" ===
                    ("pinType" in e
                      ? e.pinType
                      : R(Ne, "pinType") || (je && "fixed")),
                  Ge = [e.onEnter, e.onLeave, e.onEnterBack, e.onLeaveBack],
                  Ke = Fe && e.toggleActions.split(" "),
                  He = "markers" in e ? e.markers : Ae.markers,
                  ze = je ? 0 : parseFloat(ge(Ne)["border" + Ie.p2 + de]) || 0,
                  qe = this,
                  Xe =
                    e.onRefreshInit &&
                    function () {
                      return e.onRefreshInit(qe);
                    },
                  Qe = (function (t, e, r) {
                    var n = r.d,
                      o = r.d2,
                      a = r.a;
                    return (a = R(t, "getBoundingClientRect"))
                      ? function () {
                          return a()[n];
                        }
                      : function () {
                          return (e ? J["inner" + o] : t["client" + o]) || 0;
                        };
                  })(Ne, je, Ie),
                  Ze = (function (element, t) {
                    return !t || ~L.indexOf(element)
                      ? Vt(element)
                      : function () {
                          return nr;
                        };
                  })(Ne, je),
                  sr = 0,
                  or = 0,
                  ur = G(Ne, Ie);
                if (
                  (wt(qe),
                  (qe._dir = Ie),
                  (Gt *= 45),
                  (qe.scroller = Ne),
                  (qe.scroll = _e ? _e.time.bind(_e) : ur),
                  (c = ur()),
                  (qe.vars = e),
                  (r = r || e.animation),
                  "refreshPriority" in e &&
                    ((yt = 1), -9999 === e.refreshPriority && (Rt = qe)),
                  (Be.tweenScroll = Be.tweenScroll || {
                    top: lr(Ne, j),
                    left: lr(Ne, U),
                  }),
                  (qe.tweenTo = n = Be.tweenScroll[Ie.p]),
                  (qe.scrubDuration = function (t) {
                    (W = Xt(t) && t)
                      ? z
                        ? z.duration(t)
                        : (z = X.to(r, {
                            ease: "expo",
                            totalProgress: "+=0.001",
                            duration: W,
                            paused: !0,
                            onComplete: function () {
                              return Kt && Kt(qe);
                            },
                          }))
                      : (z && z.progress(1).kill(), (z = 0));
                  }),
                  r &&
                    ((r.vars.lazy = !1),
                    r._initted ||
                      (!1 !== r.vars.immediateRender &&
                        !1 !== e.immediateRender &&
                        r.duration() &&
                        r.render(0, !0, !0)),
                    (qe.animation = r.pause()),
                    (r.scrollTrigger = qe),
                    qe.scrubDuration(Lt),
                    z && z.resetTo && z.resetTo("totalProgress", 0),
                    (V = 0),
                    St || (St = r.vars.id)),
                  Re.push(qe),
                  re &&
                    ((Qt(re) && !re.push) || (re = { snapTo: re }),
                    "scrollBehavior" in et.style &&
                      X.set(je ? [et, tt] : Ne, { scrollBehavior: "auto" }),
                    x.forEach(function (t) {
                      return (
                        qt(t) &&
                        t.target === (je ? Z.scrollingElement || tt : Ne) &&
                        (t.smooth = !1)
                      );
                    }),
                    (l = qt(re.snapTo)
                      ? re.snapTo
                      : "labels" === re.snapTo
                        ? (function (t) {
                            return function (e) {
                              return X.utils.snap(be(t), e);
                            };
                          })(r)
                        : "labelsDirectional" === re.snapTo
                          ? ((mt = r),
                            function (t, e) {
                              return Ee(be(mt))(t, e.direction);
                            })
                          : !1 !== re.directional
                            ? function (t, e) {
                                return Ee(re.snapTo)(
                                  t,
                                  It() - or < 500 ? 0 : e.direction,
                                );
                              }
                            : X.utils.snap(re.snapTo)),
                    (Q = re.duration || { min: 0.1, max: 2 }),
                    (Q = Qt(Q) ? at(Q.min, Q.max) : at(Q, Q)),
                    (nt = X.delayedCall(re.delay || W / 2 || 0.1, function () {
                      var t = ur(),
                        e = It() - or < 500,
                        o = n.tween;
                      if (
                        !(e || Math.abs(qe.getVelocity()) < 10) ||
                        o ||
                        ct ||
                        sr === t
                      )
                        qe.isActive && sr !== t && nt.restart(!0);
                      else {
                        var progress = (t - d) / T,
                          c = r && !Fe ? r.totalProgress() : progress,
                          h = e ? 0 : ((c - Y) / (It() - ot)) * 1e3 || 0,
                          m = X.utils.clamp(
                            -progress,
                            1 - progress,
                            (te(h / 2) * h) / 0.185,
                          ),
                          y = progress + (!1 === re.inertia ? 0 : m),
                          v = at(0, 1, l(y, qe)),
                          E = Math.round(d + v * T),
                          D = re,
                          S = D.onStart,
                          _ = D.onInterrupt,
                          w = D.onComplete;
                        if (t <= f && t >= d && E !== t) {
                          if (o && !o._initted && o.data <= te(E - t)) return;
                          (!1 === re.inertia && (m = v - progress),
                            n(
                              E,
                              {
                                duration: Q(
                                  te(
                                    (0.185 * Math.max(te(y - c), te(v - c))) /
                                      h /
                                      0.05 || 0,
                                  ),
                                ),
                                ease: re.ease || "power3",
                                data: te(E - t),
                                onInterrupt: function () {
                                  return nt.restart(!0) && _ && _(qe);
                                },
                                onComplete: function () {
                                  (qe.update(),
                                    (sr = ur()),
                                    (V = Y =
                                      r && !Fe
                                        ? r.totalProgress()
                                        : qe.progress),
                                    zt && zt(qe),
                                    w && w(qe));
                                },
                              },
                              t,
                              m * T,
                              E - t - m * T,
                            ),
                            S && S(qe, n.tween));
                        }
                      }
                    }).pause())),
                  St && (Oe[St] = qe),
                  (gt =
                    (Pt = qe.trigger = $(Pt || Nt)) &&
                    Pt._gsap &&
                    Pt._gsap.stRevert) && (gt = gt(qe)),
                  (Nt = !0 === Nt ? Pt : $(Nt)),
                  Wt(Tt) && (Tt = { targets: Pt, className: Tt }),
                  Nt &&
                    (!1 === Bt ||
                      Bt === he ||
                      (Bt =
                        !(
                          !Bt &&
                          Nt.parentNode &&
                          Nt.parentNode.style &&
                          "flex" === ge(Nt.parentNode).display
                        ) && ce),
                    (qe.pin = Nt),
                    (o = X.core.getCache(Nt)).spacer
                      ? (S = o.pinState)
                      : (De &&
                          ((De = $(De)) &&
                            !De.nodeType &&
                            (De = De.current || De.nativeElement),
                          (o.spacerIsNative = !!De),
                          De && (o.spacerState = rr(De))),
                        (o.spacer = A = De || Z.createElement("div")),
                        A.classList.add("pin-spacer"),
                        St && A.classList.add("pin-spacer-" + St),
                        (o.pinState = S = rr(Nt))),
                    !1 !== e.force3D && X.set(Nt, { force3D: !0 }),
                    (qe.spacer = A = o.spacer),
                    (H = ge(Nt)),
                    (F = H[Bt + Ie.os2]),
                    (C = X.getProperty(Nt)),
                    (O = X.quickSetter(Nt, Ie.a, pe)),
                    Je(Nt, A, H),
                    (w = rr(Nt))),
                  He)
                ) {
                  ((D = Qt(He) ? me(He, we) : we),
                    (v = ke("scroller-start", St, Ne, Ie, D, 0)),
                    (E = ke("scroller-end", St, Ne, Ie, D, 0, v)),
                    (k = v["offset" + Ie.op.d2]));
                  var content = $(R(Ne, "content") || Ne);
                  ((m = this.markerStart =
                    ke("start", St, content, Ie, D, k, 0, _e)),
                    (y = this.markerEnd =
                      ke("end", St, content, Ie, D, k, 0, _e)),
                    _e && (pt = X.quickSetter([m, y], Ie.a, pe)),
                    $e ||
                      (L.length && !0 === R(Ne, "fixedMarkers")) ||
                      ((bt = ge((element = je ? et : Ne)).position),
                      (element.style.position =
                        "absolute" === bt || "fixed" === bt ? bt : "relative"),
                      X.set([v, E], { force3D: !0 }),
                      (N = X.quickSetter(v, Ie.a, pe)),
                      (K = X.quickSetter(E, Ie.a, pe))));
                }
                if (_e) {
                  var cr = _e.vars.onUpdate,
                    dr = _e.vars.onUpdateParams;
                  _e.eventCallback("onUpdate", function () {
                    (qe.update(0, 0, 1), cr && cr.apply(_e, dr || []));
                  });
                }
                ((qe.previous = function () {
                  return Re[Re.indexOf(qe) - 1];
                }),
                  (qe.next = function () {
                    return Re[Re.indexOf(qe) + 1];
                  }),
                  (qe.revert = function (t, e) {
                    if (!e) return qe.kill(!0);
                    var n = !1 !== t || !qe.enabled,
                      o = ut;
                    n !== qe.isReverted &&
                      (n &&
                        ((lt = Math.max(ur(), qe.scroll.rec || 0)),
                        (it = qe.progress),
                        (ht = r && r.progress())),
                      m &&
                        [m, y, v, E].forEach(function (t) {
                          return (t.style.display = n ? "none" : "block");
                        }),
                      n && ((ut = qe), qe.update(n)),
                      !Nt ||
                        (ne && qe.isActive) ||
                        (n
                          ? (function (t, e, r) {
                              er(r);
                              var n = t._gsap;
                              if (n.spacerIsNative) er(n.spacerState);
                              else if (t._gsap.swappedIn) {
                                var o = e.parentNode;
                                o && (o.insertBefore(t, e), o.removeChild(e));
                              }
                              t._gsap.swappedIn = !1;
                            })(Nt, A, S)
                          : Je(Nt, A, ge(Nt), M)),
                      n || qe.update(n),
                      (ut = o),
                      (qe.isReverted = n));
                  }),
                  (qe.refresh = function (o, l) {
                    if ((!ut && qe.enabled) || l)
                      if (Nt && o && Ft) Te(t, "scrollEnd", Ue);
                      else {
                        (!kt && Xe && Xe(qe),
                          (ut = qe),
                          (or = It()),
                          n.tween && (n.tween.kill(), (n.tween = 0)),
                          z && z.pause(),
                          Ut && r && r.revert({ kill: !1 }).invalidate(),
                          qe.isReverted || qe.revert(!0, !0),
                          (qe._subPinOffset = !1));
                        for (
                          var D,
                            x,
                            L,
                            k,
                            R,
                            O,
                            F,
                            N,
                            K,
                            H,
                            V,
                            Y = Qe(),
                            W = Ze(),
                            Q = _e ? _e.duration() : Yt(Ne, Ie),
                            J = T <= 0.01,
                            st = 0,
                            at = 0,
                            ot = e.end,
                            ct = e.endTrigger || Pt,
                            ft =
                              e.start ||
                              (0 !== e.start && Pt
                                ? Nt
                                  ? "0 0"
                                  : "0 100%"
                                : 0),
                            pt = (qe.pinnedContainer =
                              e.pinnedContainer && $(e.pinnedContainer)),
                            gt = (Pt && Math.max(0, Re.indexOf(qe))) || 0,
                            i = gt;
                          i--;
                        )
                          ((O = Re[i]).end || O.refresh(0, 1) || (ut = qe),
                            !(F = O.pin) ||
                              (F !== Pt && F !== Nt && F !== pt) ||
                              O.isReverted ||
                              (H || (H = []), H.unshift(O), O.revert(!0, !0)),
                            O !== Re[i] && (gt--, i--));
                        for (
                          qt(ft) && (ft = ft(qe)),
                            d =
                              ir(
                                ft,
                                Pt,
                                Y,
                                Ie,
                                ur(),
                                m,
                                v,
                                qe,
                                W,
                                ze,
                                $e,
                                Q,
                                _e,
                              ) || (Nt ? -0.001 : 0),
                            qt(ot) && (ot = ot(qe)),
                            Wt(ot) &&
                              !ot.indexOf("+=") &&
                              (~ot.indexOf(" ")
                                ? (ot = (Wt(ft) ? ft.split(" ")[0] : "") + ot)
                                : ((st = Le(ot.substr(2), Y)),
                                  (ot = Wt(ft)
                                    ? ft
                                    : (_e
                                        ? X.utils.mapRange(
                                            0,
                                            _e.duration(),
                                            _e.scrollTrigger.start,
                                            _e.scrollTrigger.end,
                                            d,
                                          )
                                        : d) + st),
                                  (ct = Pt))),
                            f =
                              Math.max(
                                d,
                                ir(
                                  ot || (ct ? "100% 0" : Q),
                                  ct,
                                  Y,
                                  Ie,
                                  ur() + st,
                                  y,
                                  E,
                                  qe,
                                  W,
                                  ze,
                                  $e,
                                  Q,
                                  _e,
                                ),
                              ) || -0.001,
                            T = f - d || ((d -= 0.01) && 0.001),
                            st = 0,
                            i = gt;
                          i--;
                        )
                          (F = (O = Re[i]).pin) &&
                            O.start - O._pinPush <= d &&
                            !_e &&
                            O.end > 0 &&
                            ((D = O.end - O.start),
                            ((F === Pt && O.start - O._pinPush < d) ||
                              F === pt) &&
                              !Xt(ft) &&
                              (st += D * (1 - O.progress)),
                            F === Nt && (at += D));
                        if (
                          ((d += st),
                          (f += st),
                          J &&
                            (it = X.utils.clamp(
                              0,
                              1,
                              X.utils.normalize(d, f, lt),
                            )),
                          (qe._pinPush = at),
                          m &&
                            st &&
                            (((D = {})[Ie.a] = "+=" + st),
                            pt && (D[Ie.p] = "-=" + ur()),
                            X.set([m, y], D)),
                          Nt)
                        )
                          ((D = ge(Nt)),
                            (k = Ie === j),
                            (L = ur()),
                            (I = parseFloat(C(Ie.a)) + at),
                            !Q &&
                              f > 1 &&
                              ((V = {
                                style: (V = (je ? Z.scrollingElement || tt : Ne)
                                  .style),
                                value: V["overflow" + Ie.a.toUpperCase()],
                              }).style["overflow" + Ie.a.toUpperCase()] =
                                "scroll"),
                            Je(Nt, A, D),
                            (w = rr(Nt)),
                            (x = ye(Nt, !0)),
                            (N = $e && G(Ne, k ? U : j)()),
                            Bt &&
                              (((M = [Bt + Ie.os2, T + at + pe]).t = A),
                              (i = Bt === ce ? ve(Nt, Ie) + T + at : 0) &&
                                M.push(Ie.d, i + pe),
                              er(M),
                              pt &&
                                Re.forEach(function (t) {
                                  t.pin === pt &&
                                    !1 !== t.vars.pinSpacing &&
                                    (t._subPinOffset = !0);
                                }),
                              $e && ur(lt)),
                            $e &&
                              (((R = {
                                top: x.top + (k ? L - d : N) + pe,
                                left: x.left + (k ? N : L - d) + pe,
                                boxSizing: "border-box",
                                position: "fixed",
                              })[ie] = R["max" + de] =
                                Math.ceil(x.width) + pe),
                              (R[se] = R["max" + fe] =
                                Math.ceil(x.height) + pe),
                              (R[he] =
                                R[he + le] =
                                R[he + ae] =
                                R[he + ue] =
                                R[he + oe] =
                                  "0"),
                              (R[ce] = D[ce]),
                              (R[ce + le] = D[ce + le]),
                              (R[ce + ae] = D[ce + ae]),
                              (R[ce + ue] = D[ce + ue]),
                              (R[ce + oe] = D[ce + oe]),
                              (_ = (function (t, e, r) {
                                for (
                                  var p, n = [], o = t.length, i = r ? 8 : 0;
                                  i < o;
                                  i += 2
                                )
                                  ((p = t[i]),
                                    n.push(p, p in e ? e[p] : t[i + 1]));
                                return ((n.t = t.t), n);
                              })(S, R, ne)),
                              kt && ur(0)),
                            r
                              ? ((K = r._initted),
                                vt(1),
                                r.render(r.duration(), !0, !0),
                                (P = C(Ie.a) - I + T + at),
                                (B = Math.abs(T - P) > 1),
                                $e && B && _.splice(_.length - 2, 2),
                                r.render(0, !0, !0),
                                K || r.invalidate(!0),
                                r.parent || r.totalTime(r.totalTime()),
                                vt(0))
                              : (P = T),
                            V &&
                              (V.value
                                ? (V.style["overflow" + Ie.a.toUpperCase()] =
                                    V.value)
                                : V.style.removeProperty("overflow-" + Ie.a)));
                        else if (Pt && ur() && !_e)
                          for (x = Pt.parentNode; x && x !== et; )
                            (x._pinOffset &&
                              ((d -= x._pinOffset), (f -= x._pinOffset)),
                              (x = x.parentNode));
                        (H &&
                          H.forEach(function (t) {
                            return t.revert(!1, !0);
                          }),
                          (qe.start = d),
                          (qe.end = f),
                          (c = h = kt ? lt : ur()),
                          _e || kt || (c < lt && ur(lt), (qe.scroll.rec = 0)),
                          qe.revert(!1, !0),
                          nt &&
                            ((sr = -1),
                            qe.isActive && ur(d + T * it),
                            nt.restart(!0)),
                          (ut = 0),
                          r &&
                            Fe &&
                            (r._initted || ht) &&
                            r.progress() !== ht &&
                            r.progress(ht, !0).render(r.time(), !0, !0),
                          (J || it !== qe.progress || _e) &&
                            (r &&
                              !Fe &&
                              r.totalProgress(
                                _e && d < -0.001 && !it
                                  ? X.utils.normalize(d, f, 0)
                                  : it,
                                !0,
                              ),
                            (qe.progress = (c - d) / T === it ? 0 : it)),
                          Nt &&
                            Bt &&
                            (A._pinOffset = Math.round(qe.progress * P)),
                          z && z.invalidate(),
                          At && !kt && At(qe));
                      }
                  }),
                  (qe.getVelocity = function () {
                    return ((ur() - h) / (It() - ot)) * 1e3 || 0;
                  }),
                  (qe.endAnimation = function () {
                    (Jt(qe.callbackAnimation),
                      r &&
                        (z
                          ? z.progress(1)
                          : r.paused()
                            ? Fe || Jt(r, qe.direction < 0, 1)
                            : Jt(r, r.reversed())));
                  }),
                  (qe.labelToScroll = function (label) {
                    return (
                      (r &&
                        r.labels &&
                        (d || qe.refresh() || d) +
                          (r.labels[label] / r.duration()) * T) ||
                      0
                    );
                  }),
                  (qe.getTrailing = function (t) {
                    var i = Re.indexOf(qe),
                      a =
                        qe.direction > 0
                          ? Re.slice(0, i).reverse()
                          : Re.slice(i + 1);
                    return (
                      Wt(t)
                        ? a.filter(function (e) {
                            return e.vars.preventOverlaps === t;
                          })
                        : a
                    ).filter(function (t) {
                      return qe.direction > 0 ? t.end <= d : t.start >= f;
                    });
                  }),
                  (qe.update = function (t, e, o) {
                    if (!_e || o || t) {
                      var l,
                        m,
                        y,
                        E,
                        D,
                        S,
                        x,
                        L = !0 === kt ? lt : qe.scroll(),
                        p = t ? 0 : (L - d) / T,
                        k = p < 0 ? 0 : p > 1 ? 1 : p || 0,
                        C = qe.progress;
                      if (
                        (e &&
                          ((h = c),
                          (c = _e ? ur() : L),
                          re &&
                            ((Y = V), (V = r && !Fe ? r.totalProgress() : k))),
                        Gt &&
                          !k &&
                          Nt &&
                          !ut &&
                          !Ot &&
                          Ft &&
                          d < L + ((L - h) / (It() - ot)) * Gt &&
                          (k = 1e-4),
                        k !== C && qe.enabled)
                      ) {
                        if (
                          ((E =
                            (D =
                              (l = qe.isActive = !!k && k < 1) !==
                              (!!C && C < 1)) || !!k != !!C),
                          (qe.direction = k > C ? 1 : -1),
                          (qe.progress = k),
                          E &&
                            !ut &&
                            ((m = k && !C ? 0 : 1 === k ? 1 : 1 === C ? 2 : 3),
                            Fe &&
                              ((y =
                                (!D && "none" !== Ke[m + 1] && Ke[m + 1]) ||
                                Ke[m]),
                              (x =
                                r &&
                                ("complete" === y ||
                                  "reset" === y ||
                                  y in r)))),
                          Ce &&
                            (D || x) &&
                            (x || Lt || !r) &&
                            (qt(Ce)
                              ? Ce(qe)
                              : qe.getTrailing(Ce).forEach(function (t) {
                                  return t.endAnimation();
                                })),
                          Fe ||
                            (!z || ut || Ot
                              ? r && r.totalProgress(k, !!ut)
                              : (z._dp._time - z._start !== z._time &&
                                  z.render(z._dp._time - z._start),
                                z.resetTo
                                  ? z.resetTo(
                                      "totalProgress",
                                      k,
                                      r._tTime / r._tDur,
                                    )
                                  : ((z.vars.totalProgress = k),
                                    z.invalidate().restart()))),
                          Nt)
                        )
                          if ((t && Bt && (A.style[Bt + Ie.os2] = F), $e)) {
                            if (E) {
                              if (
                                ((S =
                                  !t &&
                                  k > C &&
                                  f + 1 > L &&
                                  L + 1 >= Yt(Ne, Ie)),
                                ne)
                              )
                                if (t || (!l && !S)) ar(Nt, A);
                                else {
                                  var R = ye(Nt, !0),
                                    M = L - d;
                                  ar(
                                    Nt,
                                    et,
                                    R.top + (Ie === j ? M : 0) + pe,
                                    R.left + (Ie === j ? 0 : M) + pe,
                                  );
                                }
                              (er(l || S ? _ : w),
                                (B && k < 1 && l) ||
                                  O(I + (1 !== k || S ? 0 : P)));
                            }
                          } else O($t(I + P * k));
                        (re && !n.tween && !ut && !Ot && nt.restart(!0),
                          Tt &&
                            (D || (ee && k && (k < 1 || !xt))) &&
                            st(Tt.targets).forEach(function (t) {
                              return t.classList[l || ee ? "add" : "remove"](
                                Tt.className,
                              );
                            }),
                          Dt && !Fe && !t && Dt(qe),
                          E && !ut
                            ? (Fe &&
                                (x &&
                                  ("complete" === y
                                    ? r.pause().totalProgress(1)
                                    : "reset" === y
                                      ? r.restart(!0).pause()
                                      : "restart" === y
                                        ? r.restart(!0)
                                        : r[y]()),
                                Dt && Dt(qe)),
                              (!D && xt) ||
                                (_t && D && Zt(qe, _t),
                                Ge[m] && Zt(qe, Ge[m]),
                                ee && (1 === k ? qe.kill(!1, 1) : (Ge[m] = 0)),
                                D ||
                                  (Ge[(m = 1 === k ? 1 : 3)] && Zt(qe, Ge[m]))),
                              xe &&
                                !l &&
                                Math.abs(qe.getVelocity()) >
                                  (Xt(xe) ? xe : 2500) &&
                                (Jt(qe.callbackAnimation),
                                z
                                  ? z.progress(1)
                                  : Jt(r, "reverse" === y ? 1 : !k, 1)))
                            : Fe && Dt && !ut && Dt(qe));
                      }
                      if (K) {
                        var U = _e
                          ? (L / _e.duration()) * (_e._caScrollDist || 0)
                          : L;
                        (N(U + (v._isFlipped ? 1 : 0)), K(U));
                      }
                      pt && pt((-L / _e.duration()) * (_e._caScrollDist || 0));
                    }
                  }),
                  (qe.enable = function (e, r) {
                    qe.enabled ||
                      ((qe.enabled = !0),
                      Te(Ne, "resize", Me),
                      Te(je ? Z : Ne, "scroll", Pe),
                      Xe && Te(t, "refreshInit", Xe),
                      !1 !== e && ((qe.progress = it = 0), (c = h = sr = ur())),
                      !1 !== r && qe.refresh());
                  }),
                  (qe.getTween = function (t) {
                    return t && n ? n.tween : z;
                  }),
                  (qe.setPositions = function (t, e) {
                    (Nt &&
                      ((I += t - d),
                      (P += e - t - T),
                      Bt === ce && qe.adjustPinSpacing(e - t - T)),
                      (qe.start = d = t),
                      (qe.end = f = e),
                      (T = e - t),
                      qe.update());
                  }),
                  (qe.adjustPinSpacing = function (t) {
                    if (M && t) {
                      var i = M.indexOf(Ie.d) + 1;
                      ((M[i] = parseFloat(M[i]) + t + pe),
                        (M[1] = parseFloat(M[1]) + t + pe),
                        er(M));
                    }
                  }),
                  (qe.disable = function (e, r) {
                    if (
                      qe.enabled &&
                      (!1 !== e && qe.revert(!0, !0),
                      (qe.enabled = qe.isActive = !1),
                      r || (z && z.pause()),
                      (lt = 0),
                      o && (o.uncache = 1),
                      Xe && Se(t, "refreshInit", Xe),
                      nt &&
                        (nt.pause(),
                        n.tween && n.tween.kill() && (n.tween = 0)),
                      !je)
                    ) {
                      for (var i = Re.length; i--; )
                        if (Re[i].scroller === Ne && Re[i] !== qe) return;
                      (Se(Ne, "resize", Me), Se(Ne, "scroll", Pe));
                    }
                  }),
                  (qe.kill = function (t, n) {
                    (qe.disable(t, n),
                      z && !n && z.kill(),
                      St && delete Oe[St]);
                    var i = Re.indexOf(qe);
                    (i >= 0 && Re.splice(i, 1),
                      i === ft && We > 0 && ft--,
                      (i = 0),
                      Re.forEach(function (t) {
                        return t.scroller === qe.scroller && (i = 1);
                      }),
                      i || kt || (qe.scroll.rec = 0),
                      r &&
                        ((r.scrollTrigger = null),
                        t && r.revert({ kill: !1 }),
                        n || r.kill()),
                      m &&
                        [m, y, v, E].forEach(function (t) {
                          return t.parentNode && t.parentNode.removeChild(t);
                        }),
                      Rt === qe && (Rt = 0),
                      Nt &&
                        (o && (o.uncache = 1),
                        (i = 0),
                        Re.forEach(function (t) {
                          return t.pin === Nt && i++;
                        }),
                        i || (o.spacer = 0)),
                      e.onKill && e.onKill(qe));
                  }),
                  qe.enable(!1, !1),
                  gt && gt(qe),
                  r && r.add && !T
                    ? X.delayedCall(0.01, function () {
                        return d || f || qe.refresh();
                      }) &&
                      (T = 0.01) &&
                      (d = f = 0)
                    : qe.refresh(),
                  Nt &&
                    (function () {
                      if (Ct !== Ve) {
                        var t = (Ct = Ve);
                        requestAnimationFrame(function () {
                          return t === Ve && Ye(!0);
                        });
                      }
                    })());
              } else this.update = this.refresh = this.kill = jt;
            }),
            (t.register = function (e) {
              return (
                Q ||
                  ((X = e || Kt()),
                  Gt() && window.document && t.enable(),
                  (Q = Mt)),
                Q
              );
            }),
            (t.defaults = function (t) {
              if (t) for (var p in t) Ae[p] = t[p];
              return Ae;
            }),
            (t.disable = function (t, e) {
              ((Mt = 0),
                Re.forEach(function (r) {
                  return r[e ? "kill" : "disable"](t);
                }),
                Se(J, "wheel", Pe),
                Se(Z, "scroll", Pe),
                clearInterval(lt),
                Se(Z, "touchcancel", jt),
                Se(et, "touchstart", jt),
                De(Se, Z, "pointerdown,touchstart,mousedown", Bt),
                De(Se, Z, "pointerup,touchend,mouseup", Ut),
                it.kill(),
                zt(Se));
              for (var i = 0; i < x.length; i += 3)
                (_e(Se, x[i], x[i + 1]), _e(Se, x[i], x[i + 2]));
            }),
            (t.enable = function () {
              if (
                ((J = window),
                (Z = document),
                (tt = Z.documentElement),
                (et = Z.body),
                X &&
                  ((st = X.utils.toArray),
                  (at = X.utils.clamp),
                  (wt = X.core.context || jt),
                  (vt = X.core.suppressOverwrites || jt),
                  (At = J.history.scrollRestoration || "auto"),
                  (ze = J.pageYOffset),
                  X.core.globals("ScrollTrigger", t),
                  et))
              ) {
                ((Mt = 1),
                  Nt(),
                  W.register(X),
                  (t.isTouch = W.isTouch),
                  (_t =
                    W.isTouch &&
                    /(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent)),
                  Te(J, "wheel", Pe),
                  (nt = [J, Z, tt, et]),
                  X.matchMedia
                    ? ((t.matchMedia = function (t) {
                        var p,
                          e = X.matchMedia();
                        for (p in t) e.add(p, t[p]);
                        return e;
                      }),
                      X.addEventListener("matchMediaInit", function () {
                        return Ke();
                      }),
                      X.addEventListener("matchMediaRevert", function () {
                        return Ge();
                      }),
                      X.addEventListener("matchMedia", function () {
                        (Ye(0, 1), je("matchMedia"));
                      }),
                      X.matchMedia("(orientation: portrait)", function () {
                        return (Fe(), Fe);
                      }))
                    : console.warn("Requires GSAP 3.11.0 or later"),
                  Fe(),
                  Te(Z, "scroll", Pe));
                var e,
                  i,
                  r = et.style,
                  n = r.borderTopStyle,
                  o = X.core.Animation.prototype;
                for (
                  o.revert ||
                    Object.defineProperty(o, "revert", {
                      value: function () {
                        return this.time(-0.01, !0);
                      },
                    }),
                    r.borderTopStyle = "solid",
                    e = ye(et),
                    j.m = Math.round(e.top + j.sc()) || 0,
                    U.m = Math.round(e.left + U.sc()) || 0,
                    n
                      ? (r.borderTopStyle = n)
                      : r.removeProperty("border-top-style"),
                    lt = setInterval(Ie, 250),
                    X.delayedCall(0.5, function () {
                      return (Ot = 0);
                    }),
                    Te(Z, "touchcancel", jt),
                    Te(et, "touchstart", jt),
                    De(Te, Z, "pointerdown,touchstart,mousedown", Bt),
                    De(Te, Z, "pointerup,touchend,mouseup", Ut),
                    ht = X.utils.checkPrefix("transform"),
                    Qe.push(ht),
                    Q = It(),
                    it = X.delayedCall(0.2, Ye).pause(),
                    mt = [
                      Z,
                      "visibilitychange",
                      function () {
                        var t = J.innerWidth,
                          e = J.innerHeight;
                        Z.hidden
                          ? ((pt = t), (gt = e))
                          : (pt === t && gt === e) || Me();
                      },
                      Z,
                      "DOMContentLoaded",
                      Ye,
                      J,
                      "load",
                      Ye,
                      J,
                      "resize",
                      Me,
                    ],
                    zt(Te),
                    Re.forEach(function (t) {
                      return t.enable(0, 1);
                    }),
                    i = 0;
                  i < x.length;
                  i += 3
                )
                  (_e(Se, x[i], x[i + 1]), _e(Se, x[i], x[i + 2]));
              }
            }),
            (t.config = function (e) {
              "limitCallbacks" in e && (xt = !!e.limitCallbacks);
              var r = e.syncInterval;
              ((r && clearInterval(lt)) || ((lt = r) && setInterval(Ie, r)),
                "ignoreMobileResize" in e &&
                  (Dt = 1 === t.isTouch && e.ignoreMobileResize),
                "autoRefreshEvents" in e &&
                  (zt(Se) || zt(Te, e.autoRefreshEvents || "none"),
                  (bt = -1 === (e.autoRefreshEvents + "").indexOf("resize"))));
            }),
            (t.scrollerProxy = function (t, e) {
              var r = $(t),
                i = x.indexOf(r),
                n = Ht(r);
              (~i && x.splice(i, n ? 6 : 2),
                e && (n ? L.unshift(J, e, et, e, tt, e) : L.unshift(r, e)));
            }),
            (t.clearMatchMedia = function (t) {
              Re.forEach(function (e) {
                return e._ctx && e._ctx.query === t && e._ctx.kill(!0, !0);
              });
            }),
            (t.isInViewport = function (element, t, e) {
              var r = (
                  Wt(element) ? $(element) : element
                ).getBoundingClientRect(),
                n = r[e ? ie : se] * t || 0;
              return e
                ? r.right - n > 0 && r.left + n < J.innerWidth
                : r.bottom - n > 0 && r.top + n < J.innerHeight;
            }),
            (t.positionInViewport = function (element, t, e) {
              Wt(element) && (element = $(element));
              var r = element.getBoundingClientRect(),
                n = r[e ? ie : se],
                o =
                  null == t
                    ? n / 2
                    : t in xe
                      ? xe[t] * n
                      : ~t.indexOf("%")
                        ? (parseFloat(t) * n) / 100
                        : parseFloat(t) || 0;
              return e
                ? (r.left + o) / J.innerWidth
                : (r.top + o) / J.innerHeight;
            }),
            (t.killAll = function (t) {
              if (
                (Re.slice(0).forEach(function (t) {
                  return "ScrollSmoother" !== t.vars.id && t.kill();
                }),
                !0 !== t)
              ) {
                var e = Ne.killAll || [];
                ((Ne = {}),
                  e.forEach(function (t) {
                    return t();
                  }));
              }
            }),
            t
          );
        })();
      ((ur.version = "3.11.5"),
        (ur.saveStyles = function (t) {
          return t
            ? st(t).forEach(function (t) {
                if (t && t.style) {
                  var i = $e.indexOf(t);
                  (i >= 0 && $e.splice(i, 5),
                    $e.push(
                      t,
                      t.style.cssText,
                      t.getBBox && t.getAttribute("transform"),
                      X.core.getCache(t),
                      wt(),
                    ));
                }
              })
            : $e;
        }),
        (ur.revert = function (t, e) {
          return Ke(!t, e);
        }),
        (ur.create = function (t, e) {
          return new ur(t, e);
        }),
        (ur.refresh = function (t) {
          return t ? Me() : (Q || ur.register()) && Ye(!0);
        }),
        (ur.update = function (t) {
          return ++x.cache && qe(!0 === t ? 2 : 0);
        }),
        (ur.clearScrollMemory = He),
        (ur.maxScroll = function (element, t) {
          return Yt(element, t ? U : j);
        }),
        (ur.getScrollFunc = function (element, t) {
          return G($(element), t ? U : j);
        }),
        (ur.getById = function (t) {
          return Oe[t];
        }),
        (ur.getAll = function () {
          return Re.filter(function (t) {
            return "ScrollSmoother" !== t.vars.id;
          });
        }),
        (ur.isScrolling = function () {
          return !!Ft;
        }),
        (ur.snapDirectional = Ee),
        (ur.addEventListener = function (t, e) {
          var a = Ne[t] || (Ne[t] = []);
          ~a.indexOf(e) || a.push(e);
        }),
        (ur.removeEventListener = function (t, e) {
          var a = Ne[t],
            i = a && a.indexOf(e);
          i >= 0 && a.splice(i, 1);
        }),
        (ur.batch = function (t, e) {
          var p,
            r = [],
            n = {},
            o = e.interval || 0.016,
            l = e.batchMax || 1e9,
            c = function (t, e) {
              var r = [],
                n = [],
                c = X.delayedCall(o, function () {
                  (e(r, n), (r = []), (n = []));
                }).pause();
              return function (t) {
                (r.length || c.restart(!0),
                  r.push(t.trigger),
                  n.push(t),
                  l <= r.length && c.progress(1));
              };
            };
          for (p in e)
            n[p] =
              "on" === p.substr(0, 2) && qt(e[p]) && "onRefreshInit" !== p
                ? c(0, e[p])
                : e[p];
          return (
            qt(l) &&
              ((l = l()),
              Te(ur, "refresh", function () {
                return (l = e.batchMax());
              })),
            st(t).forEach(function (t) {
              var e = {};
              for (p in n) e[p] = n[p];
              ((e.trigger = t), r.push(ur.create(e)));
            }),
            r
          );
        }));
      var cr,
        dr = function (t, e, r, n) {
          return (
            e > n ? t(n) : e < 0 && t(0),
            r > n ? (n - e) / (r - e) : r < 0 ? e / (e - r) : 1
          );
        },
        fr = function t(e, r) {
          (!0 === r
            ? e.style.removeProperty("touch-action")
            : (e.style.touchAction =
                !0 === r
                  ? "auto"
                  : r
                    ? "pan-" + r + (W.isTouch ? " pinch-zoom" : "")
                    : "none"),
            e === tt && t(et, r));
        },
        pr = { auto: 1, scroll: 1 },
        gr = function (t) {
          var e,
            r = t.event,
            n = t.target,
            o = t.axis,
            l = (r.changedTouches ? r.changedTouches[0] : r).target,
            c = l._gsap || X.core.getCache(l),
            time = It();
          if (!c._isScrollT || time - c._isScrollT > 2e3) {
            for (
              ;
              l &&
              l !== et &&
              ((l.scrollHeight <= l.clientHeight &&
                l.scrollWidth <= l.clientWidth) ||
                (!pr[(e = ge(l)).overflowY] && !pr[e.overflowX]));
            )
              l = l.parentNode;
            ((c._isScroll =
              l &&
              l !== n &&
              !Ht(l) &&
              (pr[(e = ge(l)).overflowY] || pr[e.overflowX])),
              (c._isScrollT = time));
          }
          (c._isScroll || "x" === o) &&
            (r.stopPropagation(), (r._gsapAllow = !0));
        },
        mr = function (t, e, r, n) {
          return W.create({
            target: t,
            capture: !0,
            debounce: !1,
            lockAxis: !0,
            type: e,
            onWheel: (n = n && gr),
            onPress: n,
            onDrag: n,
            onScroll: n,
            onEnable: function () {
              return r && Te(Z, W.eventTypes[0], vr, !1, !0);
            },
            onDisable: function () {
              return Se(Z, W.eventTypes[0], vr, !0);
            },
          });
        },
        yr = /(input|label|select|textarea)/i,
        vr = function (t) {
          var e = yr.test(t.target.tagName);
          (e || cr) && ((t._gsapAllow = !0), (cr = e));
        },
        Er = function (t) {
          (Qt(t) || (t = {}),
            (t.preventDefault = t.isNormalizer = t.allowClicks = !0),
            t.type || (t.type = "wheel,touch"),
            (t.debounce = !!t.debounce),
            (t.id = t.id || "normalizer"));
          var e,
            r,
            n,
            o,
            l,
            c,
            h,
            d,
            f = t,
            m = f.normalizeScrollX,
            y = f.momentum,
            v = f.allowNestedScroll,
            E = f.onRelease,
            D = $(t.target) || tt,
            T = X.core.globals().ScrollSmoother,
            S = T && T.get(),
            content =
              _t &&
              ((t.content && $(t.content)) ||
                (S && !1 !== t.content && !S.smooth() && S.content())),
            _ = G(D, j),
            w = G(D, U),
            A = 1,
            L =
              (W.isTouch && J.visualViewport
                ? J.visualViewport.scale * J.visualViewport.width
                : J.outerWidth) / J.innerWidth,
            k = 0,
            C = qt(y)
              ? function () {
                  return y(e);
                }
              : function () {
                  return y || 2.8;
                },
            R = mr(D, t.type, !0, v),
            O = function () {
              return (o = !1);
            },
            I = jt,
            P = jt,
            F = function () {
              ((r = Yt(D, j)),
                (P = at(_t ? 1 : 0, r)),
                m && (I = at(0, Yt(D, U))),
                (n = Ve));
            },
            M = function () {
              ((content._gsap.y =
                $t(parseFloat(content._gsap.y) + _.offset) + "px"),
                (content.style.transform =
                  "matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, " +
                  parseFloat(content._gsap.y) +
                  ", 0, 1)"),
                (_.offset = _.cacheID = 0));
            },
            N = function () {
              (F(),
                l.isActive() &&
                  l.vars.scrollY > r &&
                  (_() > r ? l.progress(1) && _(r) : l.resetTo("scrollY", r)));
            };
          return (
            content && X.set(content, { y: "+=0" }),
            (t.ignoreCheck = function (t) {
              return (
                (_t &&
                  "touchmove" === t.type &&
                  (function () {
                    if (o) {
                      requestAnimationFrame(O);
                      var t = $t(e.deltaY / 2),
                        r = P(_.v - t);
                      if (content && r !== _.v + _.offset) {
                        _.offset = r - _.v;
                        var n = $t(
                          (parseFloat(content && content._gsap.y) || 0) -
                            _.offset,
                        );
                        ((content.style.transform =
                          "matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, " +
                          n +
                          ", 0, 1)"),
                          (content._gsap.y = n + "px"),
                          (_.cacheID = x.cache),
                          qe());
                      }
                      return !0;
                    }
                    (_.offset && M(), (o = !0));
                  })()) ||
                (A > 1.05 && "touchstart" !== t.type) ||
                e.isGesturing ||
                (t.touches && t.touches.length > 1)
              );
            }),
            (t.onPress = function () {
              o = !1;
              var t = A;
              ((A = $t(
                ((J.visualViewport && J.visualViewport.scale) || 1) / L,
              )),
                l.pause(),
                t !== A && fr(D, A > 1.01 || (!m && "x")),
                (c = w()),
                (h = _()),
                F(),
                (n = Ve));
            }),
            (t.onRelease = t.onGestureStart =
              function (t, e) {
                if ((_.offset && M(), e)) {
                  x.cache++;
                  var n,
                    o,
                    c = C();
                  (m &&
                    ((o = (n = w()) + (0.05 * c * -t.velocityX) / 0.227),
                    (c *= dr(w, n, o, Yt(D, U))),
                    (l.vars.scrollX = I(o))),
                    (o = (n = _()) + (0.05 * c * -t.velocityY) / 0.227),
                    (c *= dr(_, n, o, Yt(D, j))),
                    (l.vars.scrollY = P(o)),
                    l.invalidate().duration(c).play(0.01),
                    ((_t && l.vars.scrollY >= r) || n >= r - 1) &&
                      X.to({}, { onUpdate: N, duration: c }));
                } else d.restart(!0);
                E && E(t);
              }),
            (t.onWheel = function () {
              (l._ts && l.pause(), It() - k > 1e3 && ((n = 0), (k = It())));
            }),
            (t.onChange = function (t, e, r, o, l) {
              if (
                (Ve !== n && F(),
                e &&
                  m &&
                  w(I(o[2] === e ? c + (t.startX - t.x) : w() + e - o[1])),
                r)
              ) {
                _.offset && M();
                var d = l[2] === r,
                  f = d ? h + t.startY - t.y : _() + r - l[1],
                  y = P(f);
                (d && f !== y && (h += y - f), _(y));
              }
              (r || e) && qe();
            }),
            (t.onEnable = function () {
              (fr(D, !m && "x"),
                ur.addEventListener("refresh", N),
                Te(J, "resize", N),
                _.smooth &&
                  ((_.target.style.scrollBehavior = "auto"),
                  (_.smooth = w.smooth = !1)),
                R.enable());
            }),
            (t.onDisable = function () {
              (fr(D, !0),
                Se(J, "resize", N),
                ur.removeEventListener("refresh", N),
                R.kill());
            }),
            (t.lockAxis = !1 !== t.lockAxis),
            ((e = new W(t)).iOS = _t),
            _t && !_() && _(1),
            _t && X.ticker.add(jt),
            (d = e._dc),
            (l = X.to(e, {
              ease: "power4",
              paused: !0,
              scrollX: m ? "+=0.1" : "+=0",
              scrollY: "+=0.1",
              modifiers: {
                scrollY: or(_, _(), function () {
                  return l.pause();
                }),
              },
              onUpdate: qe,
              onComplete: d.vars.onComplete,
            })),
            e
          );
        };
      ((ur.sort = function (t) {
        return Re.sort(
          t ||
            function (a, b) {
              return (
                -1e6 * (a.vars.refreshPriority || 0) +
                a.start -
                (b.start + -1e6 * (b.vars.refreshPriority || 0))
              );
            },
        );
      }),
        (ur.observe = function (t) {
          return new W(t);
        }),
        (ur.normalizeScroll = function (t) {
          if (void 0 === t) return Et;
          if (!0 === t && Et) return Et.enable();
          if (!1 === t) return Et && Et.kill();
          var e = t instanceof W ? t : Er(t);
          return (
            Et && Et.target === e.target && Et.kill(),
            Ht(e.target) && (Et = e),
            e
          );
        }),
        (ur.core = {
          _getVelocityProp: K,
          _inputObserver: mr,
          _scrollers: x,
          _proxies: L,
          bridge: {
            ss: function () {
              (Ft || je("scrollStart"), (Ft = It()));
            },
            ref: function () {
              return ut;
            },
          },
        }),
        Kt() && X.registerPlugin(ur));
    },
    function (t, e, r) {
      "use strict";
      (r.r(e),
        r.d(e, "ScrambleTextPlugin", function () {
          return _;
        }),
        r.d(e, "default", function () {
          return _;
        }));
      var n = /(?:^\s+|\s+$)/g,
        o =
          /([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;
      function l(t) {
        var e = t.nodeType,
          r = "";
        if (1 === e || 9 === e || 11 === e) {
          if ("string" == typeof t.textContent) return t.textContent;
          for (t = t.firstChild; t; t = t.nextSibling) r += l(t);
        } else if (3 === e || 4 === e) return t.nodeValue;
        return r;
      }
      function c(text, t, e, r) {
        if (
          ((text += ""),
          e && (text = text.trim ? text.trim() : text.replace(n, "")),
          t && "" !== t)
        )
          return text.replace(/>/g, "&gt;").replace(/</g, "&lt;").split(t);
        for (var l, c, h = [], d = text.length, i = 0; i < d; i++)
          ((((c = text.charAt(i)).charCodeAt(0) >= 55296 &&
            c.charCodeAt(0) <= 56319) ||
            (text.charCodeAt(i + 1) >= 65024 &&
              text.charCodeAt(i + 1) <= 65039)) &&
            ((l = ((text.substr(i, 12).split(o) || [])[1] || "").length || 2),
            (c = text.substr(i, l)),
            (h.emoji = 1),
            (i += l - 1)),
            h.push(
              ">" === c
                ? "&gt;"
                : "<" === c
                  ? "&lt;"
                  : !r ||
                      " " !== c ||
                      (" " !== text.charAt(i - 1) && " " !== text.charAt(i + 1))
                    ? c
                    : "&nbsp;",
            ));
        return h;
      }
      var h,
        d,
        f = (function () {
          function t(t) {
            ((this.chars = c(t)), (this.sets = []), (this.length = 50));
            for (var i = 0; i < 20; i++) this.sets[i] = v(80, this.chars);
          }
          return (
            (t.prototype.grow = function (t) {
              for (var i = 0; i < 20; i++)
                this.sets[i] += v(t - this.length, this.chars);
              this.length = t;
            }),
            t
          );
        })(),
        m = function () {
          return (
            h ||
            ("undefined" != typeof window &&
              (h = window.gsap) &&
              h.registerPlugin &&
              h)
          );
        },
        y = /\s+/g,
        v = function (t, e) {
          for (var r = e.length, s = ""; --t > -1; )
            s += e[~~(Math.random() * r)];
          return s;
        },
        E = "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
        D = E.toLowerCase(),
        T = {
          upperCase: new f(E),
          lowerCase: new f(D),
          upperAndLowerCase: new f(E + D),
        },
        S = function () {
          d = h = m();
        },
        _ = {
          version: "3.11.5",
          name: "scrambleText",
          register: function (t, e, r) {
            ((h = t), S());
          },
          init: function (t, e, r, n, o) {
            if (
              (d || S(),
              (this.prop =
                "innerHTML" in t
                  ? "innerHTML"
                  : "textContent" in t
                    ? "textContent"
                    : 0),
              this.prop)
            ) {
              ((this.target = t), "object" != typeof e && (e = { text: e }));
              var h,
                m,
                v,
                E,
                text = e.text || e.value || "",
                D = !1 !== e.trim,
                data = this;
              return (
                (data.delimiter = h = e.delimiter || ""),
                (data.original = c(
                  l(t).replace(y, " ").split("&nbsp;").join(""),
                  h,
                  D,
                )),
                ("{original}" !== text && !0 !== text && null != text) ||
                  (text = data.original.join(h)),
                (data.text = c((text || "").replace(y, " "), h, D)),
                (data.hasClass = !(!e.newClass && !e.oldClass)),
                (data.newClass = e.newClass),
                (data.oldClass = e.oldClass),
                (E = "" === h),
                (data.textHasEmoji = E && !!data.text.emoji),
                (data.charsHaveEmoji = !!e.chars && !!c(e.chars).emoji),
                (data.length = E
                  ? data.original.length
                  : data.original.join(h).length),
                (data.lengthDif =
                  (E ? data.text.length : data.text.join(h).length) -
                  data.length),
                (data.fillChar =
                  e.fillChar || (e.chars && ~e.chars.indexOf(" "))
                    ? "&nbsp;"
                    : ""),
                (data.charSet = v =
                  T[e.chars || "upperCase"] || new f(e.chars)),
                (data.speed = 0.05 / (e.speed || 1)),
                (data.prevScrambleTime = 0),
                (data.setIndex = (20 * Math.random()) | 0),
                (m = data.length + Math.max(data.lengthDif, 0)) > v.length &&
                  v.grow(m),
                (data.chars = v.sets[data.setIndex]),
                (data.revealDelay = e.revealDelay || 0),
                (data.tweenLength = !1 !== e.tweenLength),
                (data.tween = r),
                (data.rightToLeft = !!e.rightToLeft),
                data._props.push("scrambleText", "text"),
                1
              );
            }
          },
          render: function (t, data) {
            var i,
              e,
              r,
              n,
              o,
              l,
              h,
              d,
              f,
              m,
              y,
              v = data.target,
              E = data.prop,
              text = data.text,
              D = data.delimiter,
              T = data.tween,
              S = data.prevScrambleTime,
              _ = data.revealDelay,
              w = data.setIndex,
              A = data.chars,
              x = data.charSet,
              L = data.length,
              k = data.textHasEmoji,
              C = data.charsHaveEmoji,
              R = data.lengthDif,
              O = data.tweenLength,
              I = data.oldClass,
              P = data.newClass,
              F = data.rightToLeft,
              M = data.fillChar,
              N = data.speed,
              B = data.original,
              U = data.hasClass,
              j = text.length,
              time = T._time,
              $ = time - S;
            (_ &&
              (T._from && (time = T._dur - time),
              (t =
                0 === time
                  ? 0
                  : time < _
                    ? 1e-6
                    : time === T._dur
                      ? 1
                      : T._ease((time - _) / (T._dur - _)))),
              t < 0 ? (t = 0) : t > 1 && (t = 1),
              F && (t = 1 - t),
              (i = ~~(t * j + 0.5)),
              t
                ? (($ > N || $ < -N) &&
                    ((data.setIndex = w =
                      (w + ((19 * Math.random()) | 0)) % 20),
                    (data.chars = x.sets[w]),
                    (data.prevScrambleTime += $)),
                  (n = A))
                : (n = B.join(D)),
              (y = T._from ? t : 1 - t),
              (m = L + (O ? (T._from ? y * y * y : 1 - y * y * y) : 1) * R),
              F
                ? 1 !== t || (!T._from && "isFromStart" !== T.data)
                  ? ((h = text.slice(i).join(D)),
                    (r = C
                      ? c(n)
                          .slice(0, (m - (k ? c(h) : h).length + 0.5) | 0)
                          .join("")
                      : n.substr(0, (m - (k ? c(h) : h).length + 0.5) | 0)),
                    (n = h))
                  : ((r = ""), (n = B.join(D)))
                : ((r = text.slice(0, i).join(D)),
                  (e = (k ? c(r) : r).length),
                  (n = C
                    ? c(n)
                        .slice(e, (m + 0.5) | 0)
                        .join("")
                    : n.substr(e, (m - e + 0.5) | 0))),
              (h = U
                ? ((o = (d = F ? I : P) && 0 !== i)
                    ? "<span class='" + d + "'>"
                    : "") +
                  r +
                  (o ? "</span>" : "") +
                  ((l = (f = F ? P : I) && i !== j)
                    ? "<span class='" + f + "'>"
                    : "") +
                  D +
                  n +
                  (l ? "</span>" : "")
                : r + D + n),
              (v[E] =
                "&nbsp;" === M && ~h.indexOf("  ")
                  ? h.split("  ").join("&nbsp;&nbsp;")
                  : h));
          },
        };
      ((_.emojiSafeSplit = c), (_.getText = l), m() && h.registerPlugin(_));
    },
  ],
]);
